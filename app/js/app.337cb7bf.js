(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function o(t){return r.p+"js/"+({"lang/de_DE-json":"lang/de_DE-json","lang/en_CA-json":"lang/en_CA-json","lang/en_GB-json":"lang/en_GB-json","lang/es_MX-json":"lang/es_MX-json","lang/fr_CA-json":"lang/fr_CA-json","lang/fr_FR-json":"lang/fr_FR-json","lang/id_ID-json":"lang/id_ID-json","lang/pt_BR-json":"lang/pt_BR-json","lang/tr_TR-json":"lang/tr_TR-json"}[t]||t)+"."+{"lang/de_DE-json":"066e86a9","lang/en_CA-json":"a89deb61","lang/en_GB-json":"88b83e66","lang/es_MX-json":"02a5052a","lang/fr_CA-json":"73870a51","lang/fr_FR-json":"01166d46","lang/id_ID-json":"795f7e76","lang/pt_BR-json":"051b234e","lang/tr_TR-json":"d2441f83"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i=s[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=s[t]=[e,n]}));e.push(i[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(t);var l=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var i=s[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}s[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("4de4"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app"},[i("nav-view"),0!==t.currentTabId?i("nav-bar"):t._e(),t.bannerIsShown?t._e():i("banner-placeholder"),i("popups"),i("push")],1)},a=[],o=(i("a4d3"),i("4160"),i("0d03"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("e25e"),i("25f0"),i("159b"),i("ade3")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.loaderClass})},c=[],l=(i("c96a"),{name:"Loader",props:["small","extra-small"],computed:{loaderClass:function(){var t={"loader-circle":!0};return this.small&&(t["loader-circle_small"]=!0),this.extraSmall&&(t["loader-circle_extra-small"]=!0),t}}}),u=l,p=i("2877"),d=Object(p["a"])(u,r,c,!1,null,null,null),h=d.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popups"},t._l(t.popups,(function(t){return i("popup",{key:t.id,attrs:{popup:t}})})),1)},m=[],_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"popup",staticClass:"popup",class:t.classes},[i("div",{staticClass:"popup__bg"}),i("div",{staticClass:"popup__content"},[i("component-view",{attrs:{component:t.popup.component,props:t.popup.props}})],1)])},v=[],g=(i("c975"),function(){var t=document.createElement("div"),e={animation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var i in e)if(void 0!==t.style[i])return e[i]}()),b="Vendor/Android",y="Vendor/iOS";function C(){var t=navigator.userAgent;return-1!==t.indexOf(y)?1:-1!==t.indexOf(b)?2:3}var w={name:"Popup",props:["popup"],data:function(){return{hidden:!0,animationShow:!1,animationHide:!1}},computed:{classes:function(){var t={popup_hidden:this.hidden,"popup_animation-show":this.animationShow,"popup_animation-hide":this.animationHide};return this.popup.options.myClass&&(t[this.popup.options.myClass]=!0),t}},created:function(){var t=this;this.hidden=this.popup.options.showAnimated,this.popup.show=function(e){return e?t.showAnimated():(t.hidden=!1,new Promise((function(t){return t()})))},this.popup.hide=function(e){return void 0!==t.popup.component.hidePopupHandler&&t.popup.component.hidePopupHandler(),e?t.hideAnimated():(t.hidden=!0,new Promise((function(t){return t()})))}},mounted:function(){this.popup.options.showAnimated&&this.showAnimated()},methods:{onHide:function(){},showAnimated:function(){var t=this;return new Promise((function(e){t.hidden=!1,t.animationShow=!0;var i=function i(){t.$refs.popup&&t.$refs.popup.removeEventListener(g,i),t.animationShow=!1,e()};t.$refs.popup.addEventListener(g,i)}))},hideAnimated:function(){var t=this;return new Promise((function(e){t.hidden=!1,t.animationHide=!0;var i=function i(){t.$refs.popup&&t.$refs.popup.removeEventListener(g,i),t.animationHide=!1,t.hidden=!0,e()};t.$refs.popup.addEventListener(g,i)}))}}},O=w,k=Object(p["a"])(O,_,v,!1,null,null,null),P=k.exports,j={name:"Popups",components:{Popup:P},data:function(){return{}},computed:{popups:function(){return this.$store.state.popups.popups}}},$=j,S=Object(p["a"])($,f,m,!1,null,null,null),x=S.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.show?i("div",{staticClass:"push-notification-wrapper"},[i("div",{directives:[{name:"touch",rawName:"v-touch"}],ref:"notification",staticClass:"push-notification",class:[t.style],on:{click:t.onClick}},[t.ava?i("div",{staticClass:"push-notification__ava-wrapper"},[i("div",{staticClass:"push-notification__ava",style:{backgroundImage:"url("+t.ava+")"}})]):t._e(),i("div",{staticClass:"push-notification__content"},[t.title?i("div",{staticClass:"push-notification__title  ellipsis",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?i("div",{staticClass:"push-notification__text",domProps:{innerHTML:t._s(t.text)}}):t._e()]),t.ico?i("div",{staticClass:"push-notification__ico-wrapper"},[i("div",{class:t.ico})]):t._e()])]):t._e()])},L=[],M=(i("a434"),i("d4ec")),A=i("bee2");function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var N=function(){function t(e){Object(M["a"])(this,t),this._parent=e,this._handlers={},this._namespaces={}}return Object(A["a"])(t,[{key:"on",value:function(t,e,i){this._handlers[t]||(this._handlers[t]=[]);var n=D({callback:e},i);this._handlers[t].push(n)}},{key:"one",value:function(t,e){this.on(t,e,{one:1})}},{key:"off",value:function(t,e){for(var i in this._namespaces)this._namespaces[i].off(t,e);if(this._handlers[t])if(void 0!==e){for(var n=this._handlers[t],s=[],a=0;a<n.length;a++)n[a].callback===e&&s.push(a);for(a=0;a<s.length;a++)n.splice(s[a]-a,1)}else this._handlers[t]=[]}},{key:"emit",value:function(t,e){if(this._handlers[t]){for(var i=this._handlers[t],n=[],s=i.length-1;s>=0;s--)i[s].callback(e),i[s]&&i[s].one&&n.push(s);for(s=0;s<n.length;s++)i.splice(n[s]-s,1)}for(var a in this._namespaces)this._namespaces[a].emit(t,e)}},{key:"namespace",value:function(t){if(this.parent)throw new Error("Eventer: generic namespaces are not allowed!");return this._namespaces[t]||(this._namespaces[t]=new window.Eventer(this)),this._namespaces[t]}}]),t}(),T=new N;T.install=function(t){Object.defineProperty(t.prototype,"$push",{get:function(){return T}})};var F=T,V=i("aa4a"),U=(i("fb6a"),{});function R(t){if(U[t])return U[t];var e,i=["Moz","Webkit","Khtml","O","ms"],n=document.createElement("div").style,s=t.charAt(0).toUpperCase()+t.slice(1),a=i.length;if(t in n)return U[t]="";while(a--)i[a]+s in n&&(e=i[a]);return e?U[t]="-"+e.toLowerCase()+"-":t in n?U[t]="":void 0}var q=function(){function t(){Object(M["a"])(this,t),this.queue=[]}return Object(A["a"])(t,[{key:"next",value:function(t){t=H(t),this.queue.push(t),1===this.queue.length&&t().then(this._next.bind(this))}},{key:"_next",value:function(){this.queue.shift(),this.queue.length&&this.queue[0]().then(this._next.bind(this))}},{key:"clean",value:function(){this.queue=[]}}]),t}();function H(t){return function(){return new Promise((function(e){return t(e)}))}}var B={name:"Push",data:function(){return{show:!1,animating:!1,notificationObj:null,ava:null,ico:null,title:null,text:null,style:null,touched:!0}},created:function(){this.prefix=R("transform"),this.styleTransform=this.prefix+"transform",this.styleTransition=this.prefix+"transition",this.queue=new q,F.on("notification",this.handleNotification)},destroyed:function(){clearTimeout(this.autohideTimer)},methods:{onClick:function(){this.notificationObj&&this.hideNotification()},moveNotification:function(t,e){var i=this;return new Promise((function(n){e?(i.animating=!0,setTimeout((function(){i.$refs.notification.style[i.styleTransition]="all .3s ease-in-out",setTimeout((function(){i.$refs.notification.style[i.styleTransform]="translate3d(0, ".concat(t,", 0)"),setTimeout((function(){i.$refs.notification.style[i.styleTransition]="none",i.animating=!1,n()}),350)}))}),50)):(i.$refs.notification.style[i.styleTransform]="translate3d(0, ".concat(t,", 0)"),n())}))},hideNotification:function(){var t=this;return new Promise((function(e){t.show?t.moveNotification("-150%",!0).then((function(){t.show=!1,t.notificationObj=null,t.ava=null,t.title=null,t.text=null,t.ico=null,t.style=null,e()})):e()}))},handleNotification:function(t){switch(clearTimeout(this.autohideTimer),this.notificationObj=t,t.type){case"rating-rise":this.handleNotificationRatingRise(t.data);break;default:this.handleNotificationSimpleText(t.data);break}},handleNotificationSimpleText:function(t){var e=this;this.queue.next((function(i){e.hideNotification().then((function(){e.ava=t.ava,e.title=t.title,e.text=t.text,e.ico=t.ico,e.style=t.style,e.show=!0,e.type=null,e.moveNotification(0,!0).then((function(){e.setupGestures(),e.autohideTimer=setTimeout((function(){e.hideNotification()}),4e3),i()}))}))}))},handleNotificationRatingRise:function(t){var e=this;this.queue.next((function(i){e.hideNotification().then((function(){e.ava=null,e.title=t.title,e.text=t.text,e.ico=t.ico,e.style=t.style,e.show=!0,e.type="rating-rise",e.moveNotification(0,!0).then((function(){e.setupGestures(),e.autohideTimer=setTimeout((function(){e.hideNotification()}),4e3)})),i()}))}))},setupGestures:function(){var t,e,i=this,n=this,s=new V["GestureHandler"];s.onStart=function(){n.animating||(n.touched=!0,n.queue.next((function(i){return new Promise((function(n){t=n,e=i}))})))},s.onMove=function(t){if(!n.animating){var e=.4*t.getDiffY();n.moveNotification("".concat(e,"px"))}},s.onEnd=function(s){if(!n.animating){var a=s.getDiffY();a<0?i.hideNotification().then((function(){n.touched=!1,t&&(t(),t=null),e&&e()})):i.moveNotification(0,!0).then((function(){n.touched=!1,t&&(t(),t=null),e&&e()}))}};var a=new V["GestureRecognizer"](this.$refs.notification);a.addHandler(V["Gesture"].TYPE_VERTICAL,s)}}},z=B,W=Object(p["a"])(z,E,L,!1,null,null,null),G=W.exports,Y=i("2f62"),X=(i("45fc"),i("b0c0"),3),J=1,Z=0,Q=1,K=2,tt="m",et="right",it="left",nt="tab_feed",st="tab_incoming",at="tab_messenger",ot="tab_profile",rt=0,ct="placement_feed",lt="placement_profile",ut="placement_incoming",pt=1,dt=2,ht="Photo Feed",ft="Likes",mt="Like Locked",_t="Chat Request Limit",vt="My Profile",gt="Disable Ads",bt="Match Test",yt="android",Ct="ru_RU",wt="ru_RU",Ot=["ru_RU","en_US","en_CA","en_GB","es_MX","de_DE","fr_FR","fr_CA","id_ID","pt_BR","tr_TR"],kt=1,Pt=2,jt=C(),$t={},St={},xt=0;window.webviewBridgeJs=window.webViewBridgeJs={invokeMethod:function(t,e){"function"==typeof $t[t]&&$t[t].call(this,e)},callback:function(t,e){"function"==typeof St[t]&&(St[t].call(this,e),delete St[t])},goBack:function(){history.back()}};var Et,Lt={registerMethod:function(t,e){$t[t]=e},invokeNative:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i&&(St[++xt]=i),jt===kt){var n={name:t,params:e};i&&(n.callback_id=xt+""),window.webkit.messageHandlers.bridge.postMessage(JSON.stringify({invoke_method:n}))}else window.webviewBridgeNative&&"function"==typeof window.webviewBridgeNative.invokeMethod&&window.webviewBridgeNative.invokeMethod(t,JSON.stringify(e),i?xt:0)},isSupported:function(){return jt===kt||!!window.webviewBridgeNative}},Mt=!1,At={init:function(t){Et=t},show:function(){var t=Yt.state.vip.hasVip;!Et||t||Mt||(Lt.invokeNative("change_bottom_banner_state",{isShow:!0,placeId:Et.place_id,params:Et.params}),Mt=!0,Yt.commit("setBannerVisible",!0))},hide:function(){Et&&(Lt.invokeNative("change_bottom_banner_state",{isShow:!1,placeId:Et.place_id,params:Et.params}),Mt=!1,Yt.commit("setBannerVisible",!1))}},It=At,Dt={namespaced:!0,state:{popups:[]},getters:{},mutations:{addPopup:function(t,e){t.popups.push(e)},removePopup:function(t,e){for(var i=0;i<t.popups.length;i++)if(t.popups[i]===e){t.popups.splice(i,1);break}}},actions:{openPopup:function(t,e){var i=t.state,n=t.commit,s=e.popup,a=e.animated;s.options.showAnimated=a,n("addPopup",s);var o=i.popups,r=o.some((function(t){return t.options&&t.options.myClass&&"popup_extend"===t.options.myClass&&!t.options.ignoreBottomBanner}));r&&It.hide()},closePopup:function(t,e){for(var i=t.state,n=t.commit,s=e.popup,a=e.animated,o=e.onClose,r=i.popups,c=0;c<r.length;c++)if(r[c]===s){r[c].hide(a).then((function(){n("removePopup",s);var t=r.some((function(t){return t.options&&t.options.myClass&&"popup_extend"===t.options.myClass&&!t.options.ignoreBottomBanner}));t||It.show(),o&&o()}));break}}}},Nt={namespaced:!0,state:{visibleCards:[],isLoading:!1,filter:null,moderationStatus:0,dailyOpenLimit:0,feedLimit:null,counters:{chat:0,events:{incoming:0,mutual:0},usedesk_answers:0},viewedCards:0,viewedCardsAfterPhotoRequest:0,requestPhotoChains:[5,17],requestPhotoChainsIndex:0,likeActionLocked:!1,suggestions:[]},getters:{hasCards:function(t){return t.visibleCards.length>0},currentCard:function(t,e){return e.hasCards?t.visibleCards[0]:null},totalNewNotify:function(t){return t.counters.event.new+t.counters.mutual.new},isEmpty:function(t,e){return!t.isLoading&&!e.hasCards},hasLimit:function(t,e){return null!=t.feedLimit&&e.isEmpty},needUploadPhoto:function(t){return t.moderationStatus==Z||t.moderationStatus==Q},numCardsBeforeRequestPhoto:function(t){return t.requestPhotoChains[t.requestPhotoChainsIndex]},tabCounter:function(t,e){return function(e){switch(e){case st:return t.counters.events.incoming;case at:return t.counters.events.mutual+t.counters.chat;case ot:return t.counters.usedesk_answers}return 0}},numNotify:function(t){return t.counters.events.incoming+t.counters.events.mutual+t.counters.chat},canOpenDialog:function(t){return t.dailyOpenLimit>0},hasSupportAnswer:function(t){return t.counters.usedesk_answers}},mutations:{addCard:function(t,e){t.visibleCards.push(e)},removeCurrentCard:function(t){t.visibleCards.shift()},removeCardById:function(t,e){t.visibleCards=t.visibleCards.filter((function(t){return t.id!=e}))},clear:function(t){t.visibleCards.splice(0,t.visibleCards.length)},setLoading:function(t,e){t.isLoading=e},setCounters:function(t,e){t.counters=e},decreaseCounter:function(t,e){t.counters[e]&&t.counters[e]--},decreaseEventsCounter:function(t,e){t.counters.events[e]&&t.counters.events[e]--},setFilter:function(t,e){t.filter=e},setModerationStatus:function(t,e){t.moderationStatus=e},setDailyOpenLimit:function(t,e){t.dailyOpenLimit=e},setFeedLimit:function(t,e){t.feedLimit=e},resetFeedLimit:function(t){t.feedLimit=null},incrementViewedCards:function(t){t.viewedCards++,t.viewedCardsAfterPhotoRequest++},resetPhotoRequestCounter:function(t){t.viewedCardsAfterPhotoRequest=0,t.requestPhotoChainsIndex<t.requestPhotoChains.length-1&&t.requestPhotoChainsIndex++},setPhotoRequestInterval:function(t,e){t.requestPhotoChains=e},lockLikeAction:function(t){t.likeActionLocked=!0},unlockLikeAction:function(t){t.likeActionLocked=!1},setSuggestions:function(t,e){t.suggestions=e},filterSuggestions:function(t,e){t.suggestions=t.suggestions.filter((function(t){return t.id!=e}))},resetSupportCounter:function(t){t.counters.usedesk_answers=0}},actions:{init:function(t,e){var i=t.commit;i("setModerationStatus",e.avatar_status),e.feed&&e.feed.photo_request_interval&&i("setPhotoRequestInterval",e.feed.photo_request_interval)}}},Tt={namespaced:!0,state:{hasVip:!1,purchaseOffer:null,trial:null},getters:{trialIsAvailable:function(t){return null!=t.trial}},mutations:{setVip:function(t,e){t.hasVip=e},setPurchaseOffer:function(t,e){t.purchaseOffer=e},setTrial:function(t,e){t.trial=e}},actions:{init:function(t,e){var i=t.commit;i("setVip",e.has_vip),e.vip_offers&&(i("setPurchaseOffer",e.vip_offers.purchase),i("setTrial",e.vip_offers.trial))}}},Ft={namespaced:!0,state:{showLoader:!1,placements:{ios:{feed:52853,profile:52854,banner:52854},android:{feed:53125,profile:53124,banner:52854}}},getters:{placementIds:function(t){switch(C()){case kt:return t.placements.ios;case Pt:default:return t.placements.android}}},mutations:{showLoader:function(t){t.showLoader=!0},hideLoader:function(t){t.showLoader=!1}}},Vt=(i("e01a"),i("d28b"),i("99af"),i("3ca3"),i("ddb0"),i("2909")),Ut={dataSource:null,userId:0},Rt=Ut;function qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ht(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Bt={namespaced:!0,state:{contacts:[],contactsOffset:0,contactsLimit:20,contactsExtraParams:{},contactsIsLoading:!1,contactsHasNext:!0,openedContact:null,openedContactAllowedToCorrespond:!0,messages:[],messagesLimit:20,messagesHasPrev:!0,messagesIsLoading:!1,messageIsSending:!1},getters:{contactsRequestParams:function(t){return Ht({offset:t.contactsOffset,limit:t.contactsLimit},t.contactsExtraParams)},messagesRequestParams:function(t){var e={limit:t.messagesLimit,contactId:t.openedContact.id};return t.messages.length?e.before_time_id=t.messages[0].id:e.offset=0,e},getContactById:function(t){return function(e){for(var i=0;i<t.contacts.length;i++)if(parseInt(t.contacts[i].id)===e)return t.contacts[i]}}},mutations:{addNewContact:function(t,e){t.contacts=[e].concat(Object(Vt["a"])(t.contacts))},cleanMessages:function(t){t.messages=[],t.messagesOffset=0,t.messagesIsLoading=!1,t.messageIsSending=!1,t.messagesHasPrev=!0,t.openedContactAllowedToCorrespond=!0},readMineMessages:function(t,e){t.openedContact&&e==t.openedContact.id&&(t.openedContact.unread=!1);var i=!0,n=!1,s=void 0;try{for(var a,o=t.contacts[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var r=a.value;r.id==e&&(r.unread=!1)}}catch(c){n=!0,s=c}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}},resetNewCounter:function(t,e){t.openedContact&&e==t.openedContact.id&&(t.openedContact["new"]=0);for(var i=0;i<t.contacts.length;i++)if(t.contacts[i].id==e){n["default"].set(t.contacts[i],"new",0);break}}},actions:{loadContactsBatch:function(t){if(t.state.contactsHasNext)return t.state.contactsIsLoading=!0,Rt.dataSource.getContacts(t.getters.contactsRequestParams).then((function(e){var i;(i=t.state.contacts).push.apply(i,Object(Vt["a"])(e.contacts)),t.state.contactsIsLoading=!1,t.state.contactsOffset+=t.state.contactsLimit,t.state.contactsHasNext=e.hasNext}))},loadContactsWithNewExtraParams:function(t,e){return t.state.contactsExtraParams=e,t.state.contacts=[],t.state.contactsHasNext=!0,t.state.contactsOffset=0,t.dispatch("loadContactsBatch")},loadMessagesBatch:function(t){if(t.state.messagesHasPrev)return t.state.messagesIsLoading=!0,Rt.dataSource.getMessages(t.state.openedContact,t.getters.messagesRequestParams).then((function(e){var i;(i=t.state.messages).unshift.apply(i,Object(Vt["a"])(e.messages)),t.state.messagesIsLoading=!1,t.state.messagesHasPrev=e.hasPrev}))},addNewMessage:function(t,e){for(var i,s=e.contactId,a=e.message,o=0;o<t.state.contacts.length;o++)if(parseInt(t.state.contacts[o].id)===s){i=t.state.contacts[o],t.state.contacts.splice(o,1);break}if(i.lastmess=a,a.author_id===s){var r=i.new;n["default"].set(i,"new",r+1)}a.author_id===Rt.userId&&t.state.openedContact&&(t.state.openedContact.has_my_messages=!0),t.state.contacts=[i].concat(Object(Vt["a"])(t.state.contacts)),t.state.openedContact&&parseInt(t.state.openedContact.id)===s&&(t.state.messages.push(a),t.state.openedContact.lastmess=a,t.state.openedContact.unread=a.author_id!==s,a.author_id==s&&t.dispatch("markReaded",s))},postMessage:function(t,e){return Rt.dataSource.postMessage(Ht({contactId:t.state.openedContact.id},e))},openContact:function(t,e){t.commit("cleanMessages"),t.state.openedContact=e},closeContact:function(t){t.commit("cleanMessages"),t.state.openedContact=null},markReaded:function(t,e){return Rt.dataSource.markReaded(e).then((function(){t.commit("resetNewCounter",e)}))},removeContact:function(t,e){return Rt.dataSource.removeContact(e).then((function(){t.state.openedContact&&e===t.state.openedContact.id&&t.dispatch("closeContact");for(var i=0;i<t.state.contacts.length;i++){if(t.state.contacts[i].id===e){t.state.contacts.splice(i,1);break}t.state.contacts=Object(Vt["a"])(t.state.contacts)}}))}}};function zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Wt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Gt={namespaced:!0,state:{name:"",gender:"m",age:0,cityName:"",cityId:""},getters:{params:function(t){return Wt({},t)}},mutations:{setGender:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m";t.gender=e},setAge:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;t.age=e},setName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.name=e},setCityId:function(t,e){t.cityId=e},setCityName:function(t,e){t.cityName=e}},actions:{}};n["default"].use(Y["a"]);var Yt=new Y["a"].Store({state:{config:null,currentTabId:0,bannerIsShown:!0},getters:{},mutations:{updateUserAvatar:function(t,e){t.config.user.avatars=e},setNavigationTab:function(t,e){t.currentTabId=e},setBannerVisible:function(t,e){t.bannerIsShown=e}},actions:{},modules:{popups:Dt,feed:Nt,vip:Tt,interstitials:Ft,messenger:Bt,signup:Gt}}),Xt=i("dd66"),Jt=i.n(Xt),Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"meeting-feed"},[i("settings",{on:{filterMode:t.showFilter}}),t.hasLimit?i("feed-limit",{attrs:{limitData:t.feedLimit}}):t.isEmpty?i("empty-feed",{on:{filterMode:t.showFilter}}):[i("cards",{attrs:{cards:t.visibleCards},on:{likeAction:t.handleLikeAction,dislikeAction:t.handleDislikeAction,hideCard:t.removeCardFromDeck}})],i("transition",{attrs:{name:"fade"}},[t.filterMode?i("filter-setting",{on:{close:function(e){t.filterMode=!1}}}):t._e()],1)],2)},Qt=[],Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings"},[i("div",{staticClass:"settings__button",on:{click:function(e){return t.$emit("filterMode")}}},[t._v(t._s(t.$t("setting.filters"))+" "),i("i",{staticClass:"ico ico_sort"})])])},te=[],ee={name:"Settings"},ie=ee,ne=Object(p["a"])(ie,Kt,te,!1,null,null,null),se=ne.exports,ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cards"},[t.isCardsLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):t._e(),i("div",{staticClass:"cards__list"},t._l(t.cards,(function(e,n){return i("card",{key:e.id,attrs:{card:e,"is-current":0===n},on:{likeAction:function(e){return t.$emit("likeAction")},dislikeAction:function(e){return t.$emit("dislikeAction")},hideCard:function(e){return t.$emit("hideCard")},clickProfile:t.handleClickProfile}})})),1),i("transition",{attrs:{name:"fade-opacity"}},[t.visibleVipPromo?i("vip-card",{on:{hideCard:t.hiderVipCard}}):t._e()],1)],1)},oe=[],re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showing?i("div",{ref:"interactElement",staticClass:"card-item",class:{"card-item__is-current":t.isCurrent,"card-item__animated":t.interactAnimating},style:{transform:t.transformString}},[i("div",{staticClass:"card-item__photo",style:{backgroundImage:"url("+t.photoUrl+")"},on:{click:function(e){return t.$emit("clickProfile")}}}),i("div",{staticClass:"card-item__like card-item__indicator",style:t.isDraggedRight&&t.indicatorStyles},[t._v(" "+t._s(t.$t("card.like"))+" ")]),i("div",{staticClass:"card-item__dislike card-item__indicator",style:t.isDraggedLeft&&t.indicatorStyles},[t._v(" "+t._s(t.$t("card.dislike"))+" ")]),i("div",{staticClass:"card-item__extra"},[i("card-info",{attrs:{card:t.card},nativeOn:{click:function(e){return t.$emit("clickProfile")}}}),i("card-actions",{on:{like:t.likeAction,dislike:t.dislikeAction,message:t.sendMessage}})],1),t.card.additional_data?i("div",{staticClass:"card-item__additional",domProps:{innerHTML:t._s(t.card.additional_data)}}):t._e()]):t._e()},ce=[],le=(i("a9e3"),i("f00c"),i("fb3a")),ue=i.n(le);function pe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function de(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var he={data:function(){return{interactAnimating:!0,interactDragged:null,interactMaxRotation:0,interactLockXAxis:!1,interactLockYAxis:!1,interactLockSwipeLeft:!1,interactPosition:{x:0,y:0,rotation:0},interactOutOfSightXCoordinate:500,interactOutOfSightYCoordinate:600,interactYThreshold:150,interactXThreshold:100}},computed:{transformString:function(){if(!this.interactAnimating||this.interactDragged){var t=this.interactPosition,e=t.x,i=t.y,n=t.rotation;return"translate3D(".concat(e,"px, ").concat(i,"px, 0) rotate(").concat(n,"deg)")}return null}},mounted:function(){var t=this,e=this.$refs.interactElement;ue()(e).draggable({ignoreFrom:"button, .ignore-form",onstart:function(){t.interactAnimating=!1},onmove:function(e){var i=0,n=t.interactLockSwipeLeft&&t.interactPosition.x<=0&&e.dx<0;i=n?0:t.interactLockXAxis?0:(t.interactPosition.x||0)+e.dx;var s=t.interactLockYAxis?0:(t.interactPosition.y||0)+e.dy,a=t.interactMaxRotation*(i/t.interactXThreshold);a>t.interactMaxRotation?a=t.interactMaxRotation:a<-t.interactMaxRotation&&(a=-t.interactMaxRotation),t.interactSetPosition({x:i,y:s,rotation:a},!0)},onend:function(){var e=t.interactPosition,i=e.x,n=(e.y,t.interactXThreshold);t.interactAnimating=!0,i>n?t.draggedRight():i<-n?t.draggedLeft():t.interactSetPosition({x:0,y:0,rotation:0})}})},methods:{draggedRight:function(){},draggedLeft:function(){},interactSetPosition:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.x,n=t.y,s=t.rotation;Number.isFinite(i)&&(this.interactPosition.x=i),Number.isFinite(n)&&(this.interactPosition.y=n),Number.isFinite(s)&&(this.interactPosition.rotation=s),this.$emit("drag",de({},this.interactPosition,{isDragging:e}))},interactUnsetElement:function(){ue()(this.$refs.interactElement).unset(),this.interactDragged=!0}}},fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-info"},[i("div",{staticClass:"card-info__name-wrap ignore-form"},[i("div",{staticClass:"ellipsis"},[t._v(t._s(t.card.name))]),t.card.age?i("div",{staticClass:"card-info__age"},[t._v(", "+t._s(t.card.age))]):t._e()]),t.card.is_online?i("span",{staticClass:"online-status"}):t._e(),t._m(0)])},me=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"card-info__ico-info ignore-form"},[i("i",{staticClass:"ico ico_info"})])}],_e={name:"CardInfo",props:["card"]},ve=_e,ge=Object(p["a"])(ve,fe,me,!1,null,null,null),be=ge.exports,ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-actions"},[i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"card-actions__btn ignore-form",on:{click:function(e){return t.$emit("dislike")}}},[i("span",{staticClass:"card-actions__ico"},[i("dislike-icon")],1)]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"card-actions__btn card-actions__message ignore-form",on:{click:function(e){return t.$emit("message")}}},[i("span",{staticClass:"card-actions__ico"},[i("message-icon")],1)]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"card-actions__btn ignore-form",on:{click:function(e){return t.$emit("like")}}},[i("span",{staticClass:"card-actions__ico"},[i("like-icon")],1)])])},Ce=[],we={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"27",height:"24",viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{d:"M13.09 2.754C14.53 1.05 16.757 0 18.983 0c4.058 0 7.2 3.148 7.2 7.213 0 4.853-4.582 8.918-11.258 15.082L13.09 24l-1.833-1.705C4.451 16.262 0 12.197 0 7.213 0 3.148 3.142 0 7.2 0c2.225 0 4.45 1.05 5.89 2.754z",fill:"#F7AD1E"}})]))}},Oe={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("g",{attrs:{filter:"url(#action_dislike_svg__filter0_i)"}},[i("path",{attrs:{d:"M19.508 2.869l-7.13 7.13 7.13 7.131-2.377 2.377-7.13-7.13-7.132 7.13L.492 17.13 7.623 10 .493 2.868 2.868.492 10 7.622l7.131-7.13 2.377 2.377z",fill:"#DDD"}})]),i("defs",[i("filter",{attrs:{id:"action_dislike_svg__filter0_i",x:".492",y:".492",width:"19.015",height:"21.015",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[i("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),i("feBlend",{attrs:{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}}),i("feColorMatrix",{attrs:{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}}),i("feOffset",{attrs:{dy:"2"}}),i("feGaussianBlur",{attrs:{stdDeviation:"2"}}),i("feComposite",{attrs:{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}}),i("feColorMatrix",{attrs:{values:"0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 0.25 0"}}),i("feBlend",{attrs:{in2:"shape",result:"effect1_innerShadow"}})])])]))}},ke={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.123 22.528l-.706 1.445c-.146.299-.304.593-.475.878a6.986 6.986 0 001.005-.575l1.257-.866 1.345.723a11.52 11.52 0 005.45 1.367c3.08 0 5.957-1.191 8.133-3.367a11.408 11.408 0 003.368-8.13c0-3.073-1.192-5.955-3.367-8.13A11.412 11.412 0 0013.998 2.5c-3.08 0-5.957 1.191-8.133 3.367-4.192 4.19-4.493 10.888-.764 15.42l1.021 1.241zM.966 25.426c.833-.41 1.578-1.267 2.205-2.551-4.546-5.524-4.176-13.675.927-18.776A13.906 13.906 0 0113.999 0c3.742 0 7.256 1.46 9.901 4.105a13.908 13.908 0 014.1 9.898c0 3.735-1.455 7.253-4.1 9.898A13.906 13.906 0 0113.999 28c-2.323 0-4.604-.575-6.634-1.665-1.507 1.038-3.314 1.63-5.033 1.63-.346 0-.68-.03-.99-.076A1.3 1.3 0 01.25 26.792a1.31 1.31 0 01.716-1.366z",fill:"#F7AD1E"}}),i("circle",{attrs:{cx:"14",cy:"14",r:"1.5",fill:"#F7AD1E"}}),i("circle",{attrs:{cx:"18.5",cy:"14",r:"1.5",fill:"#F7AD1E"}}),i("circle",{attrs:{cx:"9.5",cy:"14",r:"1.5",fill:"#F7AD1E"}})]))}},Pe={name:"CardActions",components:{LikeIcon:we,DislikeIcon:Oe,MessageIcon:ke}},je=Pe,$e=Object(p["a"])(je,ye,Ce,!1,null,null,null),Se=$e.exports;function xe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ee(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Le=100,Me={name:"Card",mixins:[he],components:{CardInfo:be,CardActions:Se},data:function(){return{showing:!0,interactMaxRotation:15}},props:["card","isCurrent"],computed:Ee({photoUrl:function(){return this.card.avatars.s5},isDraggedLeft:function(){return!this.interactAnimating&&this.interactPosition.x<0},isDraggedRight:function(){return!this.interactAnimating&&this.interactPosition.x>0},absoluteDraggedDistance:function(){return Math.abs(this.interactPosition.x)},indicatorStyles:function(){return{opacity:Math.min(this.absoluteDraggedDistance/Le,1)}},dialogLockedByDailyLimit:function(){return!this.hasVip&&!this.card.is_open&&!this.canOpenDialog}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("feed",["likeActionLocked","viewedCardsAfterPhotoRequest"]),{},Object(Y["c"])("feed",["needUploadPhoto","numCardsBeforeRequestPhoto","canOpenDialog"])),mounted:function(){this.isCurrent&&this.trackViewEvent()},methods:Ee({draggedRight:function(){this.likeAction()},draggedLeft:function(){this.dislikeAction()},likeAction:function(){if(this.needUploadPhoto&&this.viewedCardsAfterPhotoRequest>=this.numCardsBeforeRequestPhoto)return yf.showPhotoUpload(this.card),this.interactSetPosition({x:0,y:0,rotation:0}),void this.lockLikeAction();this.playCard(),this.interactSetPosition({x:this.interactOutOfSightXCoordinate,rotation:this.interactMaxRotation}),this.$emit("likeAction"),this.hideCard()},dislikeAction:function(){this.likeActionLocked&&(this.unlockLikeAction(),this.resetPhotoRequestCounter()),this.playCard(),this.interactSetPosition({x:-this.interactOutOfSightXCoordinate,rotation:-this.interactMaxRotation}),this.$emit("dislikeAction"),this.hideCard()},playCard:function(){this.interactUnsetElement()},hideCard:function(){var t=this;setTimeout((function(){t.showing=!1,t.$emit("hideCard",t.card)}),300)},sendMessage:function(){this.dialogLockedByDailyLimit?yf.showMessageLimit(this.card):yf.openChatWithUser(this.card.id)},trackViewEvent:function(){if(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Photo Feed",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Photo Feed":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Photo Feed",ap_action:"View"}),this.card.photo&&0!==this.card.photo.length){var t=this.card.id,e=this.card.photo[0].id;this.$nativeStat.trackCommonEvent("photo_feed_view",{user_id:t,photo_id:e}),this.$nativeStat.trackAppsFlyerEvent("ap_photo_feed_view",{ap_user_id:t,ap_photo_id:e})}}},Object(Y["d"])("feed",["lockLikeAction","unlockLikeAction","resetPhotoRequestCounter"])),watch:{isCurrent:function(t){t&&this.trackViewEvent()}}},Ae=Me,Ie=Object(p["a"])(Ae,re,ce,!1,null,null,null),De=Ie.exports,Ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"interactElement",staticClass:"vip-card",class:t.cardClasses,style:{transform:t.transformString}},[i("div",{staticClass:"vip-card__title",domProps:{innerHTML:t._s(t.$t("card_vip.title"))}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",attrs:{disabled:t.isBuying},on:{click:t.showVipOffer}},[t._v(" "+t._s(t.$t("card_vip.btn"))+" ")]),i("transition",{attrs:{name:"bounce-scale"}},[t.enableClose?i("div",{staticClass:"vip-card__back ignore-form",on:{click:t.draggedLeft}},[i("i",{staticClass:"ico ico_exit-gray"})]):t._e()])],1)},Te=[],Fe={name:"VipCard",mixins:[he],data:function(){return{me:this.$store.state.config.user,isBuying:!1,enableClose:!1,interactMaxRotation:15}},computed:{cardClasses:function(){return[{"vip-card__animated":this.interactAnimating},"country_".concat(this.$store.state.config.country)]}},mounted:function(){var t=this;this.interactLockXAxis=this.interactLockYAxis=!0,setTimeout((function(){t.interactLockXAxis=t.interactLockYAxis=!1,t.enableClose=!0}),3e3),this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Photo Feed VIP Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Photo Feed VIP Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Photo Feed VIP Promo",ap_action:"View"})},methods:{showVipOffer:function(){var t=this;yf.showVipFullOffer({source:ht}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.success&&t.draggedRight()}))},draggedRight:function(){this.playCard(),this.interactSetPosition({x:this.interactOutOfSightXCoordinate,rotation:this.interactMaxRotation}),this.hideCard()},draggedLeft:function(){this.playCard(),this.interactSetPosition({x:-this.interactOutOfSightXCoordinate,rotation:-this.interactMaxRotation}),this.hideCard()},playCard:function(){this.interactUnsetElement()},hideCard:function(){var t=this;setTimeout((function(){t.$emit("hideCard")}),300)}}},Ve=Fe,Ue=Object(p["a"])(Ve,Ne,Te,!1,null,null,null),Re=Ue.exports;function qe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function He(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Be=13,ze={name:"Cards",components:{Card:De,VipCard:Re,Loader:h},props:["cards"],data:function(){return{visibleVipPromo:!1}},computed:He({isCardsLoading:function(){return this.isLoading&&0==this.cards.length}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("feed",["isLoading","viewedCards"]),{},Object(Y["c"])("feed",["currentCard"])),methods:{handleClickProfile:function(){yf.openProfile({card:this.currentCard})},hiderVipCard:function(){this.visibleVipPromo=!1}},watch:{viewedCards:function(t){t!=Be||this.hasVip||(this.visibleVipPromo=!0)}}},We=ze,Ge=Object(p["a"])(We,ae,oe,!1,null,null,null),Ye=Ge.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"feed-controls"},[i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn btn-action btn-action_dislike ripple_white",on:{click:function(e){return t.$emit("clickDislike")}}},[i("i",{staticClass:"ico ico_cross"})]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn btn-action btn-action_like ripple_white",on:{click:function(e){return t.$emit("clickLike")}}},[i("i",{staticClass:"ico ico_heart"})])])},Je=[];function Ze(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Qe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ze(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ke={name:"Controls",props:["isAvailableToChat"],computed:Qe({},Object(Y["e"])("feed",["boost"]),{},Object(Y["c"])("feed",["needUploadPhoto"]))},ti=Ke,ei=Object(p["a"])(ti,Xe,Je,!1,null,null,null),ii=ei.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty-feed"},[i("div",{staticClass:"empty-feed__title",domProps:{innerHTML:t._s(t.$t("empty_feed.title"))}}),i("div",{staticClass:"empty-feed__message",domProps:{innerHTML:t._s(t.$t("empty_feed.msg"))}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:function(e){return t.$emit("filterMode")}}},[t._v(t._s(t.$t("empty_feed.btn")))])])},si=[],ai={name:"EmptyFeed"},oi=ai,ri=Object(p["a"])(oi,ni,si,!1,null,null,null),ci=ri.exports,li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"feed-limit"},[i("div",{staticClass:"feed-limit__title",domProps:{innerHTML:t._s(t.title)}}),i("div",{staticClass:"feed-limit__message",domProps:{innerHTML:t._s(t.$t("feed_limit.msg"))}})])},ui=[],pi={name:"FeedLimit",props:["limitData"],computed:{title:function(){var t=this.isMan?this.$t("feed_limit.female"):this.$t("feed_limit.male");return this.$t("feed_limit.title",{gender:t})},isMan:function(){return this.$store.state.config.user.gender===tt}}},di=pi,hi=Object(p["a"])(di,li,ui,!1,null,null,null),fi=hi.exports,mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-settings"},[i("div",{staticClass:"filter-settings__back",on:{click:function(e){return t.$emit("close")}}}),i("div",{staticClass:"filter-settings__content"},[i("div",{staticClass:"filter-settings__head"},[t._v(" "+t._s(t.$t("filter.head"))+" "),i("button",{on:{click:t.save}},[t._v(t._s(t.$t("filter.action")))])]),i("div",{staticClass:"filter-settings__params"},[i("div",{staticClass:"filter-settings__params-title"},[t._v(" "+t._s(t.$t("filter.age"))+" "),i("span",[t._v(t._s(t.ageRange[0])+"-"+t._s(t.ageRange[1]))])]),i("vue-slider",t._b({on:{change:function(e){t.isChanged=!0}},model:{value:t.ageRange,callback:function(e){t.ageRange=e},expression:"ageRange"}},"vue-slider",t.sliderOptions,!1))],1)])])},_i=[],vi=i("4971"),gi=i.n(vi);function bi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function yi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?bi(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ci={name:"FilterSettings",components:{VueSlider:gi.a},data:function(){return{ageRange:[0,100],sliderOptions:{dotSize:20,height:2,min:18,max:100,tooltip:"none",duration:0},isChanged:!1}},computed:yi({},Object(Y["e"])("feed",["filter"])),created:function(){this.ageRange[0]=this.filter.age_from,this.ageRange[1]=this.filter.age_to},methods:yi({save:function(){this.isChanged&&this.setFilter({age_from:this.ageRange[0],age_to:this.ageRange[1]}),this.$emit("close")}},Object(Y["d"])("feed",["setFilter"]))},wi=Ci,Oi=Object(p["a"])(wi,mi,_i,!1,null,null,null),ki=Oi.exports,Pi=i("99de"),ji=i("7e84"),$i=i("262e"),Si=function(t){function e(t,i){var n;return Object(M["a"])(this,e),n=Object(Pi["a"])(this,Object(ji["a"])(e).call(this)),n.name=t,n.id=i.place_id,n.options=i,n.status="",n}return Object($i["a"])(e,t),Object(A["a"])(e,[{key:"updateStatus",value:function(t){this.status=t,this.emit("update_status",{status:this.status})}}]),e}(N),xi=Si,Ei="Error",Li="Closed";function Mi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ai(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Mi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ii={},Di={init:function(){Lt.registerMethod("ad_status_changed",Di.statusHandler)},createPlacement:function(t){var e=t.name,i=t.options;if(Ii[e])return!1;Ii[e]=new xi(e,i)},load:function(t){var e=Ii[t];if(!e)return!1;var i=Yt.state.config.country||"",n=Ai({country:i.toUpperCase()},e.options.params);Lt.invokeNative("load_ad",{place_id:e.id,params:n})},present:function(t){return new Promise((function(e,i){var n=Ii[t];if(n){var s=function t(i){var s=i.status;s!=Li&&s!=Ei||(n.off("update_status",t),e())};n.on("update_status",s),Lt.invokeNative("intent_ad",{place_id:n.id}),Lt.invokeNative("present_ad",{place_id:n.id,params:n.options.present_params})}else i()}))},getPlacement:function(t){return Ii[t]},statusHandler:function(t){for(var e in Ii){var i=Ii[e];if(i.id==t.place_id){i.updateStatus(t.status);break}}}},Ni=Di;function Ti(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Fi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ti(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Vi,Ui={name:"Feed",components:{Settings:se,Controls:ii,Cards:Ye,EmptyFeed:ci,FeedLimit:fi,FilterSetting:ki},data:function(){return{filterMode:!1}},computed:Fi({},Object(Y["e"])("feed",["visibleCards","filter","feedLimit","viewedCards","viewedCardsAfterPhotoRequest"]),{},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["c"])("feed",["currentCard","isEmpty","hasLimit","needUploadPhoto"])),methods:{handleLikeAction:function(){if(yf.likeAction(this.currentCard),yf.showSwipeTutorial(et,this.currentCard),this.currentCard.photo&&this.currentCard.photo.length>0){var t=this.currentCard.id,e=this.currentCard.photo[0].id;this.$nativeStat.trackCommonEvent("photo_like",{user_id:t,photo_id:e}),this.$nativeStat.trackAppsFlyerEvent("ap_photo_like",{ap_user_id:t,ap_photo_id:e})}},handleDislikeAction:function(){if(yf.dislikeAction(this.currentCard),yf.showSwipeTutorial(it,this.currentCard),this.currentCard.photo&&this.currentCard.photo.length>0){var t=this.currentCard.id,e=this.currentCard.photo[0].id;this.$nativeStat.trackCommonEvent("photo_dislike",{user_id:t,photo_id:e}),this.$nativeStat.trackAppsFlyerEvent("ap_photo_dislike",{ap_user_id:t,ap_photo_id:e})}},removeCardFromDeck:function(){this.$store.commit("feed/removeCurrentCard")},showFilter:function(){this.filterMode=!0,this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Filter",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{Filter:"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Filter",ap_action:"View"})}},watch:{filter:function(t,e){t&&e&&(t.age_from===e.age_from&&t.age_to===e.age_to||yf.filterBy(t))},feedLimit:function(t,e){null==t&&null!=e&&yf.resetCards()},viewedCards:function(t){var e=Ni.getPlacement(ct);if(!this.hasVip&&e){var i=e.options.interval||10;t%i===1?Ni.load(ct):t%i===0&&Ni.present(ct)}}}},Ri=Ui,qi=Object(p["a"])(Ri,Zt,Qt,!1,null,null,null),Hi=qi.exports,Bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-profile extend"},[t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):[i("div",{staticClass:"user-profile__content"},[t.numPhotos>0?i("div",{staticClass:"user-profile__photo",style:{backgroundImage:"url("+t.getPhotoUrl(0)+")"},on:{click:function(e){return t.openPhoto(0)}}}):i("div",{staticClass:"user-profile__photo",style:{backgroundImage:"url("+t.user.avatars.s4+")"}}),i("div",{staticClass:"user-profile__sticky",on:{click:function(e){return t.$nav.back()}}},[t._m(0)]),i("div",{staticClass:"user-profile__title"},[i("div",{staticClass:"user-profile__name-wrap"},[i("div",{staticClass:"ellipsis"},[t._v(t._s(t.user.name))]),t.user.age?i("div",{staticClass:"user-profile__age"},[t._v(", "+t._s(t.user.age))]):t._e()]),t.user.is_online?i("span",{staticClass:"online-status"}):t._e()]),t.user.about?i("div",{staticClass:"user-profile__section"},[i("p",[t._v(t._s(t.user.about))])]):t.user.about_auto?i("div",{staticClass:"user-profile__section"},[i("p",[t._v(t._s(t.user.about_auto))])]):t._e(),t.user.goals&&t.user.goals.length>0?i("div",{staticClass:"user-profile__section"},[i("h2",[t._v(t._s(t.$t("user_profile.goals")))]),i("p",[t._v(t._s(t.user.goals.join(", ")))])]):t._e(),2==t.numPhotos||t.numPhotos>=4?i("div",{staticClass:"user-profile__photo",style:{backgroundImage:"url("+t.getPhotoUrl(1)+")"},on:{click:function(e){return t.openPhoto(1)}}}):t._e(),t.user.interests?i("div",{staticClass:"user-profile__section"},[i("h2",[t._v(t._s(t.$t("user_profile.interests")))]),i("p",{staticClass:"user-profile__interests-list"},t._l(t.user.interests,(function(e,n){return i("span",{key:n,staticClass:"user-profile__interest",class:{"user-profile__interest_match":e.matches}},[t._v(t._s(e.text))])})),0)]):t._e(),t.numPhotos>=3?i("div",{staticClass:"user-profile__photos"},[i("div",{staticClass:"user-profile__preview-wrap"},[i("div",{staticClass:"user-profile__preview",style:{backgroundImage:"url("+t.getPhotoUrl(3==t.numPhotos?1:2)+")"},on:{click:function(e){return t.openPhoto(3==t.numPhotos?1:2)}}})]),i("div",{staticClass:"user-profile__preview-wrap"},[i("div",{staticClass:"user-profile__preview",style:{backgroundImage:"url("+t.getPhotoUrl(3==t.numPhotos?2:3)+")"},on:{click:function(e){return t.openPhoto(3==t.numPhotos?2:3)}}}),t.numPhotos>4?i("div",{staticClass:"user-profile__more-photos",domProps:{innerHTML:t._s(t.$t("user_profile.more",{count:t.numPhotos-3}))}}):t._e()])]):t._e(),t.user.job?i("div",{staticClass:"user-profile__section"},[i("h2",[t._v(t._s(t.$t("user_profile.job")))]),i("p",[t._v(t._s(t.user.job))])]):t._e(),t.user.about_auto&&t.user.about?i("div",{staticClass:"user-profile__section"},[i("h2",[t._v(t._s(t.$t("user_profile.about")))]),i("p",[t._v(t._s(t.user.about_auto))])]):t._e(),i("div",{staticClass:"user-profile__section"},[i("h2",[t._v(t._s(t.$t("user_profile.city")))]),i("p",[t._v(t._s(t.user.city_name))])]),t.isMe?t._e():i("div",{staticClass:"user-profile__complain"},[i("button",{on:{click:t.complain}},[t._v(t._s(t.$t("user_profile.complain")))])])]),!t.isMe&&t.user.can_meet?i("div",{staticClass:"user-profile__extra"},[t.focused?t._e():i("profile-actions",{on:{like:t.likeAction,dislike:t.dislikeAction}}),t.dialogLockedByDailyLimit?i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"user-profile__dialog-locked btn_primary",on:{click:t.showOffer}},[t._v(" "+t._s(t.dialogLockedPlaceholder)+" ")]):t.dialogRequiresPhoto?i("require-photo",{attrs:{user:t.user}}):i("inline-message",{attrs:{placeholder:t.messagePlaceholder},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},submit:t.sendMessage}})],1):t._e()]],2)},zi=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-profile__exit"},[i("i",{staticClass:"ico ico_exit"})])}],Wi=(i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-actions"},[i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"profile-actions__btn",on:{click:function(e){return t.$emit("dislike")}}},[i("span",{staticClass:"profile-actions__ico"},[i("dislike-icon")],1)]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"profile-actions__btn",on:{click:function(e){return t.$emit("like")}}},[i("span",{staticClass:"profile-actions__ico"},[i("like-icon")],1)])])}),Gi=[],Yi={name:"ProfileActions",components:{LikeIcon:we,DislikeIcon:Oe}},Xi=Yi,Ji=Object(p["a"])(Xi,Wi,Gi,!1,null,null,null),Zi=Ji.exports,Qi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inline-message"},[i("input",{ref:"inputField",staticClass:"inline-message__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.message},on:{input:function(e){t.message=e.target.value},focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}}),i("i",{staticClass:"ico ico_send",class:{"inline-message__disabled-send":0==t.message.trim().length},on:{click:t.submit}})])},Ki=[],tn=(i("498a"),{name:"InlineMessage",props:["placeholder"],data:function(){return{message:""}},methods:{submit:function(){var t=this.message.trim();t.length>0&&(this.$refs.inputField.blur(),this.$emit("submit",t),this.message="")}}}),en=tn,nn=Object(p["a"])(en,Qi,Ki,!1,null,null,null),sn=nn.exports,an=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"user-profile__require-photo btn_primary",attrs:{disabled:t.isUploading}},[i("i",{staticClass:"ico ico_photos"}),t._v(" "+t._s(t.requirePlaceholder)+" ")])},on=[],rn=i("bc3a"),cn=i.n(rn),ln=function(){function t(e){if(Object(M["a"])(this,t),this.raw=e,this._objectsCache={},this.objects=[],this.meta=e.meta||{},this.links=e.links||{},Array.isArray(e.data)){var i=!0,n=!1,s=void 0;try{for(var a,o=e.data[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var r=a.value,c=this._getObject(r);c&&this.objects.push(c)}}catch(u){n=!0,s=u}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}}else if(e.data){var l=this._getObject(e.data);this.objects=[],l&&this.objects.push(l)}}return Object(A["a"])(t,[{key:"_getObject",value:function(t){if(!t.type||!t.id)return!1;if(this._objectsCache[t.type]&&this._objectsCache[t.type][t.id])return this._objectsCache[t.type][t.id];var e={id:t.id,type:t.type};if(t.attributes)for(var i in t.attributes)e[i]=t.attributes[i];if(t.relationships&&this.raw.included)for(var n in t.relationships){var s=t.relationships[n].data;if(Array.isArray(s)){e[n]=[];var a=!0,o=!1,r=void 0;try{for(var c,l=s[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value,p=!0,d=!1,h=void 0;try{for(var f,m=this.raw.included[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var _=f.value;_.type===u.type&&_.id===u.id&&e[n].push(this._getObject(_))}}catch(O){d=!0,h=O}finally{try{p||null==m.return||m.return()}finally{if(d)throw h}}}}catch(O){o=!0,r=O}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}}else{var v=!0,g=!1,b=void 0;try{for(var y,C=this.raw.included[Symbol.iterator]();!(v=(y=C.next()).done);v=!0){var w=y.value;w.type===s.type&&w.id===s.id&&(e[n]=this._getObject(w))}}catch(O){g=!0,b=O}finally{try{v||null==C.return||C.return()}finally{if(g)throw b}}}}return t.links&&(e.links=t.links),this._objectsCache[e.type]||(this._objectsCache[e.type]={}),this._objectsCache[e.type][e.id]=e,e}}]),t}(),un=(i("a15b"),function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")}),pn={install:function(t){Object.defineProperty(t.prototype,"$api",{get:function(){return pn}})},init:function(t){var e=t.api_url,i={method:"POST",baseURL:"".concat(e,"/"),timeout:6e4,params:{},withCredentials:!0};Vi=cn.a.create(i)},get:function(t,e){var i=t;return e&&(-1===i.indexOf("?")?i+="?"+un(e):i+="&"+un(e)),Vi.get(i).then(dn).catch(hn)},post:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i?Vi.post(t,e):Vi.post(t,e).then(dn).catch(hn)}};function dn(t){if(t.data)return new ln(t.data);if(!0===t.result)return{result:!0};throw new Error("API: bad response")}function hn(t){var e=t.response;e.data&&e.data.errors&&e.data.errors.forEach((function(t){"401"==t.code&&Lt.invokeNative("update_access_token")}))}var fn=pn;function mn(){return fn.get("api/profile/getProfile")}function _n(){return fn.get("api/profile/getInfo")}function vn(t){return fn.get("api/profile/saveField",t)}function gn(t){return fn.post("api/profile/photoUpload",t).then(Cn)}function bn(t){return fn.get("api/profile/photoDelete",t).then(Cn)}function yn(t){return fn.get("api/profile/setAvatar",t).then(Cn)}function Cn(t){return t.meta&&(void 0!==t.meta.avatar_status&&Yt.commit("feed/setModerationStatus",t.meta.avatar_status),void 0!==t.meta.avatars&&Yt.commit("updateUserAvatar",t.meta.avatars)),t}var wn={uploadPhoto:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i,n){t.files.length||n();var s=new FormData;s.append("file",t.files[0]),s.append("is_avatar",e),gn(s).then((function(t){i(t)}))}))}},On={name:"RequirePhoto",props:["user"],data:function(){return{isUploading:!1}},computed:{requirePlaceholder:function(){var t=this.user.gender===tt,e=t?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("user_profile.require_photo",{pronouns:e})}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Profile",action:"Chat Photo Required"}),this.$nativeStat.trackMetricaEvent("item_action",{Profile:"Chat Photo Required"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Profile",ap_action:"Chat Photo Required"})},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"Chat Photo Required"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"Chat Photo Required"})})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},kn=On,Pn=Object(p["a"])(kn,an,on,!1,null,null,null),jn=Pn.exports;function $n(t){return fn.get("api/feed/getFeed",t).then(Nn)}function Sn(t){return fn.get("api/feed/getUser",t).then(Nn)}function xn(t){return fn.post("/api/feed/click",t).then(Nn)}function En(t){return fn.get("/api/feed/filterSet",t)}function Ln(t){return fn.get("api/feed/complaint",t)}function Mn(t,e){return new Promise((function(t,e){setTimeout((function(){t({name:"City Name finded by geo",id:1})}),200)}))}function An(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=[],e=Math.floor(100*Math.random()),i=Math.floor(100*Math.random()),n=0;n<20;n++)t.push({name:"City random "+(e+n),id:e+n,countryName:"Country random "+(i+n),countryId:i+n});return new Promise((function(e,i){setTimeout((function(){e(t)}),1e3)}))}function In(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t,e){setTimeout((function(){t()}),1e3)}))}function Dn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fn.post("api/postReviewResult",t)}function Nn(t){return t.meta&&(t.meta.counters&&Yt.commit("feed/setCounters",t.meta.counters),t.meta.filters&&Yt.commit("feed/setFilter",t.meta.filters),void 0!==t.meta.avatar_status&&Yt.commit("feed/setModerationStatus",t.meta.avatar_status),void 0!==t.meta.daily_open_limit&&Yt.commit("feed/setDailyOpenLimit",t.meta.daily_open_limit),void 0!==t.meta.has_vip&&Yt.commit("vip/setVip",t.meta.has_vip)),t}function Tn(t){return fn.get("api/chat/getContacts",t).then(qn)}function Fn(t){return fn.get("api/chat/getContact",t).then(qn)}function Vn(t){return fn.get("api/chat/getMessages",t).then(qn)}function Un(t){return fn.post("api/chat/postMessage",t).then(qn)}function Rn(t){return fn.post("api/chat/readAll",t).then(qn)}function qn(t){return t.meta&&(t.meta.counters&&Yt.commit("feed/setCounters",t.meta.counters),void 0!==t.meta.daily_open_limit&&Yt.commit("feed/setDailyOpenLimit",t.meta.daily_open_limit)),t}var Hn=0,Bn=function(){function t(e){var i=e.component,n=e.props,s=e.options;Object(M["a"])(this,t),this.id=++Hn,this.component=i,this.props=n||{},this.options=s||{}}return Object(A["a"])(t,[{key:"show",value:function(t){throw new Error("Popup: method hide is not implemented!")}},{key:"hide",value:function(t){throw new Error("Popup: method hide is not implemented!")}}]),t}(),zn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topbar-container topbar-container_black"},[i("div",{staticClass:"topbar-container__header topbar topbar_opaque"},[i("div",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"topbar__action ripple ripple_white",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_back-extend"})]),i("div",{staticClass:"topbar__title"},[t._v(" "+t._s(t.title)+" ")]),t.editable?i("div",{staticClass:"topbar__button",on:{click:function(e){t.isOpeningDialog=!t.isOpeningDialog}}},[i("i",{staticClass:"ico ico_3-dots-gray"})]):t._e()]),t.isLoading?i("div",{staticClass:"topbar-container__content"},[i("div",{staticClass:"topbar-container__content-loader"},[i("loader",{attrs:{color:"white",bg:"black"}})],1)]):i("div",{staticClass:"topbar-container__content photoviewer"},[i("div",{ref:"slider",staticClass:"photoviewer__slider photoviewer-slider"},[i("div",{ref:"slide1",staticClass:"photoviewer-slider__item"},[t.photo1?i("photo",{attrs:{photo:t.photo1,urlAlias:t.urlAlias}}):t._e()],1),i("div",{ref:"slide2",staticClass:"photoviewer-slider__item"},[t.photo2?i("photo",{attrs:{photo:t.photo2,urlAlias:t.urlAlias}}):t._e()],1),i("div",{ref:"slide3",staticClass:"photoviewer-slider__item"},[t.photo3?i("photo",{attrs:{photo:t.photo3,urlAlias:t.urlAlias}}):t._e()],1)]),t.user?i("div",{staticClass:"photoviewer__buttombar"}):t._e()]),t.isOpeningDialog?i("action-dialog",{attrs:{actions:t.currentPhotoActions},on:{close:function(e){t.isOpeningDialog=!1},select:t.onSelectAction}}):t._e(),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-inside",style:{"z-index":11}},[i("loader")],1):t._e()],1)},Wn=[],Gn=i("3835"),Yn=(i("b680"),i("acd8"),function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn.HORIZONTAL;Object(M["a"])(this,t),this.el=e,this.direction=i,this.pos=0,this.animationTime=.3,this.prefix=R("transform"),this.styleTransform=this.prefix+"transform",this.styleTransition=this.prefix+"transition",this.updateSizes()}return Object(A["a"])(t,[{key:"onResize",value:function(){this.updateSizes()}},{key:"updateSizes",value:function(){this.size=this.direction===Xn.HORIZONTAL?this.el.clientWidth:this.el.clientHeight}},{key:"move",value:function(t,e){var i=this;return new Promise((function(n,s){var a,o=Math.abs(t-i.pos);i.pos=t,e&&(a=o/i.size*i.animationTime,i.el.style[i.styleTransition]="all ease-in-out "+a.toFixed(3)+"s");var r=i.direction===Xn.HORIZONTAL?i.pos:0,c=i.direction===Xn.VERTICAL?i.pos:0;i.el.style[i.styleTransform]="translate3d(".concat(r,"px, ").concat(c,"px, 0)"),e?setTimeout(function(){this.el.style[this.styleTransition]="none",n()}.bind(i),1e3*parseFloat(a.toFixed(3))):n()}))}}]),t}()),Xn=function(){function t(e){var i=this,n=e.dataSource,s=e.el,a=e.cardElPrev,o=e.cardElCenter,r=e.cardElNext,c=e.swapObjectInWrapper,l=e.willMoveTo,u=e.didMoveTo,p=e.onSwipeBack,d=e.onSwipeNext,h=e.direction,f=void 0===h?t.HORIZONTAL:h;Object(M["a"])(this,t),this.queue=new q,this.animating=!1,this.cardsDeltaTmp=0,this.direction=f,this.scrollSize=this.direction===t.HORIZONTAL?s.clientWidth:s.clientHeight,this.dataSource=n,this.cardPrev=new Yn(a,this.direction),this.cardCenter=new Yn(o,this.direction),this.cardNext=new Yn(r,this.direction),this.swapObjectInWrapper=c,this.didMoveTo=u,this.willMoveTo=l,this.onSwipeBack=p,this.onSwipeNext=d,this.isDisabled=!1,this.cardPrev.move(-this.scrollSize),this.cardNext.move(this.scrollSize);var m=this.dataSource.getInitial(),_=Object(Gn["a"])(m,3),v=_[0],g=_[1],b=_[2];this.currentObject=g,this.swapObjectInWrapper(this.cardPrev.el,v),this.swapObjectInWrapper(this.cardCenter.el,g),this.swapObjectInWrapper(this.cardNext.el,b),this.willMoveTo({to:g,from:null,forwards:!1,initial:!0}),this.didMoveTo({to:g,from:null,forwards:!1,initial:!0}),this.gestureRecognizer=new V["GestureRecognizer"](s),this.gestureRecognizer.preventDefaultAnyway=!1;var y=new V["GestureHandler"];y.onStart=function(t){},y.onMove=function(e){if(!i.isDisabled&&!i.animating){var n=i.direction===t.HORIZONTAL?e.getDiffX():e.getDiffY();n>0&&!i.hasPrev||n<0&&!i.hasNext||(i.moveCards(n),i.cardsDeltaTmp=n)}},y.onEnd=function(){if(!i.isDisabled&&!i.animating){var t=i.cardsDeltaTmp;t>=0&&t<10?i.bounce():t<0?i.hasNext?(i.onSwipeNext&&i.onSwipeNext({from:i.currentObject,to:i.dataSource.getNext(i.currentObject)}),i.moveNext()):i.bounce():i.hasPrev?(i.onSwipeBack&&i.onSwipeBack({from:i.currentObject,to:i.dataSource.getPrev(i.currentObject)}),i.moveBack()):i.bounce(),i.cardsDeltaTmp=0}},this.gestureRecognizer.addHandler(this.direction===t.HORIZONTAL?V["Gesture"].TYPE_HORISONTAL:V["Gesture"].TYPE_VERTICAL,y)}return Object(A["a"])(t,null,[{key:"HORIZONTAL",get:function(){return"horizontal"}},{key:"VERTICAL",get:function(){return"vertical"}}]),Object(A["a"])(t,[{key:"switchDataSource",value:function(t){var e=this;this.queue.next((function(i){e.dataSource=t;var n=e.dataSource.getInitial(),s=Object(Gn["a"])(n,3),a=s[0],o=s[1],r=s[2];e.currentObject=o,e.swapObjectInWrapper(e.cardPrev.el,a),e.swapObjectInWrapper(e.cardCenter.el,o),e.swapObjectInWrapper(e.cardNext.el,r),e.willMoveTo({to:o,from:null,forwards:!1,initial:!0}),e.didMoveTo({to:o,from:null,forwards:!1,initial:!0}),i()}))}},{key:"moveCards",value:function(t){this.hasPrev&&this.cardPrev.move(-this.scrollSize+t),this.cardCenter.move(t),this.hasNext&&this.cardNext.move(this.scrollSize+t)}},{key:"bounce",value:function(){var t=this;this.queue.next((function(e){t.animating=!0,Promise.all([t.cardPrev.move(-t.scrollSize,!0),t.cardCenter.move(0,!0),t.cardNext.move(t.scrollSize,!0)]).then((function(){t.animating=!1,e()}))}))}},{key:"moveBack",value:function(){var t=this;return new Promise((function(e){t.queue.next((function(i){if(!t.hasPrev)return i(),void e();t.animating=!0;var n=t.dataSource.getPrev(t.currentObject);t.willMoveTo({to:n,from:t.currentObject,forwards:!1}),Promise.all([t.cardCenter.move(t.scrollSize,!0),t.cardPrev.move(0,!0)]).then((function(){var s=t.cardPrev,a=t.cardCenter,o=t.cardNext;t.cardPrev=o,t.cardCenter=s,t.cardNext=a,t.cardPrev.move(-t.scrollSize),t.dataSource.loadPrev(n),t.swapObjectInWrapper(t.cardPrev.el,t.dataSource.getPrev(n)),t.swapObjectInWrapper(t.cardCenter.el,n),t.swapObjectInWrapper(t.cardNext.el,t.currentObject);var r=t.currentObject;t.currentObject=n,t.didMoveTo({to:t.currentObject,from:r,forwards:!1}),t.animating=!1,i(),e()}))}))}))}},{key:"moveNext",value:function(){var t=this;return new Promise((function(e){t.queue.next((function(i){if(!t.hasNext)return i(),void e();t.animating=!0;var n=t.dataSource.getNext(t.currentObject);t.willMoveTo({to:n,from:t.currentObject,forwards:!0}),Promise.all([t.cardCenter.move(-t.scrollSize,!0),t.cardNext.move(0,!0)]).then((function(){var s=t.cardPrev,a=t.cardCenter,o=t.cardNext;t.cardPrev=a,t.cardCenter=o,t.cardNext=s,t.cardNext.move(t.scrollSize),t.dataSource.loadNext(n),t.swapObjectInWrapper(t.cardPrev.el,t.currentObject),t.swapObjectInWrapper(t.cardCenter.el,n),t.swapObjectInWrapper(t.cardNext.el,t.dataSource.getNext(n));var r=t.currentObject;t.currentObject=n,t.didMoveTo({to:t.currentObject,from:r,forwards:!0}),t.animating=!1,i(),e()}))}))}))}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"hasPrev",get:function(){return this.dataSource.hasPrev(this.currentObject)}},{key:"hasNext",get:function(){return this.dataSource.hasNext(this.currentObject)}}]),t}(),Jn=function(){function t(){Object(M["a"])(this,t)}return Object(A["a"])(t,[{key:"getInitial",value:function(){}},{key:"getTotal",value:function(){}},{key:"getItemNumById",value:function(t){}},{key:"hasPrev",value:function(t){}},{key:"hasNext",value:function(t){}},{key:"getById",value:function(t){}},{key:"getPrev",value:function(t){}},{key:"getNext",value:function(t){}},{key:"loadPrev",value:function(t){}},{key:"loadNext",value:function(t){}}]),t}(),Zn=function(t){function e(t){var i,n=t.items,s=t.initialId;return Object(M["a"])(this,e),i=Object(Pi["a"])(this,Object(ji["a"])(e).call(this)),i.initialId=s,i.data=n,i._buildIndex(),i}return Object($i["a"])(e,t),Object(A["a"])(e,[{key:"_buildIndex",value:function(){this.index={};for(var t=0;t<this.data.length;t++)this.index[this.data[t].id]=t}},{key:"getInitial",value:function(){if(this.initialId){var t=this.getById(this.initialId),e=this.hasPrev(t)?this.getPrev(t):void 0,i=this.hasNext(t)?this.getNext(t):void 0;return[e,t,i]}return[void 0].concat(Object(Vt["a"])(this.data.slice(0,2)))}},{key:"getTotal",value:function(){return this.data.length}},{key:"getItemNumById",value:function(t){return this.index[t]+1}},{key:"hasPrev",value:function(t){return this.index[t.id]>0}},{key:"hasNext",value:function(t){return this.index[t.id]<this.data.length-1}},{key:"getById",value:function(t){return this.data[this.index[t]]}},{key:"getPrev",value:function(t){return this.data[this.index[t.id]-1]}},{key:"getNext",value:function(t){return this.data[this.index[t.id]+1]}}]),e}(Jn),Qn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"image",staticClass:"photoviewer-slider__image",style:{backgroundImage:"url("+t.url+")"}})},Kn=[],ts={props:["photo","urlAlias"],computed:{url:function(){return this.urlAlias?this.photo[this.urlAlias]:this.photo.url_l}}},es=ts,is=Object(p["a"])(es,Qn,Kn,!1,null,null,null),ns=is.exports,ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"actions-dialog"},[i("div",{staticClass:"actions-dialog__background",on:{click:function(e){return t.$emit("close")}}}),i("div",{staticClass:"actions-dialog__list"},[t._l(t.actions,(function(e,n){return[void 0!=e.fileUpload?i("div",{directives:[{name:"file-upload",rawName:"v-file-upload",value:e.fileUpload,expression:"item.fileUpload"}],key:n,staticClass:"actions-dialog__item"},[t._v(" "+t._s(e.label)+" ")]):i("div",{key:n,staticClass:"actions-dialog__item",on:{click:function(i){return t.$emit("select",e.id)}}},[t._v(" "+t._s(e.label)+" ")])]}))],2)])},as=[],os={name:"ActionsDialog",props:["actions"]},rs=os,cs=Object(p["a"])(rs,ss,as,!1,null,null,null),ls=cs.exports,us=1,ps=2,ds=3,hs={props:["fetch","initialId","user","urlAlias","onUpdate","editable"],components:{Photo:ns,Loader:h,ActionDialog:ls},data:function(){return{isLoading:!0,isUploading:!1,photos:null,sliderDs:null,slider:null,photo1:null,photo2:null,photo3:null,activePhoto:null,swipedOnce:!1,isOpeningChat:!1,isOpeningDialog:!1}},computed:{title:function(){if(!this.photos||!this.activePhoto)return null;for(var t=0;t<this.photos.length;t++)if(this.photos[t]===this.activePhoto)return"".concat(t+1,"  ").concat(this.photos.length);return null},currentPhotoActions:function(){var t=[{label:this.$t("photo_viewer.btn_add"),id:us,fileUpload:this.onUploadAction}];return console.log("this.activePhoto",this.activePhoto),this.activePhoto.can_set_avatar&&!this.activePhoto.is_avatar&&t.push({label:this.$t("photo_viewer.btn_main"),id:ps}),this.activePhoto.can_delete&&t.push({label:this.$t("photo_viewer.btn_delete"),id:ds}),t}},mounted:function(){var t=this;this.isLoading=!0,this.fetch().then((function(e){t.isLoading=!1,t.$nextTick((function(){t.photos=e,t.sliderDs=new Zn({items:e,initialId:t.initialId}),t.slider=new Xn({dataSource:t.sliderDs,el:t.$refs.slider,cardElPrev:t.$refs.slide1,cardElCenter:t.$refs.slide2,cardElNext:t.$refs.slide3,swapObjectInWrapper:t.swapPhoto,didMoveTo:t.didMoveTo,willMoveTo:function(){},onSwipeNext:t.onSwipeNext})}))}))},methods:{swapPhoto:function(t,e,i){t===this.$refs.slide1?this.photo1=e:t===this.$refs.slide2?this.photo2=e:t===this.$refs.slide3&&(this.photo3=e)},didMoveTo:function(t){var e=t.to;this.activePhoto=e},onSwipeNext:function(){this.swipedOnce||(this.swipedOnce=!0)},openChat:function(){},openProfile:function(){},onSelectAction:function(t){var e=this;switch(this.isOpeningDialog=!1,this.isUploading=!0,t){case ps:yn({photo_id:this.activePhoto.id}).then((function(t){var i=t.objects;e.completeAction(i)})).finally((function(){e.isUploading=!1}));break;case ds:bn({photo_id:this.activePhoto.id}).then((function(t){var i=t.objects;e.completeAction(i)})).finally((function(){e.isUploading=!1}));break}},onUploadAction:function(t){var e=this;this.isOpeningDialog=!1,this.isUploading=!0,wn.uploadPhoto(t).then((function(t){var i=t.objects;e.completeAction(i)})).catch((function(t){yf.showUploadError()})).finally((function(){e.isUploading=!1}))},completeAction:function(t){this.onUpdate&&this.onUpdate(t),this.$nav.back()}}},fs=hs,ms=Object(p["a"])(fs,zn,Wn,!1,null,null,null),_s=ms.exports,vs={open:function(t){var e=t.fetch,i=t.initialId,n=t.user,s=t.urlAlias,a=t.onUpdate,o=t.editable,r=t.animated;"undefined"===typeof r&&(r=!0);var c=new Bn({component:_s,props:{fetch:e,initialId:i,urlAlias:s,onUpdate:a,editable:o,user:n},options:{myClass:"popup_extend"}});return Yt.dispatch("popups/openPopup",{popup:c,animated:r}),c},close:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;Yt.dispatch("popups/closePopup",{popup:t,animated:e,onClose:i})}},gs=null,bs={get cooldown(){var t=Ni.getPlacement(lt);return t.options.interval?1e3*t.options.interval:3e5},get lastTime(){return null!==gs?gs:(gs=parseInt(sessionStorage.getItem("serious_profile_time"))||0,gs||(gs=(new Date).getTime()-bs.cooldown-100),gs)},set lastTime(t){gs=t,sessionStorage.setItem("serious_profile_time",t)},shouldPresent:function(){var t=(new Date).getTime()-bs.lastTime;return t>bs.cooldown},load:function(){return Ni.load(lt)},present:function(){return Ni.present(lt).then((function(){bs.lastTime=(new Date).getTime()})).catch((function(){}))}},ys=bs;function Cs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ws(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Cs(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Cs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Os="",ks={name:"UserProfile",components:{Loader:h,ProfileActions:Zi,InlineMessage:sn,RequirePhoto:jn},props:["id","card"],data:function(){return{me:this.$store.state.config.user,user:null,focused:!1,isLoading:!1}},computed:ws({numPhotos:function(){return this.user.photo?this.user.photo.length:0},messagePlaceholder:function(){return this.$t("user_profile.dialog_placeholder",{pronouns:this.pronouns})},dialogLockedPlaceholder:function(){return this.$t("user_profile.dialog_locked",{pronouns:this.pronouns})},pronouns:function(){return this.user.gender===tt?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her")},isMe:function(){return this.user.id==this.me.id},dialogRequiresPhoto:function(){return!this.hasVip&&(this.user.dialog_requires_photo&&this.needUploadPhoto)},dialogLockedByDailyLimit:function(){return!this.hasVip&&!this.user.is_open&&!this.canOpenDialog}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("feed",["likeActionLocked","viewedCardsAfterPhotoRequest"]),{},Object(Y["c"])("vip",["trialIsAvailable"]),{},Object(Y["c"])("feed",["needUploadPhoto","numCardsBeforeRequestPhoto","canOpenDialog"])),created:function(){var t=this,e=this.$nav.activeIntent,i=this.card||e.options.user;if(Os=this,i)this.user=i,this.trackStatEvents();else{this.isLoading=!0;var n=this.id||decodeURIComponent(e.query.id);Sn({user_id:n,include:"photos,interests"}).then((function(e){t.user=e.objects[0],t.trackStatEvents(),t.isLoading=!1}))}},mounted:function(){this.hasVip||ys.load()},hidePopupHandler:function(){Os.hasVip||Os.isMe||ys.shouldPresent()&&ys.present()},methods:ws({likeAction:function(){if(this.needUploadPhoto&&this.viewedCardsAfterPhotoRequest>=this.numCardsBeforeRequestPhoto)return yf.showPhotoUpload(this.user),void this.lockLikeAction();yf.likeAction(this.user),this.$store.commit("feed/removeCardById",this.user.id),this.$nav.back()},dislikeAction:function(){this.likeActionLocked&&(this.unlockLikeAction(),this.resetPhotoRequestCounter()),yf.dislikeAction(this.user),this.$store.commit("feed/removeCardById",this.user.id),this.$nav.back()},sendMessage:function(t){var e=this;Un({contactId:this.user.id,message:t}).then((function(t){e.$push.emit("notification",{data:{text:e.$t("notification.msg"),ava:e.user.avatars.s1,style:"yellow"}})})).catch((function(t){yf.showMessageLimit(e.user)}))},trackStatEvents:function(){this.isMe||(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Profile",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{Profile:"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Profile",ap_action:"View"}),this.$nativeStat.trackCommonEvent("profile_view",{user_id:this.user.id}),this.$nativeStat.trackAppsFlyerEvent("ap_profile_view",{ap_user_id:this.user.id}),this.dialogLockedByDailyLimit&&(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Profile",action:"Chat Request Limit"}),this.$nativeStat.trackMetricaEvent("item_action",{Profile:"Chat Request Limit"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Profile",ap_action:"Chat Request Limit"})))},getPhotoUrl:function(t){return this.user.photo[t].urls.s4},openPhoto:function(t){var e,i=this,n=this.user.photo[t];this.$nav.pushInstant({activate:function(t){e=vs.open({fetch:function(){return new Promise((function(t){var e=i.user.photo.map((function(t){return{id:t.id,url:t.urls.o}}));t(e)}))},initialId:n&&n.id,urlAlias:"url",animated:t})},unload:function(t){vs.close(e,t)}})},complain:function(){var t=this;yf.complain(this.user).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.success&&(yf.skipAction(t.user),t.$nav.back())}))},showOffer:function(){yf.showVipFullOffer({source:_t})}},Object(Y["d"])("feed",["lockLikeAction","unlockLikeAction","resetPhotoRequestCounter"]))},Ps=ks,js=Object(p["a"])(Ps,Bi,zi,!1,null,null,null),$s=js.exports,Ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"incoming"},[i("div",{staticClass:"incoming__tabs"},[i("div",{staticClass:"incoming__tab"},[t._v(t._s(t.$t("incoming.tab"))+" "),t.counters.events.incoming>0?i("span",[t._v("+"+t._s(t.counters.events.incoming))]):t._e()])]),t.hasVip?i("div",{staticClass:"incoming__notify"},[t._v(t._s(t.$t("incoming.notify")))]):t._e(),i("div",{staticClass:"incoming__content"},[t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):t.list.length>0?[i("div",{staticClass:"incoming__list"},t._l(t.list,(function(e,n){return i("div",{staticClass:"incoming__list-item"},[i("incoming-item",{key:e.id,attrs:{item:e,autoOpen:t.isAutoOpen},on:{like:function(i){return t.like(e)},dislike:function(i){return t.dislike(e)}},nativeOn:{click:function(i){return t.clickItem(e)}}})],1)})),0),t.hasVip||t.isAutoOpen?t._e():i("div",{staticClass:"incoming__offer"},[i("div",{staticClass:"incoming__offer-message"},[t._v(t._s(t.$t("incoming.offer.msg")))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"incoming__offer-btn btn_white btn_size-m",attrs:{disabled:t.isBuying},on:{click:t.showVipOffer}},[t._v(" "+t._s(t.trialIsAvailable?t.$t("incoming.offer.btn_activate"):t.$t("incoming.offer.btn_become"))+" ")])])]:i("div",{staticClass:"incoming__empty"},[t.needUploadPhoto?[i("div",{staticClass:"incoming__empty-photo"},[t._v(t._s(t.$t("incoming.empty.photo_title")))]),i("div",{staticClass:"incoming__empty-text"},[t._v(t._s(t.emptyStateTextPhoto))]),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",attrs:{disabled:t.isUploading}},[t._v(" "+t._s(t.$t("incoming.empty.bnt_add"))+" ")])]:[i("i",{staticClass:"ico ico_black-heart"}),i("div",{staticClass:"incoming__empty-text",domProps:{innerHTML:t._s(t.emptyStateText)}}),i("div",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:function(e){return t.$nav.push("/app/feed")}}},[t._v(" "+t._s(t.$t("incoming.empty.btn_view"))+" ")])]],2)],2)])},xs=[];function Es(t){return fn.get("api/events/getPairs",t).then(Is)}function Ls(t){return fn.get("api/events/getIncoming",t).then(Is)}function Ms(t){return fn.post("api/events/read",{userId:t}).then(Is)}function As(t){return fn.post("api/events/hide",{userId:t}).then(Is)}function Is(t){return t.meta&&t.meta.counters&&Yt.commit("feed/setCounters",t.meta.counters),t}var Ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"incoming-item",class:{"incoming-item_locked":!t.isOpen}},[i("div",{staticClass:"incoming-item__photo-wrap"},[i("div",{staticClass:"incoming-item__photo",style:{backgroundImage:"url("+t.photoUrl+")"}})]),t.isOpen?t._e():i("div",{staticClass:"incoming-item__lock"},[i("i",{staticClass:"ico ico_lock"})]),t.item.is_read?t._e():i("div",{staticClass:"incoming-item__new"},[t._v(t._s(t.$t("incoming.new")))]),i("div",{staticClass:"incoming-item__extra"},[i("div",{staticClass:"incoming-item__title"},[i("div",{staticClass:"incoming-item__name-wrap"},[i("div",{staticClass:"ellipsis"},[t._v(t._s(t.userName))]),t.item.user.age?i("div",{staticClass:"incoming-item__age"},[t._v(", "+t._s(t.item.user.age))]):t._e()]),t.item.user.online?i("span",{staticClass:"online-status"}):t._e()]),t.isOpen?i("div",{staticClass:"incoming-item__actions"},[t.isLiked?t._e():[i("div",{staticClass:"incoming-item__action",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.dislike(e)}}},[i("dislike-icon")],1),i("div",{staticClass:"incoming-item__action-separator"})],i("div",{staticClass:"incoming-item__action",class:{"incoming-item__action-liked":t.isLiked},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.like(e)}}},[i("like-icon")],1)],2):t._e()]),t.isLiked?i("div",{staticClass:"incoming-item__new-couple"},[i("div",[t._v(" !")])]):t._e()])},Ns=[],Ts={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{d:"M8.154 2.32l.573.678.573-.678c.82-.97 2.096-1.57 3.354-1.57 2.29 0 4.05 1.761 4.05 4.059 0 1.362-.637 2.681-1.911 4.221-1.201 1.453-2.888 3.008-4.946 4.907l-.407.375-.002.002-.71.662-.712-.662-.006-.006-.007-.006C5.72 12.28 3.894 10.638 2.63 9.098 1.376 7.568.75 6.225.75 4.808.75 2.512 2.51.75 4.8.75c1.259 0 2.534.6 3.354 1.57z",stroke:"#F7AD1E","stroke-width":"1.5"}})]))}},Fs={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{d:"M12 1.5L7.5 6l4.5 4.5-1.5 1.5L6 7.5 1.5 12 0 10.5 4.5 6 0 1.5 1.5 0 6 4.5 10.5 0 12 1.5z",fill:"#DDD"}})]))}};function Vs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Us(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vs(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Vs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Rs={name:"IncomingItem",components:{LikeIcon:Ts,DislikeIcon:Fs},data:function(){return{isLiked:!1}},props:["item","autoOpen"],computed:Us({userName:function(){return this.isOpen?this.item.user.name:this.item.user.name.substr(0,1)+""},photoUrl:function(){return this.item.user.avatars.s4},isOpen:function(){return!(!this.autoOpen||!this.item.is_read)||(this.hasVip||this.item.open)}},Object(Y["e"])("vip",["hasVip"])),methods:{like:function(){this.isLiked||(this.isLiked=!0,this.$emit("like"))},dislike:function(){this.$emit("dislike")}}},qs=Rs,Hs=Object(p["a"])(qs,Ds,Ns,!1,null,null,null),Bs=Hs.exports;function zs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ws(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zs(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Gs={name:"Incoming",components:{Loader:h,IncomingItem:Bs},data:function(){return{me:this.$store.state.config.user,isLoading:!1,isUploading:!1,isBuying:!1,isAutoOpen:!1,list:[]}},computed:Ws({emptyStateText:function(){var t=this.isMan?this.$t("incoming.empty.first_m"):this.$t("incoming.empty.first_w");return this.$t("incoming.empty.like",{gender:t})},emptyStateTextPhoto:function(){var t=this.isMan?this.$t("incoming.empty.female"):this.$t("incoming.empty.male");return this.$t("incoming.empty.photo_msg",{gender:t})},hasPhoto:function(){return!0},isMan:function(){return this.$store.state.config.user.gender===tt}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("feed",["counters"]),{},Object(Y["c"])("vip",["trialIsAvailable"]),{},Object(Y["c"])("feed",["needUploadPhoto"])),created:function(){this.loadNotifications(),this.loadPlacement()},methods:Ws({loadNotifications:function(){var t=this;this.isLoading=!0,Ls({offset:0,include:"user,user.photos",limit:100}).then((function(e){t.list=e.objects,t.isAutoOpen=e.meta.auto_open,t.isLoading=!1,t.trackStatEvents()}))},loadPlacement:function(){var t=Ni.getPlacement(ut);t&&Ni.load(ut)},trackStatEvents:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Likes",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{Likes:"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Likes",ap_action:"View"});var t=this.list.length>0,e=this.list.some((function(t){return!t.is_read}));t?(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Likes",action:"Has Likes"}),this.$nativeStat.trackMetricaEvent("item_action",{Likes:"Has Likes"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Likes",ap_action:"Has Likes"})):this.needUploadPhoto&&(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Likes",action:"Has No Photo"}),this.$nativeStat.trackMetricaEvent("item_action",{Likes:"Has No Photo"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Likes",ap_action:"Has No Photo"})),e&&(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Likes",action:"Has New Likes"}),this.$nativeStat.trackMetricaEvent("item_action",{Likes:"Has New Likes"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Likes",ap_action:"Has New Likes"}))},clickItem:function(t){var e=this;this.markAsRead(t),this.hasVip||t.open?yf.openProfile({id:t.user.id}):this.isAutoOpen?(Ni.present(ut).then((function(){e.loadPlacement()})),yf.openProfile({id:t.user.id})):yf.showLockedUser(t)},like:function(t){var e=this;this.markAsRead(t),xn({to_user_id:t.user.id,type:X}),setTimeout((function(){yf.showMutualSympathy(t.user),e.list=e.list.filter((function(e){return e.id!=t.id}))}),200)},dislike:function(t){this.markAsRead(t),this.list=this.list.filter((function(e){return e.id!=t.id})),As(t.user.id)},markAsRead:function(t){t.is_read||(t.is_read=!0,Ms(t.user.id),this.decreaseEventsCounter("incoming"))},showVipOffer:function(){yf.showVipFullOffer({source:ft})},onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"Likes"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"Likes"})})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}},Object(Y["d"])("feed",["decreaseEventsCounter"]))},Ys=Gs,Xs=Object(p["a"])(Ys,Ss,xs,!1,null,null,null),Js=Xs.exports,Zs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-profile extend"},[i("div",{staticClass:"my-profile__preview",on:{click:t.previewProfile}},[i("div",{staticClass:"my-profile__photo",style:{backgroundImage:"url("+t.photoUrl+")"}}),i("div",{staticClass:"my-profile__name ellipsis"},[t._v(t._s(t.me.name)+", "+t._s(t.me.age))]),i("button",{staticClass:"my-profile__link"},[t._v(t._s(t.$t("profile.link")))])]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"my-profile__edit-btn btn_secondary btn_size-m",on:{click:t.editProfile}},[t._v(" "+t._s(t.$t("profile.btn_edit"))+" ")]),t.hasVip?i("div",{staticClass:"my-profile__vip"},[t._m(0),i("div",{staticClass:"my-profile__vip-status"},[t._v(t._s(t.$t("profile.vip_activated")))])]):i("div",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"my-profile__vip yellow",on:{click:t.showOffer}},[t._m(1),i("div",{staticClass:"my-profile__vip-status",domProps:{innerHTML:t._s(t.$t("profile.btn_vip"))}})]),i("button",{staticClass:"my-profile__link",class:{"my-profile__link_badge":t.hasSupportAnswer},on:{click:t.settings}},[i("i",{staticClass:"ico ico_gear"}),t._v(t._s(t.$t("profile.btn_settings"))+" ")]),i("transition",{attrs:{appear:t.isFirstTime,name:"slide-down"}},[t.needUploadPhoto?i("banner-request-photo",{staticClass:"my-profile__banner"}):t._e()],1)],1)},Qs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-profile__vip-text"},[i("i",{staticClass:"ico ico_diamond-small-gray"}),t._v("VIP")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-profile__vip-text"},[i("i",{staticClass:"ico ico_diamond-small"}),t._v("VIP")])}],Ks=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-request-photo"},[i("div",{staticClass:"banner-request-photo__wrap"},[i("div",[t._v(t._s(t.$t("banner_photo.title")))]),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_white btn_size-m",attrs:{disabled:t.isUploading}},[t._v(" "+t._s(t.$t("banner_photo.btn"))+" ")])]),t.isFirstTime?i("div",{staticClass:"banner-request-photo__icons"},[i("i",{staticClass:"ico ico_face-winking"}),i("i",{staticClass:"ico ico_face-winking"}),i("i",{staticClass:"ico ico_face-winking"})]):t._e(),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},ta=[],ea={name:"BannerRequestPhoto",components:{Loader:h},data:function(){return{isUploading:!1}},computed:{isFirstTime:function(){var t="serious_profile_preq";return!localStorage.getItem(t)}},mounted:function(){var t="serious_profile_preq";localStorage.setItem(t,"1"),this.$nativeStat.trackFirebaseEvent("item_action",{screen:"My Profile",action:"Add Photo"}),this.$nativeStat.trackMetricaEvent("item_action",{"My Profile":"Add Photo"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"My Profile",ap_action:"Add Photo"})},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"My Profile"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"My Profile"})})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},ia=ea,na=Object(p["a"])(ia,Ks,ta,!1,null,null,null),sa=na.exports;function aa(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function oa(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):aa(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ra={name:"MyProfile",components:{BannerRequestPhoto:sa},data:function(){return{me:this.$store.state.config.user,isLoadingStatus:!1}},computed:oa({photoUrl:function(){return this.me.avatars.s2},isFirstTime:function(){var t="serious_profile_preq";return!localStorage.getItem(t)}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("feed",["moderationStatus"]),{},Object(Y["c"])("feed",["needUploadPhoto","hasSupportAnswer"])),created:function(){var t=this;_n().then((function(e){var i=e.objects[0];i.avatars&&t.$store.commit("updateUserAvatar",i.avatars)}))},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"My Profile",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"My Profile":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"My Profile",ap_action:"View"})},methods:{previewProfile:function(){yf.openProfile({id:this.me.id})},editProfile:function(){yf.editProfile()},showOffer:function(){yf.showVipFullOffer({source:vt})},settings:function(){yf.showSettings()}}},ca=ra,la=Object(p["a"])(ca,Zs,Qs,!1,null,null,null),ua=la.exports,pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" starting ")])},da=[],ha={name:"start"},fa=ha,ma=Object(p["a"])(fa,pa,da,!1,null,"30981b32",null),_a=ma.exports,va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup"},[i("nav-view")],1)},ga=[],ba={name:"Signup",computed:{},methods:{}},ya=ba,Ca=Object(p["a"])(ya,va,ga,!1,null,null,null),wa=Ca.exports,Oa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup-step signup-step_gender"},[i("div",{staticClass:"signup-logo"}),i("carousel",{attrs:{paginationEnabled:!1,perPage:1,autoplay:!0,autoplayTimeout:3e3,loop:!0}},t._l(t.slides,(function(e){return i("slide",{class:"signup-slide"},[i("i",{class:"signup-slide__ico ico ico_"+e.icon}),i("div",{staticClass:"signup-slide__text"},[t._v(" "+t._s(e.text)+" ")])])})),1),i("div",{staticClass:"signup-hi"},[t._v(" "+t._s(t.$t("signup.hi"))+" ")]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn ripple_white signup-btn__gender signup-btn__gender_male",on:{click:function(e){return t.setGender("m")}}},[t._v(" "+t._s(t.$t("signup.choice_male"))+" ")]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn ripple_white signup-btn__gender signup-btn__gender_female",on:{click:function(e){return t.setGender("f")}}},[t._v(" "+t._s(t.$t("signup.choice_female"))+" ")]),i("label",{staticClass:"signup-agreements checkbox__label"},[i("input",{attrs:{type:"checkbox",checked:"checked"}}),t._m(0),i("span",{domProps:{innerHTML:t._s(t.$t("signup.agreement_text"))}})])],1)},ka=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"checkbox__box"},[i("span",{staticClass:"checkbox__mark"})])}],Pa=i("0a63");function ja(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ja(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Sa={name:"SignupGender",components:{Carousel:Pa["Carousel"],Slide:Pa["Slide"]},computed:$a({},Object(Y["c"])("signup",["params"])),created:function(){},data:function(){return{agreementsChecked:!0,slides:[{icon:"geo",text:this.$t("signup.meet")},{icon:"dating",text:this.$t("signup.date")},{icon:"cloud",text:this.$t("signup.chat")}]}},methods:{setGender:function(t){this.$store.commit("signup/setGender",t),this.$nav.push("/app/signup/name")}}},xa=Sa,Ea=Object(p["a"])(xa,Oa,ka,!1,null,null,null),La=Ea.exports,Ma=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup-step"},[i("div",[i("signup-step-back"),i("div",{staticClass:"signup-step__title"},[t._v(t._s(t.$t("signup.city")))]),i("div",{staticClass:"signup-step__field"},[t.cityName.length>0?i("div",{staticClass:"signup-step__field-clear",on:{click:t.emptySearch}}):t._e(),i("input",{ref:"inputField",staticClass:"signup-step__input",attrs:{type:"text",placeholder:t.$t("signup.city_placeholder")},domProps:{value:t.cityName},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},input:t.search,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.registration(e)}}})])],1),t.citiesListShown?i("div",{staticClass:"signup-step__cities"},[t._l(t.foundCities,(function(e,n){return i("div",{staticClass:"signup-step__city",on:{click:function(i){return t.setCity(e)}}},[i("div",{staticClass:"signup-step__city-name"},[t._v(t._s(e.name))]),i("div",{staticClass:"signup-step__city-country"},[t._v(t._s(e.countryName))])])})),0!==t.foundCities.length||t.isLoadingCities?t._e():i("div",{staticClass:"signup-step__cities-empty"},[t._v(" "+t._s(t.$t("signup.error_city_not_found"))+" ")]),t.isLoadingCities?i("div",{staticClass:"signup-step__loader loader-wrap loader-wrap-inside"},[i("loader",{attrs:{small:!0}})],1):t._e()],2):i("div",{staticClass:"btn signup-step__btn ripple ripple_white",class:{"signup-step__btn_active":!1!==t.checkCityId()},on:{click:t.registration}},[t._v(t._s(t.$t("done")))]),t.isLoading?i("div",{staticClass:"signup-step__loader loader-wrap loader-wrap-inside"},[i("loader",{attrs:{small:!0}})],1):t._e()])},Aa=[],Ia=(i("ac1f"),i("841c"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup-step__back ripple ripple_white",on:{click:t.back}},[i("div",{staticClass:"ico ico_back-extend"})])}),Da=[],Na={name:"signup-step-back",methods:{back:function(){this.$nav.go(-1)}}},Ta=Na,Fa=Object(p["a"])(Ta,Ia,Da,!1,null,null,null),Va=Fa.exports,Ua={getCurrentPosition:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(e,i){if(t&&Lt.isSupported())Lt.invokeNative("get_location",{},(function(t){t.coordinates?e({latitude:t.coordinates.lat,longitude:t.coordinates.lon}):i({message:"failed to get position"})}));else{if(!("geolocation"in navigator))return i({message:"geolocation not supported"});navigator.geolocation.getCurrentPosition((function(t){return e({latitude:t.coords.latitude,longitude:t.coords.longitude})}),(function(t){return i(t)}))}}))}};function Ra(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function qa(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ra(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ra(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ha={name:"SignupCity",data:function(){return{isLoading:!0,error:null,cityName:"",cityId:0,countryId:0,longitude:0,latitude:0,citiesListShown:!1,foundCities:[],cacheCities:{},isLoadingCities:!1}},mounted:function(){var t=C();t!==kt&&this.requestPosition()},components:{SignupStepBack:Va,Loader:h},computed:qa({},Object(Y["c"])("signup",["params"])),methods:{requestPosition:function(){var t=this;Ua.getCurrentPosition(!0).then((function(e){t.findCityByCoordinations(e.latitude,e.longitude)})).catch((function(){t.search(),t.isLoading=!1}))},search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.cityName=e.target.value);var i=this.cityName;i=i.trim(),this.showListOfCities(),void 0!==this.cacheCities[i]?(this.isLoadingCities=!1,this.foundCities=this.cacheCities[i]):(this.isLoadingCities=!0,An().then((function(e){t.isLoadingCities=!1,t.cacheCities[i]=e,i===t.cityName&&(t.foundCities=e)})).catch((function(){t.isLoadingCities=!1})))},findCityByCoordinations:function(t,e){var i=this;Mn(t,e).then((function(t){var e=t;e?(i.setCity(e),i.isLoading=!1):(i.search(),i.isLoading=!1)})).catch((function(){i.search(),i.isLoading=!1}))},setCity:function(t){this.cityName=t.name,this.cityId=t.id,this.$store.commit("signup/setCityId",this.cityId),this.$store.commit("signup/setCityName",this.cityName),this.hideListOfCities()},emptySearch:function(){this.cityName="",this.search()},showListOfCities:function(){this.citiesListShown=!0},hideListOfCities:function(){this.citiesListShown=!1},checkCityId:function(){return 0!==this.cityId},registration:function(){var t=this;this.isLoading=!0,In(this.params).then((function(e){alert("EEEEEEEEEE"),t.$nav.push("/app/feed")})).catch((function(t){}))}}},Ba=Ha,za=Object(p["a"])(Ba,Ma,Aa,!1,null,null,null),Wa=za.exports,Ga=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup-step"},[i("div",[i("signup-step-back"),i("div",{staticClass:"signup-step__title"},[t._v(t._s(t.$t("signup.name")))]),i("div",{staticClass:"signup-step__field"},[i("input",{ref:"inputField",staticClass:"signup-step__input",class:{"signup-step__input_invalid":null!=t.error},attrs:{placeholder:t.$t("signup.name_placeholder"),type:"text"},domProps:{value:t.userName},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},input:t.input,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}}),t.error?i("div",{staticClass:"signup-step__invalid"},[t._v(t._s(t.error))]):t._e()])],1),i("div",{staticClass:"btn signup-step__btn ripple ripple_white",class:{"signup-step__btn_active":!1!==t.checkName()},on:{click:t.nextStep}},[t._v(t._s(t.$t("done")))])])},Ya=[];function Xa(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ja(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xa(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Za={name:"SignupName",components:{SignupStepBack:Va},data:function(){return{focused:!1,error:null,userName:"",isBtnActive:!1}},computed:Ja({},Object(Y["c"])("signup",["params"])),created:function(){this.userName=this.params.name},mounted:function(){this.$refs.inputField.focus()},methods:{input:function(t){this.userName=t.target.value},back:function(){this.$nav.go(-1)},nextStep:function(){this.checkName()&&this.setName()},checkName:function(){var t=!1;return this.userName.length>0&&(this.isBtnActive=!0,t=!0),t},setName:function(){this.$store.commit("signup/setName",this.userName),this.$nav.push("/app/signup/age")}}},Qa=Za,Ka=Object(p["a"])(Qa,Ga,Ya,!1,null,null,null),to=Ka.exports,eo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"signup-step"},[i("div",[i("signup-step-back"),i("div",{staticClass:"signup-step__title"},[t._v(t._s(t.$t("signup.age")))]),i("div",{staticClass:"signup-step__field"},[i("input",{ref:"inputField",staticClass:"signup-step__input",class:{"signup-step__input_invalid":null!=t.error},attrs:{type:"number",placeholder:t.$t("signup.age_placeholder")},domProps:{value:t.userAge},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},input:t.input,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}}),t.error?i("div",{staticClass:"signup-step__invalid"},[t._v(t._s(t.error))]):t._e()])],1),i("div",{staticClass:"btn signup-step__btn ripple ripple_white",class:{"signup-step__btn_active":!1!==t.checkAge()},on:{click:t.nextStep}},[t._v(t._s(t.$t("done")))])])},io=[];function no(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function so(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?no(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):no(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ao={name:"SignupAge",components:{SignupStepBack:Va},data:function(){return{focused:!1,error:null,userAge:"",isBtnActive:!1}},computed:so({},Object(Y["c"])("signup",["params"])),created:function(){0!==this.params.age&&(this.userAge=this.params.age)},mounted:function(){this.$refs.inputField.focus()},methods:{input:function(t){this.userAge=t.target.value,String(this.userAge).length>=2&&(this.error=this.userAge<18?this.$t("signup.error_age_min_value"):null)},back:function(){this.$nav.go(-1)},nextStep:function(){this.checkAge()&&this.setAge()},checkAge:function(){var t=!1;return+this.userAge>18&&(this.isBtnActive=!0,t=!0),t},setAge:function(){this.$store.commit("signup/setAge",this.userAge),this.$nav.push("/app/signup/city")}}},oo=ao,ro=Object(p["a"])(oo,eo,io,!1,null,null,null),co=ro.exports,lo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"survey"},[i("steps-progress",{staticClass:"survey__progress",attrs:{current:t.currentStep,total:t.questions.length}}),i("div",{staticClass:"survey__questions"},[i("transition",{attrs:{name:"questions"}},[i("question",{key:t.questionIndex,attrs:{question:t.questions[t.questionIndex]}})],1)],1),i("transition",{attrs:{name:"question-actions"}},[t.actionsIsAvailable?i("div",{staticClass:"survey__actions"},[i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:function(e){t.setAnswer({title:t.$t("survey.action_yes"),value:"y"})}}},[t._v(t._s(t.$t("survey.action_yes"))+" ")]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:function(e){t.setAnswer({title:t.$t("survey.action_no"),value:"n"})}}},[t._v(t._s(t.$t("survey.action_no"))+" ")]),i("br"),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_link btn_size-m",on:{click:t.skipQuestion}},[t._v(t._s(t.$t("survey.action_skip")))])]):t._e()]),i("transition",{attrs:{name:"fade-opacity"}},[t.promo?i("promo-survey",{staticClass:"survey__promo",on:{close:function(e){t.promo=!1}}}):t._e()],1),t.isCompleted&&t.payWallIsEnabled?i("result-survey",{attrs:{offer:t.offer,trialIsAvailable:t.trialIsAvailable},on:{close:t.gotoFeed}}):t._e()],1)},uo=[],po=(i("c740"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"steps-progress"},[i("div",{staticClass:"steps-progress__title"},[t._v(t._s(t.current)+"/"+t._s(t.total))]),i("div",{staticClass:"steps-progress__bar"},t._l(t.total,(function(e){return i("div",{key:e,staticClass:"steps-progress__step",class:{"steps-progress__step-current":t.current>=e}},[i("div",{staticClass:"steps-progress__dot"})])})),0)])}),ho=[],fo={name:"StepsProgress",props:["current","total"]},mo=fo,_o=Object(p["a"])(mo,po,ho,!1,null,null,null),vo=_o.exports,go=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"question"},[i("div",{staticClass:"question__head"},[t._v(t._s(t.headText))]),i("div",{staticClass:"question__title"},[t._v(t._s(t.question.question))]),i("transition",{attrs:{name:"answer"}},[t.question.answer?i("div",{staticClass:"question__answer"},[t._v(t._s(t.question.answer.title))]):t._e()])],1)},bo=[],yo={name:"Question",props:["question"],computed:{headText:function(){var t=this.$t(this.isMan?"question.partner_female":"question.partner_male");return this.$t("question.head",{partner:t})},isMan:function(){return this.$store.state.config.user.gender===tt}}},Co=yo,wo=Object(p["a"])(Co,go,bo,!1,null,null,null),Oo=wo.exports,ko=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"promo-survey",class:t.countryClass},[i("div",{staticClass:"promo-survey__title"},[t._v(t._s(t.title))]),i("div",{staticClass:"promo-survey__subtitle"},[t._v(t._s(t.subtitle))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"promo-survey__start-btn btn_primary btn_size-m",on:{click:t.start}},[t._v(" "+t._s(t.$t("survey_promo.btn"))+" ")])])},Po=[],jo={name:"PromoSurvey",computed:{countryClass:function(){return"country_".concat(this.$store.state.config.country)},title:function(){var t=this.$t(this.isMan?"survey_promo.title_female":"survey_promo.title_male");return this.$t("survey_promo.title",{partner:t})},subtitle:function(){var t=this.$t(this.isMan?"survey_promo.subtitle_female":"survey_promo.subtitle_male");return this.$t("survey_promo.subtitle",{partner:t})},isMan:function(){return this.$store.state.config.user.gender===tt}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Match Test Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Match Test Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Match Test Promo",ap_action:"View"})},methods:{start:function(){this.$nativeStat.trackFirebaseEvent("match_test_start"),this.$nativeStat.trackMetricaEvent("match_test_start"),this.$nativeStat.trackAppsFlyerEvent("ap_match_test_start"),this.$emit("close")}}},$o=jo,So=Object(p["a"])($o,ko,Po,!1,null,null,null),xo=So.exports,Eo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"result-survey"},[t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):[i("div",{staticClass:"result-survey__title",domProps:{innerHTML:t._s(t.$t("survey_result.title"))}}),i("div",{staticClass:"result-survey__content"},[i("div",{staticClass:"result-survey__results",class:t.surveyResultClasses}),i("div",{staticClass:"result-survey__description"},[i("div",{staticClass:"result-survey__match",domProps:{innerHTML:t._s(t.matchText)}}),i("div",{staticClass:"result-survey__based"},[t._v(t._s(t.$t("survey_result.based")))])])]),i("div",{staticClass:"result-survey__offer"},[i("div",{staticClass:"result-survey__price",domProps:{innerHTML:t._s(t.price)}}),i("div",{staticClass:"result-survey__methods"},t._l(t.billingMethods,(function(e){return i("button",{directives:[{name:"touch",rawName:"v-touch"}],key:e.id,staticClass:"result-survey__buy-btn btn_size-m",class:[e.has_accent?"btn_primary":"btn_secondary"],attrs:{disabled:t.isBuying},on:{click:function(i){return t.buyOffer(e)}}},[t._v(t._s(t.$t(e.label))+" ")])})),0),t.billingMeta?i("div",{staticClass:"result-survey__terms",domProps:{innerHTML:t._s(t.billingMeta.terms)}}):t._e()]),i("transition",{attrs:{name:"bounce-scale"}},[t.enableClose?i("div",{staticClass:"popup__close",on:{click:function(e){return t.$emit("close")}}},[i("i",{staticClass:"ico ico_exit"})]):t._e()])]],2)},Lo=[];function Mo(t,e,i){return new Promise((function(n,s){switch(t){case yt:default:return Ao({billing_params:e.billing_params,offer:e.sku,type:"subs",source:i}).then(n).catch(s)}}))}function Ao(t){return new Promise((function(e,i){Lt.isSupported()?Lt.invokeNative("buy",t,(function(t){e(t)})):i(new Error("Bridge buy not supported"))}))}function Io(t){return fn.post("api/vip/show",t)}var Do={name:"ResultSurvey",components:{Loader:h},props:["offer","trialIsAvailable"],data:function(){return{me:this.$store.state.config.user,isBuying:!1,isLoading:!1,billingMethods:[],billingMeta:null,enableClose:!1,productPrice:{}}},computed:{surveyResultClasses:function(){return[{"result-survey__results_for-man":this.isMan},"country_".concat(this.$store.state.config.country)]},isMan:function(){return this.me.gender===tt},price:function(){return this.trialIsAvailable?this.$t("survey_result.trial"):this.$t("survey_result.price",{price:this.productPrice.price})},matchText:function(){var t=this.isMan?this.$t("survey_result.female"):this.$t("survey_result.male");return this.$t("survey_result.match",{gender:t})}},created:function(){this.$nativeStat.trackFirebaseEvent("match_test_finish"),this.$nativeStat.trackMetricaEvent("match_test_finish"),this.$nativeStat.trackAppsFlyerEvent("ap_match_test_finish"),this.loadBillingMethods()},mounted:function(){var t=this;setTimeout((function(){t.enableClose=!0}),600)},methods:{buyOffer:function(t){var e=this;this.isBuying=!0,this.trackBeginEvent(),Mo(t.id,this.offer,bt).then((function(t){t.success&&(e.showSuccessNotify(),e.trackCompleteEvent(),e.$store.commit("vip/setVip",!0),e.$emit("close"))})).catch((function(t){console.log("Error buyVip",t.message)})).finally((function(){e.isBuying=!1}))},showSuccessNotify:function(){this.$push.emit("notification",{data:{text:this.$t("notification.vip"),ava:this.me.avatars.s1,ico:"ico ico_diamond-small",style:"yellow-gradient"}})},loadBillingMethods:function(){var t=this;this.isLoading=!0,Io({source:bt,billingParams:this.offer.billing_params}).then((function(e){t.billingMethods=e.objects,t.billingMeta=e.meta,Lt.invokeNative("get_prices",{type:"subs",products:[t.offer.sku]},(function(e){t.productPrice=e[0],t.isLoading=!1,t.trackPromoEvent()}))}))},trackPromoEvent:function(){this.trialIsAvailable?(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"VIP Trial Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"VIP Trial Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"VIP Trial Promo",ap_action:"View"}),this.$nativeStat.trackCommonEvent("vip_trial_promo",{source:bt})):(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"VIP Subscribe Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"VIP Subscribe Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"VIP Subscribe Promo",ap_action:"View"}),this.$nativeStat.trackCommonEvent("vip_subscribe_promo",{source:bt})),this.$nativeStat.trackAppsFlyerEvent("af_content_view",{af_price:this.productPrice.value,af_currency:this.productPrice.currency,af_content_id:this.productPrice.id,af_content_type:bt})},trackBeginEvent:function(){this.$nativeStat.trackCommonEvent("vip_subscribe_begin",{source:bt,subscription_id:this.offer.subscription_id,VALUE:this.productPrice.value,currency:this.productPrice.currency}),this.$nativeStat.trackAppsFlyerEvent("af_initiated_checkout",{af_price:this.productPrice.value,af_currency:this.productPrice.currency,af_content_id:this.productPrice.id,af_content_type:bt})},trackCompleteEvent:function(){this.$nativeStat.trackCommonEvent("vip_subscribe_complete",{source:bt,subscription_id:this.offer.subscription_id,VALUE:this.productPrice.value,currency:this.productPrice.currency}),this.$nativeStat.reportMetricaUserProperty([{key:"is_paying",boolean:!0},{key:"has_vip",boolean:!0}]),this.$nativeStat.reportFirebaseUserProperty([{key:"is_paying",boolean:!0},{key:"has_vip",boolean:!0}])}}},No=Do,To=Object(p["a"])(No,Eo,Lo,!1,null,null,null),Fo=To.exports;function Vo(t){return fn.post("api/survey/answer",t)}var Uo=1,Ro=2,qo=3,Ho={name:"Survey",components:{StepsProgress:vo,Question:Oo,PromoSurvey:xo,ResultSurvey:Fo},data:function(){return{promo:!0,isCompleted:!1,isReadyToAnswer:!0,actionsIsAvailable:!0,questions:[],questionIndex:0,payWallIsEnabled:!0}},created:function(){var t=this.$store.state.config.survey;this.payWallIsEnabled=t.show_paywall,this.questions=t.questions,this.questionIndex=Math.max(0,this.questions.findIndex((function(e){return e.id===t.start_with}))),this.promo=0===this.questionIndex},computed:{offer:function(){var t=this.$store.state.config.survey.vip_offer;return t.purchase||t.trial},trialIsAvailable:function(){var t=this.$store.state.config.survey.vip_offer;return null!=t.trial},currentStep:function(){return this.questionIndex+1}},methods:{setAnswer:function(t){var e=this;if(this.isReadyToAnswer){var i=this.questions[this.questionIndex].id,n="y"===t.value?Uo:Ro;this.isReadyToAnswer=!1,this.actionsIsAvailable=!1,this.$set(this.questions[this.questionIndex],"answer",t),Vo({question_id:i,answer:t.value}),this.trackEventStepComplete(this.currentStep),this.trackEventMatchAnswer(i,n),setTimeout((function(){e.nextQuestion()}),800)}},skipQuestion:function(){if(this.isReadyToAnswer){var t=this.questions[this.questionIndex].id;Vo({question_id:t,answer:"skip"}),this.trackEventStepComplete(this.currentStep),this.trackEventMatchAnswer(t,qo),this.nextQuestion()}},nextQuestion:function(){this.questionIndex<this.questions.length-1?(this.actionsIsAvailable=!0,this.isReadyToAnswer=!0,this.questionIndex++):this.payWallIsEnabled?this.isCompleted=!0:this.gotoFeed()},gotoFeed:function(){this.$nav.redirect("/app/feed")},trackEventStepComplete:function(t){this.$nativeStat.trackFirebaseEvent("match_test_step_complete",{step:t}),this.$nativeStat.trackMetricaEvent("match_test_step_complete",{step:t}),this.$nativeStat.trackAppsFlyerEvent("ap_match_test_step_complete",{ap_step:t})},trackEventMatchAnswer:function(t,e){this.$nativeStat.trackFirebaseEvent("match_answer",{question_id:t,answer_id:e}),this.$nativeStat.trackMetricaEvent("match_answer",{question_id:t,answer_id:e}),this.$nativeStat.trackAppsFlyerEvent("ap_match_answer",{ap_question_id:t,ap_answer_id:e})}}},Bo=Ho,zo=Object(p["a"])(Bo,lo,uo,!1,null,null,null),Wo=(zo.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger"},[i("mutual"),i("div",{staticClass:"messenger__tabs"},t._l(t.tabs,(function(e,n){return i("div",{key:n,class:["messenger__tab",e.style,{active:t.currentTabId===n}],on:{click:function(e){t.currentTabId=n}}},[t._v(t._s(e.title)+" ")])})),0),i("contacts",{attrs:{"extra-params":t.extraParams,settings:t.settings},on:{select:function(e){return t.openContact(e)}}})],1)}),Go=[],Yo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mutual"},[t.counters.events.mutual>0?i("div",{staticClass:"mutual__title"},[t._v(t._s(t.$t("mutual.title_new"))+" "),t.counters.events.mutual>0?i("span",[t._v("+"+t._s(t.counters.events.mutual))]):t._e()]):i("div",{staticClass:"mutual__title"},[t._v(t._s(t.$t("mutual.title")))]),i("div",{staticClass:"mutual__content"},[t.isLoading&&0==t.list.length?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader",{attrs:{extraSmall:!0}})],1):t.list.length>0?i("div",{staticClass:"mutual__list"},t._l(t.list,(function(e,n){return i("mutual-item",{key:e.id,attrs:{item:e},nativeOn:{click:function(i){return t.openContact(e)}}})})),1):i("div",{staticClass:"mutual__empty"},[t._v(" "+t._s(t.$t("mutual.empty"))+" ")])])])},Xo=[],Jo=(i("7db0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mutual-item"},[i("div",{staticClass:"mutual-item__photo-wrap"},[i("div",{staticClass:"mutual-item__photo",style:{backgroundImage:"url("+t.photoUrl+")"}}),t.item.new>0?i("div",{staticClass:"mutual-item__count"},[t._v(t._s(t._f("counterLimit")(t.item.new)))]):t.item.is_read?t._e():i("div",{staticClass:"mutual-item__new"})]),i("div",{staticClass:"mutual-item__title ellipsis",domProps:{innerHTML:t._s(t.item.user.name)}})])}),Zo=[],Qo={name:"MutualItem",props:["item"],computed:{photoUrl:function(){return this.item.user.avatars.s2}}},Ko=Qo,tr=Object(p["a"])(Ko,Jo,Zo,!1,null,null,null),er=tr.exports,ir=new n["default"],nr=ir;function sr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ar(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var or={name:"Mutual",components:{Loader:h,MutualItem:er},data:function(){return{isLoading:!1,list:[]}},computed:ar({},Object(Y["e"])("feed",["counters"])),created:function(){this.loadPairs(),nr.$on("updateCouple",this.updateCouple),nr.$on("removeCouple",this.removeItem)},beforeDestroy:function(){nr.$off("updateCouple",this.updateCouple),nr.$off("removeCouple",this.removeItem)},methods:ar({loadPairs:function(){var t=this;this.isLoading=!0,Es({offset:0,include:"user",limit:100}).then((function(e){t.list=e.objects,t.isLoading=!1;var i=t.list.length>0,n=t.list.some((function(t){return!t.is_read})),s=t.list.some((function(t){return t.new>0}));i&&(t.$nativeStat.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"Has Matches"}),t.$nativeStat.trackMetricaEvent("item_action",{"Messenger Chat List":"Has Matches"}),t.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"Has Matches"})),n&&(t.$nativeStat.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"Has New Matches"}),t.$nativeStat.trackMetricaEvent("item_action",{"Messenger Chat List":"Has New Matches"}),t.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"Has New Matches"})),s&&(t.$nativeStat.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"Has Unread Chats"}),t.$nativeStat.trackMetricaEvent("item_action",{"Messenger Chat List":"Has Unread Chats"}),t.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"Has Unread Chats"}))}))},openContact:function(t){this.markAsRead(t),this.$nav.push("/app/messenger/"+t.user.id)},removeItem:function(t){this.list=this.list.filter((function(e){return e.user.id!=t}))},updateCouple:function(t){var e=this.list.find((function(e){return e.user.id==t.id}));e&&(e.new=t.new)},markAsRead:function(t){t.new=0,t.is_read||(t.is_read=!0,Ms(t.user.id),this.decreaseEventsCounter("mutual"))}},Object(Y["d"])("feed",["decreaseEventsCounter"]))},rr=or,cr=Object(p["a"])(rr,Yo,Xo,!1,null,null,null),lr=cr.exports,ur=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scrollWrapper",staticClass:"messenger-contacts-wrapper"},[i("div",{staticClass:"messenger-contacts"},[t.isEmpty&&t.settings.emptyMessage?i("div",{staticClass:"messenger-contacts__empty"},[i("div",{staticClass:"messenger-contacts__empty-title"},[t._v(t._s(t.settings.emptyMessage))])]):t._e(),t._l(t.contacts,(function(e){return i("contact",{key:e.id,attrs:{contact:e},on:{click:function(i){return t.$emit("select",e)}}})})),t.isLoading?i("contacts-loader"):t.settings.dialogsPromo&&t.hasSuggestions?i("suggestions",{attrs:{users:t.suggestions}}):t._e()],2)])},pr=[],dr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"suggestions"},[t.hasContacts?t._e():i("div",{staticClass:"suggestions__title"},[t._v(t._s(t.$t("suggestions.title")))]),i("div",{staticClass:"suggestions__subtitle",domProps:{innerHTML:t._s(t.subtitle)}}),i("div",{staticClass:"suggestions__users"},t._l(t.users,(function(e){return i("div",{key:e.id,staticClass:"suggestions__user",on:{click:function(i){return t.openChat(e)}}},[i("div",{staticClass:"suggestions__user-photo",style:{backgroundImage:"url("+e.avatars.s2+")"}}),i("div",{staticClass:"suggestions__user-name ellipsis"},[t._v(t._s(e.name))])])})),0)])},hr=[];function fr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function mr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fr(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):fr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var _r={name:"Suggestions",props:["users"],computed:mr({subtitle:function(){return this.$t(this.isMan?"suggestions.subtitle_f":"suggestions.subtitle_m")},hasContacts:function(){return this.contacts.length},isMan:function(){return this.$store.state.config.user.gender===tt},dialogLockedByDailyLimit:function(){return!this.hasVip&&!this.canOpenDialog}},Object(Y["e"])("vip",["hasVip"]),{},Object(Y["e"])("messenger",["contacts"]),{},Object(Y["c"])("feed",["canOpenDialog"])),methods:{openChat:function(t){this.dialogLockedByDailyLimit?yf.showMessageLimit(t):this.$nav.push("/app/messenger/"+t.id)}}},vr=_r,gr=Object(p["a"])(vr,dr,hr,!1,null,null,null),br=gr.exports,yr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-contact",class:t.classes,on:{click:function(e){return t.$emit("click")}}},[i("div",{staticClass:"messenger-contact__ava-wrapper"},[i("div",{staticClass:"messenger-contact__ava",style:{backgroundImage:"url("+t.avaSrc+")"}})]),i("div",{staticClass:"messenger-contact__right-side"},[i("div",{staticClass:"messenger-contact__title"},[i("div",{staticClass:"messenger-contact__name",domProps:{innerHTML:t._s(t.contact.user.name)}}),t.contact.lastmess?i("div",{staticClass:"messenger-contact__date"},[t._v(" "+t._s(t.date)+" ")]):t._e()]),t.contact.lastmess?i("contact-message",{attrs:{contact:t.contact}}):t._e()],1)])},Cr=[],wr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-contact__message"},[i("div",{staticClass:"messenger-contact__message-text",domProps:{innerHTML:t._s(t.text)}}),t.contact.new>0?i("div",{staticClass:"messenger-contact__count"},[t._v(t._s(t._f("counterLimit")(t.contact.new)))]):t._e()])},Or=[],kr={props:["contact"],computed:{text:function(){switch(this.type){case"image":return"";default:return this.contact.lastmess.text}},type:function(){if(this.contact.lastmess.attaches)for(var t in this.contact.lastmess.attaches)return"image"===this.contact.lastmess.attaches[t].type?"image":"other";return"text"}}},Pr=kr,jr=Object(p["a"])(Pr,wr,Or,!1,null,null,null),$r=jr.exports,Sr=function(t,e,i,n){var s=[e,i,n],a=[2,0,1,1,1,2];return s[t%100>4&&t%100<20?2:a[t%10<5?t%10:5]]},xr=i("a925"),Er=i("a8e2"),Lr=i("b0f9");n["default"].use(xr["a"]);var Mr=new xr["a"]({locale:Ct,fallbackLocale:wt,messages:{ru_RU:Er,en_US:Lr}});function Ar(t){var e=Mr.t("date.months"),i=e[t.getMonth()];return"".concat(t.getDate()," ").concat(i)}function Ir(t){var e=t.getMinutes();return e<10&&(e="0".concat(e)),"".concat(t.getHours(),":").concat(e)}function Dr(t){var e=new Date,i=new Date(t),n=i.getTime()>(new Date).setHours(0,0,0);if(n)return Ir(i);var s=i.getTime()>e.setTime(e.getTime()-864e5);return s?Mr.t("date.yesterday"):Ar(i)}var Nr={props:["contact"],components:{ContactMessage:$r},computed:{classes:function(){var t=[];return this.contact.new>0?t.push("messenger-contact_unread-theirs"):this.contact.unread&&t.push("messenger-contact_unread-mine"),this.contact.user.online&&t.push("messenger-contact_online"),t},avaSrc:function(){return this.contact.user.avatars.s2},date:function(){return Dr(1e3*this.contact.lastmess.time)}}},Tr=Nr,Fr=Object(p["a"])(Tr,yr,Cr,!1,null,null,null),Vr=Fr.exports,Ur=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p_m row row_justify-content-center"},[i("loader",{attrs:{"extra-small":!0}})],1)},Rr=[],qr={components:{Loader:h}},Hr=qr,Br=Object(p["a"])(Hr,Ur,Rr,!1,null,null,null),zr=Br.exports;function Wr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Gr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wr(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Yr={components:{ContactsLoader:zr,Suggestions:br,Contact:Vr},props:["extra-params","settings"],data:function(){return{}},computed:Gr({},Object(Y["e"])("messenger",{contacts:function(t){return t.contacts},isLoading:function(t){return t.contactsIsLoading},hasNext:function(t){return t.contactsHasNext}}),{},Object(Y["e"])("feed",["suggestions"]),{hasSuggestions:function(){return this.suggestions.length},isEmpty:function(){return!this.isLoading&&!this.contacts.length}}),watch:{extraParams:function(t){this.loadContactsWithNewExtraParams(t)}},mounted:function(){this.loadContactsWithNewExtraParams(this.extraParams),this.$refs.scrollWrapper.addEventListener("scroll",this.onScroll)},methods:Gr({},Object(Y["b"])("messenger",["loadContactsBatch","loadContactsWithNewExtraParams"]),{onScroll:function(){if(this.hasNext&&!this.isLoading){var t=this.$refs.scrollWrapper.clientHeight,e=this.$refs.scrollWrapper.scrollHeight,i=this.$refs.scrollWrapper.scrollTop;e-t-i<20&&this.loadContactsBatch()}}})},Xr=Yr,Jr=Object(p["a"])(Xr,ur,pr,!1,null,null,null),Zr=Jr.exports,Qr={components:{Mutual:lr,Contacts:Zr},data:function(){return{tabs:[{title:this.$t("messenger.tab_all"),params:{},settings:{dialogsPromo:!0}},{title:this.$t("messenger.tab_online"),params:{filter:"online"},settings:{emptyMessage:this.$t("messenger.online_empty"),dialogsPromo:!1},style:"green"}],currentTabId:0}},computed:{extraParams:function(){return this.tabs[this.currentTabId].params},settings:function(){return this.tabs[this.currentTabId].settings}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Messenger Chat List":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"View"})},methods:{openContact:function(t){this.$nav.push("/app/messenger/"+t.id)}}},Kr=Qr,tc=Object(p["a"])(Kr,Wo,Go,!1,null,null,null),ec=tc.exports,ic=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-chat"},[t.isLoading?i("div"):t.openedContact?[i("Head",{attrs:{contact:t.openedContact}}),t.requiresPhoto?i("chat-photo-block",{attrs:{contact:t.openedContact}}):[i("div",{staticClass:"messenger-chat__body"},[i("messages")],1),i("sendbox")]]:t._e()],2)},nc=[],sc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scrollWrapper",staticClass:"messenger-messages-wrapper"},[i("div",{staticClass:"messenger-messages"},[this.messages.length&&!t.contact.has_my_messages?i("monologue"):t._l(t.messages,(function(e,n){return i(t.getMessageComponent(e),{key:e.id,tag:"component",attrs:{contact:t.contact,message:e,"layout-props":t.getMessageLayoutProps(n)}})})),t.isLoading?i("messages-loader"):t._e(),t.isEmpty?i("messages-empty"):t._e()],2)])},ac=[],oc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-message",class:t.classes},[i("div",{staticClass:"messenger-message__ava",style:{backgroundImage:"url("+t.avaSrc+")"},on:{click:t.openProfile}}),i("div",{staticClass:"messenger-message__bubble-wrapper"},[i("div",{staticClass:"messenger-message__bubble"},[t.attachments&&t.attachments.length?i("div",{staticClass:"messenger-message__attachments"},t._l(t.attachments,(function(e){return i("message-attachment",{key:e.id,attrs:{attachment:e},on:{"click-photo":function(i){return t.openPhoto(e)}}})})),1):t._e(),i("div",{staticClass:"messenger-message__text-wrapper"},[t.text?i("span",{staticClass:"messenger-message__text",domProps:{innerHTML:t._s(t.text)}}):t._e(),i("span",{staticClass:"messenger-message__date"},[t._v(t._s(t.date))])])]),t.layoutProps.isLast&&t.layoutProps.isMine&&!t.contact.unread?i("div",{staticClass:"messenger-message__readed"},[t._v("  ")]):t._e()])])},rc=[],cc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-message__attachment"},[i("div",{staticClass:"messenger-message__attachment-photo",style:{backgroundImage:"url("+t.attachment.url_min+")"},on:{click:function(e){return t.$emit("click-photo")}}})])},lc=[],uc={props:["attachment"]},pc=uc,dc=Object(p["a"])(pc,cc,lc,!1,null,null,null),hc=dc.exports,fc={components:{MessageAttachment:hc},props:["contact","message","layout-props"],computed:{classes:function(){var t=[];return this.layoutProps.isMine&&t.push("messenger-message_mine"),this.layoutProps.isUserFirst&&t.push("messenger-message_user-first"),this.layoutProps.isUserLast&&t.push("messenger-message_user-last"),this.layoutProps.isFirst&&t.push("messenger-message_first"),this.layoutProps.isLast&&t.push("messenger-message_last"),t},avaSrc:function(){return this.contact.user.avatars.s1},text:function(){return this.message.text},attachments:function(){return this.message.attaches},date:function(){return Dr(1e3*this.message.time)}},methods:{openProfile:function(){this.contact.can_view_profile&&yf.openProfile({id:this.contact.id})},openPhoto:function(t){var e;t.url_orig&&this.$nav.pushInstant({activate:function(i){e=vs.open({fetch:function(){return new Promise((function(e){e([t])}))},urlAlias:"url_orig",animated:i})},unload:function(t){vs.close(e,t)}})}}},mc=fc,_c=Object(p["a"])(mc,oc,rc,!1,null,null,null),vc=_c.exports,gc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mutual-message"},[i("div",{staticClass:"mutual-message__title"},[t._v(t._s(t.$t("mutual_message.title")))]),i("div",{staticClass:"mutual-message__text",domProps:{innerHTML:t._s(this.$t("mutual_message.text",{dateDiff:t.dateDiff}))}})])},bc=[],yc=0,Cc=0,wc={init:function(t){yc=t,Cc=(new Date).getTime()},getActualTime:function(){var t=((new Date).getTime()-Cc)/1e3;return Math.floor(yc+t)}},Oc={name:"MutualMessage",props:["contact","message","layout-props"],computed:{dateDiff:function(){return Dr(1e3*this.message.mutual_ts)}}},kc=Oc,Pc=Object(p["a"])(kc,gc,bc,!1,null,null,null),jc=Pc.exports,$c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p_m row row_justify-content-center"},[i("loader",{attrs:{"extra-small":!0}})],1)},Sc=[],xc={components:{Loader:h}},Ec=xc,Lc=Object(p["a"])(Ec,$c,Sc,!1,null,null,null),Mc=Lc.exports,Ac=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messages-empty"},[i("div",{staticClass:"messages-empty__ava",style:{backgroundImage:"url("+t.avaSrc+")"}}),t.openedContact.mutual_ts?[i("div",{staticClass:"messages-empty__mutual-title"},[t._v(t._s(t.$t("messenger_chat.mutual_label")))]),i("div",{staticClass:"messages-empty__mutual-text",domProps:{innerHTML:t._s(t.mutualText)}})]:i("div",{staticClass:"messages-empty__title"},[t._v(t._s(t.title))])],2)},Ic=[];function Dc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Nc(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Dc(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dc(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Tc={computed:Nc({avaSrc:function(){return this.openedContact.user.avatars.s4},title:function(){var t=this.openedContact.user.gender===tt;return this.$t(t?"messenger_chat.empty_m":"messenger_chat.empty_f")},mutualText:function(){return this.$t("messenger_chat.mutual_msg",{name:this.openedContact.name,dateDiff:this.dateDiff})},dateDiff:function(){return Dr(1e3*this.openedContact.mutual_ts)}},Object(Y["e"])("messenger",["openedContact"]))},Fc=Tc,Vc=Object(p["a"])(Fc,Ac,Ic,!1,null,null,null),Uc=Vc.exports,Rc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"monologue"},[i("div",{staticClass:"monologue__ava",style:{backgroundImage:"url("+t.avaSrc+")"}}),t.openedContact.mutual_ts?[i("div",{staticClass:"monologue__mutual-title"},[t._v(t._s(t.$t("messenger_chat.mutual_label")))]),i("div",{staticClass:"monologue__mutual-with ellipsis"},[t._v(t._s(t.$t("messenger_chat.mutual_you_and",{name:t.openedContact.user.name}))+" ")]),i("div",{staticClass:"monologue__mutual-text",domProps:{innerHTML:t._s(t.mutualText)}})]:i("div",{staticClass:"monologue__name",domProps:{innerHTML:t._s(t.openedContact.user.name)}}),t._l(t.filteredMessages,(function(e,n){return i(t.getMessageComponent(e),{key:e.id,tag:"component",attrs:{contact:t.openedContact,message:e,"layout-props":t.getMessageLayoutProps(n)}})}))],2)},qc=[];function Hc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Bc(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Hc(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Hc(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var zc={name:"Monologue",computed:Bc({avaSrc:function(){return this.openedContact.user.avatars.s4},mutualText:function(){return this.$t("messenger_chat.mutual_msg",{name:this.openedContact.user.name,dateDiff:this.dateDiff})},dateDiff:function(){return Dr(1e3*this.openedContact.mutual_ts)},filteredMessages:function(){return this.messages.filter((function(t){return"mutual"!=t.id}))}},Object(Y["e"])("messenger",["openedContact","messages"])),methods:{getMessageComponent:function(t){return t.mutual_ts?jc:vc},getMessageLayoutProps:function(t){var e={};return 0===t&&(e.isFirst=!0),e}}},Wc=zc,Gc=Object(p["a"])(Wc,Rc,qc,!1,null,null,null),Yc=Gc.exports;function Xc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Jc(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xc(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xc(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Zc={components:{MessagesEmpty:Uc,MessagesLoader:Mc,Monologue:Yc},data:function(){return{scrolledBottomOnce:!1,isLoadingHistoryTriggered:!1,wrapperHeight:0,savedScrollHeight:0,savedScrollValue:0}},computed:Jc({},Object(Y["e"])("messenger",{contact:function(t){return t.openedContact},messages:function(t){return t.messages},isLoading:function(t){return t.messagesIsLoading},hasPrev:function(t){return t.messagesHasPrev}}),{isEmpty:function(){return!this.isLoading&&!this.messages.length}}),watch:{contact:function(){this.scrolledBottomOnce=!1},messages:function(){var t=this;this.savedScrollHeight=this.$refs.scrollWrapper.scrollHeight,this.savedScrollValue=this.$refs.scrollWrapper.scrollTop,this.$nextTick((function(){var e=t.$refs.scrollWrapper.scrollHeight;t.scrolledBottomOnce?t.isLoadingHistoryTriggered?t.$refs.scrollWrapper.scrollTop=t.savedScrollValue+(e-t.savedScrollHeight):t.savedScrollHeight-t.wrapperHeight-t.savedScrollValue<100&&(t.$refs.scrollWrapper.scrollTop=e-t.wrapperHeight):e>t.wrapperHeight&&(t.$refs.scrollWrapper.scrollTop=e-t.wrapperHeight,t.scrolledBottomOnce=!0)}))}},mounted:function(){this.loadMessagesBatch(),this.wrapperHeight=this.$refs.scrollWrapper.clientHeight,this.$refs.scrollWrapper.addEventListener("scroll",this.onScroll)},updated:function(){this.wrapperHeight=this.$refs.scrollWrapper.clientHeight},methods:Jc({},Object(Y["b"])("messenger",["loadMessagesBatch"]),{onScroll:function(){this.hasPrev&&!this.isLoading&&this.$refs.scrollWrapper.scrollTop<20&&(this.isLoadingHistoryTriggered=!0,this.loadMessagesBatch())},getMessageComponent:function(t){return t.mutual_ts?jc:vc},getMessageLayoutProps:function(t){var e={};0===t&&(e.isFirst=!0),t===this.messages.length-1&&(e.isLast=!0);var i=t>0?this.messages[t-1]:null,n=this.messages[t],s=t<this.messages.length-1?this.messages[t+1]:null;return i&&i.author_id===n.author_id||(e.isUserFirst=!0),s&&s.author_id===n.author_id||(e.isUserLast=!0),n.author_id===Rt.userId&&(e.isMine=!0),e}})},Qc=Zc,Kc=Object(p["a"])(Qc,sc,ac,!1,null,null,null),tl=Kc.exports,el=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-sendbox"},[t.openedContact.restriction_message?i("restriction",{attrs:{message:t.openedContact.restriction_message}}):i("Form",{attrs:{isSending:t.isSending,photoIsUploading:t.photoIsUploading,placeholder:t.placeholder},on:{submitMessage:t.submitMessage,submitFile:t.submitFile}})],1)},il=[],nl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-form"},[i("div",{staticClass:"messenger-form__left-side"},[i("button",{staticClass:"messenger-form__button messenger-form__attach-photo"},[t.photoIsUploading?[i("loader",{attrs:{"extra-small":!0}})]:[i("CameraIcon"),i("input",{ref:"file",attrs:{type:"file"},on:{change:function(e){return t.onSelectPhoto(e)}}})]],2)]),i("div",{staticClass:"messenger-form__input-wrapper"},[i("div",{ref:"hiddenInput",staticClass:"messenger-form__hidden-input"},[t._v(t._s(t.text))]),i("textarea",{ref:"input",staticClass:"messenger-form__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.text},on:{input:function(e){t.text=e.target.value}}})]),i("div",{staticClass:"messenger-form__right-side"},[i("button",{staticClass:"messenger-form__button",on:{click:t.submit}},[t.isSending?[i("loader",{attrs:{"extra-small":!0}})]:[t.text.trim().length>0?i("SendIcon"):i("SendDisabledIcon")]],2)])])},sl=[],al={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{d:"M10 6a3 3 0 100 6 3 3 0 000-6zm8-3h-2.4a.89.89 0 01-.79-.57L14.19.57A.891.891 0 0013.4 0H6.6a.89.89 0 00-.79.57L5.19 2.43A.891.891 0 014.4 3H2C.9 3 0 3.9 0 5v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 11a5 5 0 110-10 5 5 0 010 10zm7.3-7.601a.7.7 0 110-1.4.7.7 0 010 1.4z",fill:"#999"}})]))}},ol={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm1-7a1 1 0 11-2 0V8.8l-2.9 2.9a.99.99 0 11-1.4-1.4L12 5l5.3 5.3a.99.99 0 11-1.4 1.4L13 8.8V17z",fill:"#F7AD1E"}})]))}},rl={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm1-7a1 1 0 11-2 0V8.8l-2.9 2.9a.99.99 0 11-1.4-1.4L12 5l5.3 5.3a.99.99 0 11-1.4 1.4L13 8.8V17z",fill:"#DDD"}})]))}},cl={components:{CameraIcon:al,SendIcon:ol,SendDisabledIcon:rl,Loader:h},props:["isSending","photoIsUploading","placeholder"],data:function(){return{text:""}},methods:{submit:function(){this.isSending||0===this.text.trim().length||this.$emit("submitMessage",this.text)},onSelectPhoto:function(){this.$emit("submitFile",this.$refs.file.files[0])}},watch:{isSending:function(t){t||(this.text="")}}},ll=cl,ul=Object(p["a"])(ll,nl,sl,!1,null,null,null),pl=ul.exports,dl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-restriction"},[t._v(" "+t._s(t.$t(t.message))+" ")])},hl=[],fl={props:["message"]},ml=fl,_l=Object(p["a"])(ml,dl,hl,!1,null,null,null),vl=_l.exports,gl=(i("26e9"),{install:function(t){Object.defineProperty(t.prototype,"$nativeStat",{get:function(){return gl}})},trackMetricaEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lt.invokeNative("track_metrica_event",{name:t,params:e})},trackFirebaseEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lt.invokeNative("track_firebase_event",{name:t,params:e})},trackAppsFlyerEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lt.invokeNative("track_appsflyer_event",{name:t,params:e})},trackCommonEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gl.trackMetricaEvent(t,e),gl.trackFirebaseEvent(t,e)},reportMetricaUserProperty:function(t){Lt.invokeNative("report_metrica_user_property",t)},reportAppsFlyerUserProperty:function(t){Lt.invokeNative("report_appsflyer_user_property",t)},reportFirebaseUserProperty:function(t){Lt.invokeNative("report_firebase_user_property",t)}}),bl=gl,yl={getContacts:function(t){return Tn(t).then((function(e){if(e.meta.suggestions&&Yt.commit("feed/setSuggestions",e.meta.suggestions),0===t.offset&&void 0===t.filter){var i=e.objects.length>0,n=e.objects.some((function(t){return t.new>0}));i&&(bl.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"Has Chats"}),bl.trackMetricaEvent("item_action",{"Messenger Chat List":"Has Chats"}),bl.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"Has Chats"})),n&&(bl.trackFirebaseEvent("item_action",{screen:"Messenger Chat List",action:"Has Unread Chats"}),bl.trackMetricaEvent("item_action",{"Messenger Chat List":"Has Unread Chats"}),bl.trackAppsFlyerEvent("fs_action",{af_content_type:"Messenger Chat List",ap_action:"Has Unread Chats"}))}return{contacts:e.objects,hasNext:e.meta.has_next}}))},getContact:function(t){return Fn({contactId:t}).then((function(t){return{contact:t.objects[0]}}))},getMessages:function(t,e){return Vn(e).then((function(e){var i={messages:[],hasPrev:!1};return i.hasPrev=e.meta.has_next,i.messages=e.objects,t.mutual_ts&&!i.hasPrev&&i.messages.push(Cl(t)),i.messages.reverse(),i}))},postMessage:function(t){return Un(t)},markReaded:function(t){return Rn({contactId:t})},removeContact:function(t){var e=new FormData;return e.append("id",t),e.append("clear_history",1),e.append("action",2),post("/usercontact_chat/remove_contact/",e)}};function Cl(t){var e={id:"mutual"};return e.mutual_ts=t.mutual_ts,e}function wl(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ol(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):wl(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var kl={components:{Form:pl,Restriction:vl},data:function(){return{isSending:!1,photoIsUploading:!1,me:this.$store.state.config.user}},computed:Ol({placeholder:function(){var t=this.openedContact.user.gender===tt,e=t?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("messenger_chat.placeholder",{pronouns:e})}},Object(Y["e"])("messenger",["openedContact"])),methods:Ol({submitMessage:function(t){var e=this;this.isSending||(this.isSending=!0,this.postMessage({message:t.trim()}).then((function(){e.isSending=!1,e.trackSendEvent(e.openedContact.id,e.me.id,pt)})))},submitFile:function(t){var e=this,i=new FormData;i.append("contactId",this.openedContact.id),i.append("file",t),this.photoIsUploading=!0,yl.postMessage(i).then((function(){e.trackSendEvent(e.openedContact.id,e.me.id,dt)})).finally((function(){e.photoIsUploading=!1}))},trackSendEvent:function(t,e,i){this.$nativeStat.trackCommonEvent("chat_send_message",{user_id:t,created_by_id:e,type_id:i}),this.$nativeStat.trackAppsFlyerEvent("ap_chat_send_message",{ap_user_id:t,ap_created_by_id:e,ap_type_id:i})}},Object(Y["b"])("messenger",["postMessage"]))},Pl=kl,jl=Object(p["a"])(Pl,el,il,!1,null,null,null),$l=jl.exports,Sl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-chat-head"},[i("button",{staticClass:"messenger-chat-head__button",on:{click:function(e){return t.$nav.back()}}},[i("div",{staticClass:"ico ico_back-gray"})]),i("div",{staticClass:"messenger-chat-user"},[i("div",{staticClass:"messenger-chat-user__ava-wrapper",on:{click:t.openProfile}},[i("div",{staticClass:"messenger-chat-user__ava",style:{backgroundImage:"url("+t.avaSrc+")"}}),t.contact.user.online?i("div",{staticClass:"online"}):t._e()]),i("div",{staticClass:"messenger-chat-user__name"},[t._v(t._s(t.contact.user.name))])]),i("div",{staticClass:"messenger-chat-head__controls"},[i("button",{staticClass:"messenger-chat-head__button",on:{click:t.complain}},[i("div",{staticClass:"ico ico_3-dots-gray"})])])])},xl=[];function El(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ll(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?El(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):El(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ml={props:["contact"],computed:{avaSrc:function(){return this.contact.user.avatars.s1}},methods:Ll({openProfile:function(){this.contact.can_view_profile&&yf.openProfile({id:this.contact.id})},complain:function(){yf.complain(this.contact.user)},askRemove:function(){var t=this;confirm("        ?")&&this.removeContact(this.contact.id).then((function(){return t.$nav.back()}))}},Object(Y["b"])("messenger",["removeContact"]))},Al=Ml,Il=Object(p["a"])(Al,Sl,xl,!1,null,null,null),Dl=Il.exports,Nl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chat-photo-block"},[i("div",{staticClass:"chat-photo-block__ava",style:{backgroundImage:"url("+t.avaSrc+")"}}),i("div",{staticClass:"chat-photo-block__title",domProps:{innerHTML:t._s(t.title)}}),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw220",attrs:{disabled:t.isUploading}},[t._v(" "+t._s(t.$t("chat_photo_block.btn"))+" ")]),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},Tl=[],Fl={name:"ChatPhotoBlock",components:{Loader:h},props:["contact"],data:function(){return{isUploading:!1}},computed:{avaSrc:function(){return this.contact.user.avatars.s4},title:function(){var t=this.contact.user.gender===tt,e=t?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("chat_photo_block.title",{pronouns:e})}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Chat Photo Required",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Chat Photo Required":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Chat Photo Required",ap_action:"View"}),this.$nativeStat.trackCommonEvent("chat_photo_required"),this.$nativeStat.trackAppsFlyerEvent("ap_chat_photo_required")},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"Chat Photo Required"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"Chat Photo Required"})})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},Vl=Fl,Ul=Object(p["a"])(Vl,Nl,Tl,!1,null,null,null),Rl=Ul.exports;function ql(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Hl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ql(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ql(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Bl,zl,Wl=3,Gl={init:function(t){Bl=t.chat_ws,Yl()},checkConnection:function(){zl&&zl.readyState!==Wl||Yl()}};function Yl(){try{zl=new WebSocket(Bl),zl.onopen=function(){},zl.onclose=function(){},zl.onerror=function(t){console.log("socket.onerror",t)},zl.onmessage=Xl,window.ts=zl}catch(t){console.log("Socket connect error",t)}}function Xl(t){var e=JSON.parse(t.data);switch(e.body.type){case"newmsg":Jl(e);break;case"read":Zl(e);break}}function Jl(t){var e=t.body.message,i=Hl({id:e.time_id,author_id:e.from_id,time:e.time},e.data),n=e.from_id===parseInt(Rt.userId)?e.to_id:e.from_id,s=Yt.getters["messenger/getContactById"](n);s?Yt.dispatch("messenger/addNewMessage",{contactId:n,message:i}):(yl.getContact(n).then((function(t){var e=t.contact;nr.$emit("updateCouple",e);var s=!0;e.mutual_ts&&(e.has_my_messages?nr.$emit("removeCouple",n):s=!1),s&&(Yt.commit("messenger/addNewContact",e),Yt.dispatch("messenger/addNewMessage",{contactId:n,message:i}))})),Yt.commit("feed/filterSuggestions",n))}function Zl(t){var e=t.body.contact;e.contact_id==Rt.userId&&Yt.commit("messenger/readMineMessages",e.user_id)}function Ql(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Kl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ql(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ql(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var tu={components:{Head:Dl,ChatPhotoBlock:Rl,Messages:tl,Sendbox:$l},props:["id"],data:function(){return{isLoading:!1}},computed:Kl({requiresPhoto:function(){return this.openedContact.requires_photo&&this.needUploadPhoto}},Object(Y["e"])("messenger",["openedContact"]),{},Object(Y["c"])("feed",["needUploadPhoto"])),created:function(){Gl.checkConnection(),this.loadContact()},destroyed:function(){this.closeContact()},methods:Kl({loadContact:function(){var t,e=this;this.isLoading=!0,this.$nav.activeIntent.params.id?t=this.$nav.activeIntent.params.id:this.id&&(t=this.id),yl.getContact(t).then((function(i){e.openContact(i.contact),e.resetNewCounter(t),e.trackOpenEvent(i.contact.id,i.contact.first_message_from?i.contact.first_message_from:""),e.isLoading=!1}))},trackOpenEvent:function(t,e){this.$nativeStat.trackCommonEvent("chat_open",{user_id:t,created_by_id:e}),this.$nativeStat.trackAppsFlyerEvent("ap_chat_open",{ap_user_id:t,ap_created_by_id:e})},navUpdated:function(){var t=this.$nav.activeIntent.params.id||this.id;this.openedContact&&this.openedContact.id!=t&&this.loadContact()}},Object(Y["b"])("messenger",["openContact","setContactSettings","closeContact","markReaded"]),{},Object(Y["d"])("messenger",["resetNewCounter"]))},eu=tu,iu=Object(p["a"])(eu,ic,nc,!1,null,null,null),nu=iu.exports,su=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"support-chat extend"},[i("div",{staticClass:"support-chat__head"},[i("div",{staticClass:"support-chat__back",on:{click:function(e){return t.$nav.back()}}},[i("div",{staticClass:"ico ico_back-gray"})]),i("div",{staticClass:"support-chat__avatar"}),i("div",{staticClass:"support-chat__name"},[t._v(t._s(t.$t("support_chat.name")))])]),i("div",{staticClass:"support-chat__body"},[t.isLoading?i("messages-loader"):i("chat-messages")],1),i("chat-form",{staticClass:"support-chat__form"})],1)},au=[],ou=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scrollWrapper",staticClass:"chat-messages"},t._l(t.messages,(function(e,n){return i("chat-message",{key:e.id,attrs:{message:e,"layout-props":t.getMessageLayoutProps(n)}})})),1)},ru=[],cu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"messenger-message",class:t.classes},[i("div",{staticClass:"messenger-message__ava"}),i("div",{staticClass:"messenger-message__bubble-wrapper"},[i("div",{staticClass:"messenger-message__bubble"},[t.attachments&&t.attachments.length?i("div",{staticClass:"messenger-message__attachments"},t._l(t.attachments,(function(e){return i("message-attachment",{key:e.id,attrs:{attachment:e},on:{"click-photo":function(i){return t.openPhoto(e)}}})})),1):t._e(),i("div",{staticClass:"messenger-message__text-wrapper"},[t.text?i("span",{staticClass:"messenger-message__text",domProps:{innerHTML:t._s(t.text)}}):t._e(),t.message.published_at?i("span",{staticClass:"messenger-message__date"},[t._v(t._s(t.date))]):t._e()])])])])},lu=[];function uu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function pu(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?uu(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):uu(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var du={name:"ChatMessage",components:{MessageAttachment:hc},props:["message","layout-props"],computed:{classes:function(){var t=[];return this.layoutProps.isMine&&t.push("messenger-message_mine"),this.layoutProps.isUserFirst&&t.push("messenger-message_user-first"),this.layoutProps.isUserLast&&t.push("messenger-message_user-last"),this.layoutProps.isFirst&&t.push("messenger-message_first"),this.layoutProps.isLast&&t.push("messenger-message_last"),t},text:function(){return this.message.message},attachments:function(){return this.message.files.map((function(t){return pu({url_min:t.show_url},t)}))},date:function(){return Dr(1e3*this.message.published_at)}},methods:{openPhoto:function(t){var e;t.show_url&&this.$nav.pushInstant({activate:function(i){e=vs.open({fetch:function(){return new Promise((function(e){e([t])}))},urlAlias:"show_url",animated:i})},unload:function(t){vs.close(e,t)}})}}},hu=du,fu=Object(p["a"])(hu,cu,lu,!1,null,null,null),mu=fu.exports;function _u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function vu(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_u(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var gu={name:"ChatMessages",components:{ChatMessage:mu},data:function(){return{scrolledBottomOnce:!1,wrapperHeight:0,savedScrollHeight:0,savedScrollValue:0}},computed:vu({},Object(Y["e"])("usedesk",["messages"])),mounted:function(){this.scrollToBottom()},updated:function(){this.scrollToBottom()},methods:{scrollToBottom:function(){this.$refs.scrollWrapper.scrollTop=this.$refs.scrollWrapper.scrollHeight-this.$refs.scrollWrapper.clientHeight},getMessageLayoutProps:function(t){var e={};0===t&&(e.isFirst=!0),t===this.messages.length-1&&(e.isLast=!0);var i=t>0?this.messages[t-1]:null,n=this.messages[t],s=t<this.messages.length-1?this.messages[t+1]:null;return i&&i.from===n.from||(e.isUserFirst=!0),s&&s.from===n.from||(e.isUserLast=!0),"client"===n.from&&(e.isMine=!0),e}},watch:{messages:function(){var t=this;this.$nextTick((function(){t.scrollToBottom()}))}}},bu=gu,yu=Object(p["a"])(bu,ou,ru,!1,null,null,null),Cu=yu.exports,wu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chat-form"},[i("Form",{attrs:{isSending:t.isSending,photoIsUploading:t.photoIsUploading,placeholder:t.placeholder},on:{submitMessage:t.submitMessage,submitFile:t.submitFile}})],1)},Ou=[];function ku(t){return fn.post("api/usedesk/addComment",t)}function Pu(){return fn.get("api/usedesk/getChat")}var ju={name:"ChatForm",components:{Form:pl},data:function(){return{isSending:!1,photoIsUploading:!1}},computed:{placeholder:function(){return this.$t("support_chat.placeholder")}},methods:{submitMessage:function(t){var e=this;this.isSending=!0;var i=new FormData;i.append("message",t),ku(i).then(Pu).then((function(t){var i=t.raw.result.comments||[];e.$store.commit("usedesk/initMessages",i)})).catch((function(t){console.log("submitMessage error",t)})).finally((function(){e.isSending=!1}))},submitFile:function(t){var e=this;this.photoIsUploading=!0;var i=new FormData;i.append("file",t),ku(i).then(Pu).then((function(t){var i=t.raw.result.comments||[];e.$store.commit("usedesk/initMessages",i)})).catch((function(t){console.log("submitFile error",t)})).finally((function(){e.photoIsUploading=!1}))}}},$u=ju,Su=Object(p["a"])($u,wu,Ou,!1,null,null,null),xu=Su.exports,Eu={name:"SupportChat",components:{MessagesLoader:Mc,ChatMessages:Cu,ChatForm:xu},data:function(){return{isLoading:!1}},created:function(){this.loadChat()},methods:{loadChat:function(){var t=this;this.isLoading=!0,Pu().then((function(e){var i=e.raw.result.comments||[];t.$store.commit("usedesk/initMessages",i),t.$store.commit("feed/resetSupportCounter"),t.isLoading=!1}))}}},Lu=Eu,Mu=Object(p["a"])(Lu,su,au,!1,null,null,null),Au=Mu.exports,Iu=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Du=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tutorial"},[i("h1",[t._v("  ")]),i("div",[t._v("       ,  ,  , , .         ,     ")]),i("div",{staticClass:"tutorial-next"},[i("div",{staticClass:"btn"},[t._v(" s ")])])])}],Nu={name:"tutorial"},Tu=Nu,Fu=Object(p["a"])(Tu,Iu,Du,!1,null,"1a1b39f6",null),Vu=(Fu.exports,i("a519"));function Uu(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ru(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Uu(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Uu(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var qu=function(t){function e(){return Object(M["a"])(this,e),Object(Pi["a"])(this,Object(ji["a"])(e).apply(this,arguments))}return Object($i["a"])(e,t),Object(A["a"])(e,[{key:"activate",value:function(t){var e=t.animated,i=t.intent;if(this.component)throw new Error("ExtendHandler: Component already created");var n=this;this.component=Object.assign({},this.config.component,{nav:Bu,mixins:[{beforeCreate:function(){n.component=this}}]});var s=this.config.advancedOptions||{};this.extend=new Bn({component:this.component,options:Ru({myClass:"popup_extend"},s)}),Yt.dispatch("popups/openPopup",{popup:this.extend,animated:e}),this.config.didActivated&&this.config.didActivated(i)}},{key:"unload",value:function(t){var e=t.animated,i=t.intent;this.extend&&(Yt.dispatch("popups/closePopup",{popup:this.extend,animated:e}),this.extend=null,this.component=null,this.config.didUnloaded&&this.config.didUnloaded(i))}},{key:"update",value:function(t){var e=t.intent;e.options.ignoreUpdate||this.component&&this.component.navUpdated&&this.component.navUpdated()}},{key:"append",value:function(t){var e=this;if(!this.component)throw new Error("ExtendContainer: No component");n["default"].nextTick((function(){e.component.navViewComponent=t}))}},{key:"remove",value:function(){var t=this;if(!this.component)throw new Error("ExtendContainer: No component");n["default"].nextTick((function(){t.component&&(t.component.navViewComponent=null)}))}}]),e}(Vu["NavigationHandler"]);n["default"].use(Jt.a);var Hu=new Jt.a({baseURL:"/app/"},[{path:"/",redirect:"/start"},{name:"start",path:"/start",component:_a},{name:"signup",path:"/signup",redirect:"/signup/gender",component:wa,didActivated:function(){return Yt.commit("setNavigationTab",rt)},children:[{path:"gender",component:La},{path:"name",component:to},{path:"age",component:co},{path:"city",component:Wa}]},{name:"tutorial",path:"/tutorial",component:"Tutorial",didActivated:function(){return Yt.commit("setNavigationTab",rt)}},{name:"feed",path:"/feed",component:Hi,didActivated:function(){return Yt.commit("setNavigationTab",nt)},children:[{path:"profile",construct:qu,component:$s}]},{name:"messenger",path:"/messenger",component:ec,didActivated:function(){return Yt.commit("setNavigationTab",at)},children:[{path:":id",construct:qu,component:nu,advancedOptions:{ignoreBottomBanner:!0}}]},{name:"incoming",path:"/incoming",component:Js,didActivated:function(){return Yt.commit("setNavigationTab",st)}},{name:"profile",path:"/profile",component:ua,didActivated:function(){return Yt.commit("setNavigationTab",ot)},children:[{path:"support",construct:qu,component:Au}]}]);Yt.registerModule("nav",{state:{record:null,intent:null}}),Hu.nav.eventBus.on("active",(function(t){var e=t.record,i=t.intent;Yt.state.nav.intent=i,Yt.state.nav.record=e}));var Bu=Hu,zu=function(){function t(e,i){Object(M["a"])(this,t),this.buffer=e||[],this.autoload=i,this.loading=!1,this.waiters=[],this.broken=!1,this.previousBufferIds={};var n=!0,s=!1,a=void 0;try{for(var o,r=this.buffer[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var c=o.value;this.previousBufferIds[c.id]=!0}}catch(l){s=!0,a=l}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}}return Object(A["a"])(t,[{key:"getNextItem",value:function(t){var e=this;if(this.loading){var i=new Promise((function(t,i){e.waiters.push({resolve:t,reject:i})}));t({status:"loading",promise:i})}else if(this.broken&&!this.buffer.length)t({status:"broken"});else if(this.buffer.length)t({status:"default",item:this.buffer.shift()}),this.buffer.length||!this.autoload||this.broken||this._load();else{var n=new Promise((function(t,i){e.waiters.push({resolve:t,reject:i})}));t({status:"loading",promise:n}),this._load()}}},{key:"load",value:function(t){throw Error("BufferedDataSource: load() method desn't implemented")}},{key:"_load",value:function(){var t=this;this.loading||(this.loading=!0,this.load(++this.page).then((function(e){t.loading=!1;var i=!0,n=!1,s=void 0;try{for(var a,o=e.buffer[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var r=a.value;t.previousBufferIds[r.id]||t.buffer.push(r)}}catch(f){n=!0,s=f}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}t.previousBufferIds={};var c=!0,l=!1,u=void 0;try{for(var p,d=e.buffer[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=p.value;t.previousBufferIds[h.id]=!0}}catch(f){l=!0,u=f}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}t.broken=!e.hasNext,t._onLoadSuccess()})).catch((function(){t.loading=!1,t.broken=!0,t._onLoadFail()})))}},{key:"_onLoadSuccess",value:function(){while(this.buffer.length&&this.waiters.length){var t=this.buffer.shift(),e=this.waiters.shift();e.resolve(t)}this.waiters.length&&this._load()}},{key:"_onLoadFail",value:function(){for(var t=0;t<this.waiters.length;t++)this.waiters[t].reject();this.waiters=[]}}]),t}(),Wu=function(t){function e(t){return Object(M["a"])(this,e),Object(Pi["a"])(this,Object(ji["a"])(e).call(this,t||[],!0))}return Object($i["a"])(e,t),Object(A["a"])(e,[{key:"load",value:function(t){var e=this;return new Promise((function(t,i){Yt.commit("feed/setLoading",!0),$n({include:"photos,interests",exclude_ids:e.getBufferIds()}).then((function(e){Yt.commit("feed/setLoading",!1),e.objects&&e.objects.length>0?t({buffer:e.objects,hasNext:!0}):i()})).catch(i)}))}},{key:"getBufferIds",value:function(){return Object.keys(this.previousBufferIds)}}]),e}(zu),Gu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-photo extend",style:{backgroundImage:"url("+t.photoUrl+")"}},[i("div",{staticClass:"main-photo__content"},[i("div",{staticClass:"main-photo__message"},[i("i",{staticClass:"ico ico_camera"}),i("span",{domProps:{innerHTML:t._s(t.message)}})]),i("div",{staticClass:"main-photo__buttons"},[i("button",{staticClass:"main-photo__btn-back",domProps:{innerHTML:t._s(t.$t("main_photo.bnt_later"))},on:{click:function(e){return t.$nav.back()}}}),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",attrs:{disabled:t.isUploading}},[t._v(" "+t._s(t.$t("main_photo.bnt_add"))+" ")])])]),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},Yu=[],Xu={name:"MainPhoto",components:{Loader:h},props:["card"],data:function(){return{user:this.$store.state.config.user,isUploading:!1}},computed:{photoUrl:function(){return this.card.avatars.s5},message:function(){return this.$t(this.isMan?"main_photo.msg_male":"main_photo.msg_female",{name:this.card.name})},isMan:function(){return this.$store.state.config.user.gender===tt}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Photo Feed Add Photo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Photo Feed Add Photo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Photo Feed Add Photo",ap_action:"View"})},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"Photo Feed"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"Photo Feed"}),e.$nav.back()})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},Ju=Xu,Zu=Object(p["a"])(Ju,Gu,Yu,!1,null,null,null),Qu=Zu.exports,Ku=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"real-photo"},[i("div",{staticClass:"real-photo__head"},[i("div",{staticClass:"real-photo__photo-wrap"},[i("div",{staticClass:"real-photo__photo",style:{backgroundImage:"url("+t.photoUrl+")"}})]),i("i",{staticClass:"ico ico_attention"})]),i("div",{staticClass:"real-photo__message"},[i("i",{staticClass:"ico ico_camera"}),t._v(" "+t._s(t.$t("real_photo.msg"))+" ")]),i("div",{staticClass:"real-photo__sub-title"},[t._v(t._s(t.$t("real_photo.subtitle")))]),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",attrs:{disabled:t.isUploading}},[t._v(t._s(t.$t("real_photo.btn_add")))]),i("button",{staticClass:"real-photo__btn-back",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("real_photo.btn_later")))]),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},tp=[],ep={name:"RealPhoto",components:{Loader:h},props:["card"],data:function(){return{user:this.$store.state.config.user,isUploading:!1}},computed:{photoUrl:function(){return this.user.avatars.s1}},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nav.back()})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},ip=ep,np=Object(p["a"])(ip,Ku,tp,!1,null,null,null),sp=np.exports,ap=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swipe-tutor"},[i("div",{staticClass:"swipe-tutor__head"},[i("i",{staticClass:"ico",class:[t.isRightSwipe?"ico_face-hearts":"ico_face-confused"]})]),i("div",{staticClass:"swipe-tutor__message"},[i("i",{staticClass:"ico ico_pointign-up"}),t.isRightSwipe?i("div",{domProps:{innerHTML:t._s(t.likeMessage)}}):i("div",{domProps:{innerHTML:t._s(t.dislikeMessage)}})]),t.isRightSwipe?t._e():i("div",{staticClass:"swipe-tutor__sub-title",domProps:{innerHTML:t._s(t.dislikeSubTittle)}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("swipe.btn")))])])},op=[],rp={name:"SwipeTutor",props:["card","dir"],computed:{likeMessage:function(){var t=this.isMan?this.$t("swipe.like_her"):this.$t("swipe.like_him");return this.$t("swipe.like",{pronouns:t})},dislikeMessage:function(){var t=this.isMan?this.$t("swipe.like_her"):this.$t("swipe.like_him");return this.$t("swipe.dislike",{pronouns:t})},dislikeSubTittle:function(){var t=this.isMan?this.$t("personal_pronouns.she"):this.$t("personal_pronouns.he");return this.$t("swipe.dislike_sub",{pronouns:t})},isMan:function(){return this.$store.state.config.user.gender===tt},isRightSwipe:function(){return this.dir===et}}},cp=rp,lp=Object(p["a"])(cp,ap,op,!1,null,null,null),up=lp.exports,pp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"push-permissions"},[i("div",{staticClass:"push-permissions__head"},[i("div",{staticClass:"push-permissions__photo",style:{backgroundImage:"url("+t.card.avatars.s4+")"}}),t._m(0)]),i("div",{staticClass:"push-permissions__message",domProps:{innerHTML:t._s(t.message)}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_secondary btn_size-m btn_mw220",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("push_permission.decline")))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw220",on:{click:t.subscribe}},[t._v(t._s(t.$t("push_permission.accept")))])])},dp=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"push-permissions__ico"},[i("i",{staticClass:"ico ico_bell"})])}],hp={name:"PushPermissions",props:["card"],data:function(){return{user:this.$store.state.config.user}},computed:{message:function(){var t="m"===this.user.gender?this.$t("push_permission.female"):this.$t("push_permission.male");return this.$t("push_permission.message",{my_name:this.user.name,user_name:this.card.name,gender:t})}},methods:{subscribe:function(){Lt.invokeNative("push_subscribe"),this.$nav.back()}}},fp=hp,mp=Object(p["a"])(fp,pp,dp,!1,null,null,null),_p=mp.exports,vp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mutual-sympathy extend",class:{"mutual-sympathy_focused":t.focused},style:{backgroundImage:"url("+t.photoUrl+")"}},[i("div",{staticClass:"mutual-sympathy__content"},[i("div",{staticClass:"mutual-sympathy__title"},[t._v(t._s(t.$t("mutual_symp.title")))]),i("div",{staticClass:"mutual-sympathy__sub-title"},[t._v(t._s(t.subtitle))]),i("inline-message",{staticClass:"mutual-sympathy__input-wrap",class:{hidden:t.messageSend},attrs:{placeholder:t.inputPlaceholder},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},submit:t.sendMessage}}),i("button",{staticClass:"mutual-sympathy__btn-back",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("mutual_symp.btn")))])],1),t.isSending?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},gp=[],bp={name:"MutualSympathy",components:{Loader:h,InlineMessage:sn},props:["user"],data:function(){return{focused:!1,isSending:!1,messageSend:!1}},computed:{photoUrl:function(){return this.user.photos?this.user.photo[0]["url"].s5:this.user.avatars.s5},subtitle:function(){return this.$t("mutual_symp.subtitle",{name:this.user.name})},inputPlaceholder:function(){var t=this.isMan?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("mutual_symp.placeholder",{pronouns:t})},isMan:function(){return this.user.gender===tt}},methods:{sendMessage:function(t){var e=this;this.isSending=!0,Un({contactId:this.user.id,message:t}).then((function(t){e.messageSend=!0,e.$push.emit("notification",{data:{text:e.$t("notification.msg"),ava:e.user.avatars.s1,style:"yellow"}})})).catch((function(t){yf.showMessageLimit(e.user)})).finally((function(){e.isSending=!1}))}}},yp=bp,Cp=Object(p["a"])(yp,vp,gp,!1,null,null,null),wp=Cp.exports,Op=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"locked-user extend"},[i("div",{staticClass:"locked-user__photo",style:{backgroundImage:"url("+t.photoUrl+")"}}),i("div",{staticClass:"locked-user__title"},[i("div",{staticClass:"locked-user__name"},[i("span",[t._v(t._s(t.userName))]),t.item.user.online?i("span",{staticClass:"online-status"}):t._e()]),t._v(" "+t._s(t.title)+" ")]),i("div",{staticClass:"locked-user__subtitle"},[i("i",{staticClass:"ico ico_lock2"}),i("br"),t._v(" "+t._s(t.subtitle)+" ")]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"locked-user__btn-buy btn_primary btn_size-m btn_mw220",attrs:{disabled:t.isBuying},on:{click:t.showVipOffer}},[t._v(" "+t._s(t.$t("locked_user.btn_open"))+" ")]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_link btn_size-m btn_mw220",on:{click:t.gotoFeed}},[t._v(t._s(t.$t("locked_user.btn_play")))]),i("div",{staticClass:"locked-user__back",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_exit"})])])},kp=[],Pp={name:"LockedUser",props:["item"],data:function(){return{isBuying:!1}},computed:{photoUrl:function(){return this.item.user.avatars.s5},userName:function(){return this.item.user.name.substr(0,1)+""},title:function(){var t=this.$store.state.config.user.gender===tt,e=t?this.$t("locked_user.male"):this.$t("locked_user.female");return this.$t("locked_user.title",{gender:e})},subtitle:function(){var t=this.item.user.gender===tt,e=t?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("locked_user.subtitle",{pronouns:e})},isMan:function(){return this.$store.state.config.user.gender===tt}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Like Locked",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Like Locked":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Like Locked",ap_action:"View"})},methods:{gotoFeed:function(){var t=this;this.$nav.back().then((function(){t.$nav.push("/app/feed")}))},showVipOffer:function(){var t=this;yf.showVipFullOffer({source:mt}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.success&&yf.openProfile({id:t.item.user.id},!0)}))}}},jp=Pp,$p=Object(p["a"])(jp,Op,kp,!1,null,null,null),Sp=$p.exports,xp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vip-full-offer extend"},[t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):[i("div",{staticClass:"vip-full-offer__title",domProps:{innerHTML:t._s(t.$t("vip_offer.title"))}}),i("ol",{staticClass:"vip-full-offer__profit"},[i("li",{staticClass:"vip-full-offer__profit-item"},[t._v(t._s(t.$t("vip_offer.profit[0]")))]),i("li",{staticClass:"vip-full-offer__profit-item"},[t._v(t._s(t.$t("vip_offer.profit[1]")))]),i("li",{staticClass:"vip-full-offer__profit-item"},[t._v(t._s(t.$t("vip_offer.profit[2]")))])]),i("div",{staticClass:"vip-full-offer__extra"},[t.isOneTimeOffer?[i("div",{staticClass:"vip-full-offer__discount"},[i("div",{staticClass:"vip-full-offer__discount-message",domProps:{innerHTML:t._s(t.$t("vip_offer.discount",{count:t.offer.discount_percent}))}}),t.isIOS?i("div",{staticClass:"vip-full-offer__discount-sub-message",domProps:{innerHTML:t._s(t.$t("vip_offer.discount_ios_price",{price:this.productPrice.price,old_price:2*this.productPrice.value}))}}):t._e(),i("div",{staticClass:"vip-full-offer__discount-countdown"},[t._v(t._s(this.discountCountdown))])]),t.isIOS?t._e():i("div",{staticClass:"vip-full-offer__price",domProps:{innerHTML:t._s(t.priceMessage)}})]:t.trialIsAvailable?i("div",{staticClass:"vip-full-offer__trial"},[i("div",{staticClass:"vip-full-offer__trial-message",domProps:{innerHTML:t._s(t.$t("vip_offer.trial",{count:t.offer.trial_days}))}}),t.isIOS?i("div",{staticClass:"vip-full-offer__trial-sub-message",domProps:{innerHTML:t._s(t.$t("vip_offer.trial_price",{price:t.productPrice.price}))}}):t._e()]):i("div",{staticClass:"vip-full-offer__price",domProps:{innerHTML:t._s(t.priceMessage)}}),i("div",{staticClass:"vip-full-offer__extra-content"},[i("div",{staticClass:"vip-full-offer__methods"},[t._l(t.billingMethods,(function(e){return i("button",{directives:[{name:"touch",rawName:"v-touch"}],key:e.id,staticClass:"vip-full-offer__buy-btn btn_size-m",class:[e.has_accent?"btn_primary":"btn_secondary"],attrs:{disabled:t.isBuying},on:{click:function(i){return t.buyOffer(e)}}},[t._v(t._s(t.$t(e.label))+" ")])})),t.isIOS?i("button",{staticClass:"vip-full-offer__buy-btn btn_link btn_size-m",attrs:{disabled:t.isBuying},on:{click:t.restorePurchases}},[t._v(" "+t._s(this.$t("vip_offer.restore"))+" ")]):t._e()],2),t.billingMeta.terms?i("div",{staticClass:"vip-full-offer__terms",domProps:{innerHTML:t._s(t.billingMeta.terms)}}):t._e()])],2),i("div",{staticClass:"vip-full-offer__back",on:{click:t.closeOffer}},[i("i",{staticClass:"ico ico_exit-gray"})]),t.confirmShown?i("confirm-close-discount",{staticClass:"vip-full-offer__close-confirm",attrs:{discount:t.offer.discount_percent,countdown:t.discountCountdown},on:{confirm:function(e){return t.$nav.back({success:!1})},reject:function(e){t.confirmShown=!1}}}):t._e()]],2)},Ep=[],Lp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm-close-discount",class:{shown:t.shown}},[i("div",{staticClass:"confirm-close-discount__popup"},[i("div",{staticClass:"confirm-close-discount__title"},[t._v(t._s(t.$t("discount_close.title")))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_secondary btn_size-m",on:{click:t.okClick}},[t._v(t._s(t.$t("discount_close.confirm")))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",on:{click:t.cancelClick}},[t._v(" "+t._s(t.$t("discount_close.reject",{count:t.discount}))+" "),i("div",{staticClass:"confirm-close-discount__countdown"},[t._v(t._s(t.countdown))])])])])},Mp=[],Ap={name:"ConfirmCloseDiscount",props:["countdown","discount"],data:function(){return{shown:!1}},mounted:function(){var t=this;setTimeout((function(){t.shown=!0}),100)},methods:{okClick:function(){this.$emit("confirm")},cancelClick:function(){var t=this;this.shown=!1,setTimeout((function(){t.$emit("reject")}),400)}}},Ip=Ap,Dp=Object(p["a"])(Ip,Lp,Mp,!1,null,null,null),Np=Dp.exports,Tp=0,Fp=[],Vp=!1,Up=1e3,Rp={isActive:function(t){return-1!=Fp.indexOf(t)},addCallback:function(t){this.isActive(t)||(Vp||this.start(),Fp.push(t),t(wc.getActualTime()))},removeCallback:function(t){if(this.isActive(t)){for(var e=Fp.length-1;e>=0;e--)if(Fp[e]==t){Fp.splice(e,1);break}Vp&&0==Fp.length&&this.stop()}},start:function(){Vp=!0,Tp=setInterval(this.timerHandler,Up)},stop:function(){Vp=!1,clearInterval(Tp)},timerHandler:function(){for(var t=wc.getActualTime(),e=Fp.length-1;e>=0;e--)Fp[e](t)}};function qp(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Hp(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qp(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qp(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Bp={name:"VipFullOffer",components:{Loader:h,ConfirmCloseDiscount:Np},props:["source"],data:function(){return{me:this.$store.state.config.user,isBuying:!1,isLoading:!1,billingMethods:[],billingMeta:null,offer:null,confirmShown:!1,discountEndTimestamp:0,discountCountdown:0,productPrice:{}}},computed:Hp({trialIsAvailable:function(){return null!=this.vip.trial},isOneTimeOffer:function(){return this.offer.is_one_time_offer},priceMessage:function(){var t=parseInt(this.offer.period_value);return this.offer.discount_percent>0?this.$t("vip_offer.discount_price",{period:t,price:this.productPrice.price,old_price:2*this.productPrice.value}):this.$t("vip_offer.price",{period:t,price:this.productPrice.price})},isIOS:function(){return C()===kt}},Object(Y["e"])("vip",["purchaseOffer","trial"])),created:function(){var t=this.purchaseOffer&&this.purchaseOffer.is_one_time_offer?this.purchaseOffer:null;this.vip={trial:this.trial,purchase:this.purchaseOffer},this.offer=t||this.vip.trial||this.vip.purchase,this.loadBillingMethods()},beforeDestroy:function(){this.stopTimer()},methods:{loadBillingMethods:function(){var t=this;this.isLoading=!0,Io({source:this.source,billingParams:this.offer.billing_params}).then((function(e){t.billingMethods=e.objects,t.billingMeta=e.meta,t.isOneTimeOffer&&(t.discountEndTimestamp=wc.getActualTime()+60,t.startTimer()),e.meta.next_offer&&(t.$store.commit("vip/setPurchaseOffer",e.meta.next_offer.purchase),t.$store.commit("vip/setTrial",e.meta.next_offer.trial)),Lt.invokeNative("get_prices",{type:"subs",products:[t.offer.sku]},(function(e){t.productPrice=e[0],t.isLoading=!1,t.trackPromoEvent()}))}))},buyOffer:function(t){var e=this;this.isBuying=!0,this.trackBeginEvent(),Mo(t.id,this.offer,this.source).then((function(t){t.success&&(e.showSuccessNotify(),e.trackCompleteEvent(),e.$store.commit("vip/setVip",!0),e.$nav.back({success:!0}))})).catch((function(t){console.log("Error buyVip",t.message)})).finally((function(){e.isBuying=!1}))},restorePurchases:function(){Lt.invokeNative("restore_purchases")},showSuccessNotify:function(){this.$push.emit("notification",{data:{text:this.$t("notification.vip"),ava:this.me.avatars.s1,ico:"ico ico_diamond-small",style:"yellow-gradient"}})},closeOffer:function(){this.isOneTimeOffer?this.confirmShown=!0:this.$nav.back({success:!1})},startTimer:function(){Rp.addCallback(this.updateCountdown)},stopTimer:function(){Rp.removeCallback(this.updateCountdown)},updateCountdown:function(t){var e=Math.max(0,this.discountEndTimestamp-t),i=Math.floor(e/60),n=e%60;this.discountCountdown="".concat(("0"+i).slice(-2),":").concat(("0"+n).slice(-2)),e<=0&&this.stopTimer()},trackPromoEvent:function(){this.isOneTimeOffer?(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"VIP Discount Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"VIP Discount Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"VIP Discount Promo",ap_action:"View"}),this.$nativeStat.trackCommonEvent("vip_discount_promo",{source:this.source})):this.trialIsAvailable?(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"VIP Trial Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"VIP Trial Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"VIP Trial Promo",ap_action:"View"}),this.$nativeStat.trackCommonEvent("vip_trial_promo",{source:this.source})):(this.$nativeStat.trackFirebaseEvent("item_action",{screen:"VIP Subscribe Promo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"VIP Subscribe Promo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"VIP Subscribe Promo",ap_action:"View"}),this.$nativeStat.trackCommonEvent("vip_subscribe_promo",{source:this.source})),this.$nativeStat.trackAppsFlyerEvent("af_content_view",{af_price:this.productPrice.value,af_currency:this.productPrice.currency,af_content_id:this.productPrice.id,af_content_type:this.source})},trackBeginEvent:function(){this.$nativeStat.trackCommonEvent("vip_subscribe_begin",{source:this.source,subscription_id:this.offer.subscription_id,VALUE:this.productPrice.value,currency:this.productPrice.currency}),this.$nativeStat.trackAppsFlyerEvent("af_initiated_checkout",{af_price:this.productPrice.value,af_currency:this.productPrice.currency,af_content_id:this.productPrice.id,af_content_type:this.source})},trackCompleteEvent:function(){this.$nativeStat.trackCommonEvent("vip_subscribe_complete",{source:this.source,subscription_id:this.offer.subscription_id,VALUE:this.productPrice.value,currency:this.productPrice.currency}),this.$nativeStat.reportMetricaUserProperty([{key:"is_paying",boolean:!0},{key:"has_vip",boolean:!0}]),this.$nativeStat.reportFirebaseUserProperty([{key:"is_paying",boolean:!0},{key:"has_vip",boolean:!0}])}}},zp=Bp,Wp=Object(p["a"])(zp,xp,Ep,!1,null,null,null),Gp=Wp.exports,Yp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"confirm-popup"},[i("div",{staticClass:"confirm-popup__title"},[t._v(t._s(t.title))]),i("div",{staticClass:"confirm-popup__message",domProps:{innerHTML:t._s(t.message)}}),i("div",{staticClass:"confirm-popup__actions"},[i("div",{staticClass:"confirm-popup__action",on:{click:t.okClick}},[t._v(t._s(t.btnOk))]),i("div",{staticClass:"confirm-popup__action",on:{click:t.cancelClick}},[t._v(t._s(t.btnCancel))])])])},Xp=[],Jp={name:"ConfirmPopup",props:["title","message","btnOk","btnCancel"],methods:{okClick:function(){this.$nav.back({confirmed:!0})},cancelClick:function(){this.$nav.back({confirmed:!1})}}},Zp=Jp,Qp=Object(p["a"])(Zp,Yp,Xp,!1,null,null,null),Kp=Qp.exports,td=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message-limit extend"},[i("div",{staticClass:"message-limit__photo",style:{backgroundImage:"url("+t.photoUrl+")"}}),i("div",{staticClass:"message-limit__wrap"},[i("div",{staticClass:"message-limit__info"},[t._v(t._s(t.information))]),i("div",{staticClass:"message-limit__title"},[t._v(t._s(t.$t("message_limit.title")))])]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m",attrs:{disabled:t.isBuying},on:{click:t.showVipOffer}},[t._v(" "+t._s(t.trialIsAvailable?t.$t("message_limit.action_activate"):t.$t("message_limit.action_become"))+" ")]),i("div",{staticClass:"message-limit__back",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_exit"})])])},ed=[];function id(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function nd(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?id(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):id(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var sd={name:"MessageLimit",props:["user"],data:function(){return{limit:this.$store.state.config.daily_free_dialogs||5,isBuying:!1}},computed:nd({photoUrl:function(){return this.user.avatars.s5},isMan:function(){return this.user.gender===tt},information:function(){var t=this.isMan?this.$t("personal_pronouns.him"):this.$t("personal_pronouns.her");return this.$t("message_limit.info",{pronouns:t,count:this.limit})}},Object(Y["c"])("vip",["trialIsAvailable"])),mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Chat Request Limit",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Chat Request Limit":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Chat Request Limit",ap_action:"View"}),this.$nativeStat.trackCommonEvent("chat_reach_request_limit"),this.$nativeStat.trackAppsFlyerEvent("ap_chat_reach_request_limit")},methods:{showVipOffer:function(){this.$nav.back().then((function(){yf.showVipFullOffer({source:_t})}))}}},ad=sd,od=Object(p["a"])(ad,td,ed,!1,null,null,null),rd=od.exports,cd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"complaint"},[t.complaintSent?[i("div",{staticClass:"complaint__title",domProps:{innerHTML:t._s(t.$t("complaint.result.title"))}}),i("div",{staticClass:"complaint__message",domProps:{innerHTML:t._s(t.$t("complaint.result.msg"))}})]:[i("div",{staticClass:"complaint__black-list"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",name:"checkbox-field-group",id:"complaint-checkbox",checked:""},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var i=t.checked,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,o=t._i(i,a);n.checked?o<0&&(t.checked=i.concat([a])):o>-1&&(t.checked=i.slice(0,o).concat(i.slice(o+1)))}else t.checked=s}}}),i("label",{attrs:{for:"complaint-checkbox"}},[t._v(t._s(t.$t("complaint.check")))])]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m complaint__send-btn",on:{click:t.complaint}},[t._v(t._s(t.$t("complaint.btn")))])],i("div",{staticClass:"popup__close",on:{click:function(e){return t.$nav.back({ignoreUpdate:!0,success:t.complaintSent})}}},[i("i",{staticClass:"ico ico_cross-gray"})])],2)},ld=[],ud={name:"Complaint",props:["user"],data:function(){return{complaintSent:!1,checked:!0}},methods:{complaint:function(){Ln({to_user_id:this.user.id,black_list:this.checked}),this.complaintSent=!0}}},pd=ud,dd=Object(p["a"])(pd,cd,ld,!1,null,null,null),hd=dd.exports,fd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"start-promo extend"},[i("div",{staticClass:"start-promo__title",domProps:{innerHTML:t._s(t.$t("start_promo.title"))}}),i("div",{staticClass:"start-promo__photo-wrap",class:t.countryClass}),i("div",{staticClass:"start-promo__counter",domProps:{innerHTML:t._s(t.countMessage)}}),i("div",{staticClass:"start-promo__message"},[t._v(t._s(t.$t("start_promo.message")))]),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"start-promo__button btn_size-m",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("start_promo.button"))+" ")])])},md=[],_d=(i("baa5"),{name:"StartPromo",props:["promo"],computed:{countryClass:function(){return"country_".concat(this.$store.state.config.country)},countMessage:function(){var t=["ru","br","tr","id","fr","in","us","de","gb","ca"],e=this.$store.state.config.country,i=t.lastIndexOf(e)>=0?this.$t("start_promo.countries.".concat(e)):"";return this.$t("start_promo.counter",{number:this.promo.installs_so_far,country:i})}}}),vd=_d,gd=Object(p["a"])(vd,fd,md,!1,null,null,null),bd=gd.exports,yd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"review"},[i("div",{staticClass:"review__title",domProps:{innerHTML:t._s(t.title)}}),i("div",{staticClass:"review__stars"},t._l(5,(function(e){return i("star-icon",{key:e,staticClass:"review__star",class:{"review__star-active":e<=t.rate},on:{click:function(i){t.rate=e}},nativeOn:{click:function(i){t.rate=e}}})})),1),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw220",attrs:{disabled:0==t.rate},on:{click:t.review}},[t._v(" "+t._s(t.$t("review.action1"))+" ")]),i("button",{staticClass:"btn_link btn_size-m btn_mw220",on:{click:t.later}},[t._v(t._s(t.$t("review.action2")))])])},Cd=[],wd={functional:!0,render(t,e){const{_c:i,_v:n,data:s,children:a=[]}=e,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...p}=s;return i("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...p},a.concat([i("path",{attrs:{d:"M12.704 2.225a1.5 1.5 0 012.592 0L18.193 7.2a1.5 1.5 0 00.979.711l5.626 1.219a1.5 1.5 0 01.8 2.465l-3.834 4.293a1.5 1.5 0 00-.374 1.15l.58 5.727a1.5 1.5 0 01-2.098 1.524l-5.267-2.322a1.5 1.5 0 00-1.21 0l-5.267 2.322a1.5 1.5 0 01-2.098-1.524l.58-5.727a1.5 1.5 0 00-.374-1.15l-3.835-4.293a1.5 1.5 0 01.801-2.465L8.828 7.91a1.5 1.5 0 00.979-.71l2.897-4.975z",fill:"#fff",stroke:"#F7AD1E","stroke-width":"1.5"}})]))}},Od={name:"Review",components:{StarIcon:wd},data:function(){return{me:this.$store.state.config.user,rate:0}},computed:{title:function(){return this.$t("review.title",{name:this.me.name})}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Rate App",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Rate App":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Rate App",ap_action:"View"})},methods:{review:function(){var t=this;Dn({score:this.rate}),this.$nav.back().then((function(){yf.showReviewResult({rate:t.rate})}))},later:function(){Dn({postpone:!0}),this.$nav.back()}}},kd=Od,Pd=Object(p["a"])(kd,yd,Cd,!1,null,null,null),jd=Pd.exports,$d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"review-result"},[t.isCompleted?[i("div",{staticClass:"review-result__completed",domProps:{innerHTML:t._s(t.$t("review.result.title"))}}),i("div",{staticClass:"popup__close",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_cross-gray"})])]:[i("div",{staticClass:"review-result__head"},[i("div",{staticClass:"review-result__title"},[t._v(t._s(t.positiveFeedback?t.$t("review.positive.title"):t.$t("review.negative.title"))+" ")]),i("div",t._l(5,(function(e){return i("star-icon",{key:e,staticClass:"review-result__star",class:{"review-result__star-active":e<=t.rate}})})),1)]),i("div",{staticClass:"review-result__extra"},[t.positiveFeedback?[i("div",{staticClass:"review-result__sub-title",domProps:{innerHTML:t._s(t.$t("review.positive.subtitle"))}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw220",on:{click:t.review}},[t._v(t._s(t.$t("review.action1"))+" ")]),i("button",{staticClass:"btn_link btn_size-m btn_mw220",on:{click:function(e){return t.$nav.back()}}},[t._v(t._s(t.$t("review.action2")))])]:[i("div",{staticClass:"review-result__sub-title"},[t._v(t._s(t.$t("review.negative.subtitle")))]),i("textarea-autosize",{staticClass:"review-result__message",attrs:{placeholder:t.$t("review.negative.placeholder"),rows:"1","min-height":34,"max-height":100,value:t.message},on:{input:function(e){t.message=e}}}),i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw220",attrs:{disabled:0==t.message.length||t.isSending},on:{click:t.send}},[t._v(" "+t._s(t.$t("review.negative.action1"))+" ")]),i("button",{staticClass:"btn_link btn_size-m btn_mw220",on:{click:function(e){return t.$nav.back()}}},[t._v(" "+t._s(t.$t("review.negative.action2"))+" ")])]],2)]],2)},Sd=[],xd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],style:t.computedStyles,domProps:{value:t.val},on:{focus:t.resize,input:function(e){e.target.composing||(t.val=e.target.value)}}})},Ed=[],Ld=(i("caad"),i("2532"),{name:"TextareaAutosize",props:{value:{type:[String,Number],default:""},autosize:{type:Boolean,default:!0},minHeight:{type:[Number],default:null},maxHeight:{type:[Number],default:null},important:{type:[Boolean,Array],default:!1}},data:function(){return{val:null,maxHeightScroll:!1,height:"auto"}},computed:{computedStyles:function(){return this.autosize?{resize:this.isResizeImportant?"none !important":"none",height:this.height,overflow:this.maxHeightScroll?"auto":this.isOverflowImportant?"hidden !important":"hidden"}:{}},isResizeImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("resize")},isOverflowImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("overflow")},isHeightImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("height")}},watch:{value:function(t){this.val=t},val:function(t){this.$nextTick(this.resize),this.$emit("input",t)},minHeight:function(){this.$nextTick(this.resize)},maxHeight:function(){this.$nextTick(this.resize)},autosize:function(t){t&&this.resize()}},methods:{resize:function(){var t=this,e=this.isHeightImportant?"important":"";return this.height="auto".concat(e?" !important":""),this.$nextTick((function(){var i=t.$el.scrollHeight+1;t.minHeight&&(i=i<t.minHeight?t.minHeight:i),t.maxHeight&&(i>t.maxHeight?(i=t.maxHeight,t.maxHeightScroll=!0):t.maxHeightScroll=!1);var n=i+"px";t.height="".concat(n).concat(e?" !important":"")})),this}},created:function(){this.val=this.value},mounted:function(){this.resize()}}),Md=Ld,Ad=Object(p["a"])(Md,xd,Ed,!1,null,null,null),Id=Ad.exports,Dd={name:"ReviewResult",components:{StarIcon:wd,TextareaAutosize:Id},props:["rate"],data:function(){return{message:"",isSending:!1,isCompleted:!1}},computed:{positiveFeedback:function(){return this.rate>=4}},methods:{review:function(){this.isSending=!0,this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Rate App",action:"Go To Play Market"}),this.$nativeStat.trackMetricaEvent("item_action",{"Rate App":"Go To Play Market"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Rate App",ap_action:"Go To Play Market"}),this.$nav.back().then((function(){location.href="https://play.google.com/store/apps/details?id=com.evermatch"}))},send:function(){this.isSending=!0,this.isCompleted=!0}}},Nd=Dd,Td=Object(p["a"])(Nd,$d,Sd,!1,null,null,null),Fd=Td.exports,Vd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"photo-request extend",class:t.countryClass},[i("div",{staticClass:"photo-request__couple"}),i("div",{staticClass:"photo-request__extra"},[i("div",{staticClass:"photo-request__title"},[t._v(t._s(t.$t("photo_request.title")))]),i("div",{staticClass:"photo-request__subtitle"},[t._v(t._s(t.$t("photo_request.subtitle")))]),i("button",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileChange,expression:"onFileChange"},{name:"touch",rawName:"v-touch"}],staticClass:"btn_primary btn_size-m btn_mw240",attrs:{disabled:t.isUploading}},[t._v(t._s(t.$t("photo_request.btn"))+" ")])]),i("div",{staticClass:"extend__close",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_exit-gray"})]),t.isUploading?i("div",{staticClass:"loader-wrap loader-wrap-extend loader-wrap_black"},[i("loader",{attrs:{small:!0}})],1):t._e()])},Ud=[],Rd={name:"PhotoRequest",components:{Loader:h},data:function(){return{isUploading:!1}},computed:{countryClass:function(){return"country_".concat(this.$store.state.config.country)}},mounted:function(){this.$nativeStat.trackFirebaseEvent("item_action",{screen:"Add Photo",action:"View"}),this.$nativeStat.trackMetricaEvent("item_action",{"Add Photo":"View"}),this.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"Add Photo",ap_action:"View"})},methods:{onFileChange:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t,!0).then((function(t){e.isUploading=!1,e.$nativeStat.trackCommonEvent("my_photo_upload",{source:"Add Photo"}),e.$nativeStat.trackAppsFlyerEvent("ap_my_photo_upload",{ap_source:"Add Photo"}),e.$nav.back()})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))}}},qd=Rd,Hd=Object(p["a"])(qd,Vd,Ud,!1,null,null,null),Bd=Hd.exports,zd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-settings extend"},[i("div",{staticClass:"extend-header"},[i("div",{staticClass:"extend-header__back",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_circle-back"})]),i("div",{staticClass:"extend-header__title"},[t._v(t._s(t.$t("app_settings.title")))])]),i("div",{staticClass:"extend-content"},[i("div",{staticClass:"app-settings__fields"},[i("div",{staticClass:"app-settings__field"},[i("a",{attrs:{href:"//sites.google.com/view/evermatch/terms-of-use",target:"_blank"}},[t._v(t._s(t.$t("app_settings.field_terms")))])]),i("div",{staticClass:"app-settings__field"},[i("a",{attrs:{href:"//sites.google.com/view/evermatch/privacy-policy",target:"_blank"}},[t._v(t._s(t.$t("app_settings.privacy_policy")))])]),i("div",{staticClass:"app-settings__field"},[t._v("ID: "+t._s(t.me.id))]),t.isAdmin?i("div",{staticClass:"app-settings__field",on:{click:t.openSettings}},[t._v("")]):t._e()]),i("div",{staticClass:"app-settings__extra"},[i("button",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"app-settings__btn-support btn_primary btn_size-m",on:{click:t.openSupport}},[t._v(t._s(t.$t("app_settings.support"))+" "),t.hasSupportAnswer?i("strong",[t._v("+1")]):t._e()]),i("button",{staticClass:"app-settings__btn-remove btn_link",on:{click:t.remove}},[t._v(t._s(t.$t("app_settings.delete")))])])])])},Wd=[];function Gd(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Yd(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gd(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gd(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Xd={name:"AppSettings",data:function(){return{isAdmin:this.$store.state.config.our_ip,me:this.$store.state.config.user}},computed:Yd({mailHref:function(){return"mailto:support@evermatch.me?subject=".concat(this.me.name,",%20ID:%20").concat(this.me.id)}},Object(Y["e"])("vip",["hasVip","status"]),{},Object(Y["c"])("feed",["hasSupportAnswer"])),methods:{remove:function(){yf.showConfirmPopup({title:this.$t("delete_profile.title"),message:this.$t("delete_profile.message"),btnOk:this.$t("delete_profile.bnt_ok"),btnCancel:this.$t("delete_profile.btn_cancel")}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.confirmed&&Lt.invokeNative("logout",{delete:!0,source:"test"})}))},openSettings:function(){Lt.invokeNative("settings")},openSupport:function(){this.isAdmin?yf.openSupportChat():location.href=this.mailHref}}},Jd=Xd,Zd=Object(p["a"])(Jd,zd,Wd,!1,null,null,null),Qd=Zd.exports,Kd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-editor extend"},[i("div",{staticClass:"extend-header"},[i("div",{staticClass:"extend-header__back",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_circle-back"})]),i("div",{staticClass:"extend-header__title"},[t._v(t._s(t.$t("profile_editor.title")))]),i("div",{staticClass:"extend-header__actions"},[i("button",{staticClass:"btn_link",on:{click:t.previewProfile}},[t._v(t._s(t.$t("profile_editor.btn_view")))])])]),t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):i("div",{staticClass:"extend-content"},[t.gallery?i("photo-gallery",{attrs:{photos:t.gallery},on:{update:t.onUpdateGallery}}):t._e(),i("div",{staticClass:"profile-editor__form"},[i("div",{staticClass:"profile-editor__section"},[i("div",{staticClass:"profile-editor__field"},[i("div",{staticClass:"profile-editor__field-label"},[t._v(t._s(t.$t("profile_editor.field_name")))]),i("div",{staticClass:"profile-editor__field-value ellipsis",on:{click:function(e){return t.editField(t.userName)}}},[t._v(" "+t._s(t.user.name)+" "),i("i",{staticClass:"ico ico_arrow-right"})])]),i("div",{staticClass:"profile-editor__field"},[i("div",{staticClass:"profile-editor__field-label"},[t._v(t._s(t.$t("profile_editor.field_age")))]),i("div",{staticClass:"profile-editor__field-value"},[t._v(t._s(t.user.age)+", "+t._s(t.$t("w"===t.user.gender?"profile_editor.female":"profile_editor.male"))+" ")])]),i("div",{staticClass:"profile-editor__field"},[i("div",{staticClass:"profile-editor__field-label"},[t._v(t._s(t.aim.label))]),i("div",{staticClass:"profile-editor__field-value ellipsis",on:{click:function(e){return t.editField(t.aim)}}},[t._v(" "+t._s(t.user[t.aim.field]?t.parseFieldValue(t.aim,t.user[t.aim.field]):t.labelAdd)),i("i",{staticClass:"ico ico_arrow-right"})])])]),i("div",{staticClass:"profile-editor__section"},[i("div",{staticClass:"profile-editor__section-title"},[t._v(" "+t._s(t.$t("profile_editor.section_about"))+" "),i("button",{staticClass:"btn_link",on:{click:function(e){return t.editField(t.about)}}},[t._v(t._s(t.$t("profile_editor.btn_edit")))])]),t.user.about_me?i("div",{staticClass:"profile-editor__about"},[t._v(t._s(t.user.about_me))]):i("div",{staticClass:"profile-editor__about-empty"},[t._v(t._s(t.$t("profile_editor.about_description")))]),t._l(t.customFields,(function(e,n){return i("div",{key:n,staticClass:"profile-editor__field"},[i("div",{staticClass:"profile-editor__field-label"},[t._v(t._s(e.label))]),i("div",{staticClass:"profile-editor__field-value ellipsis",on:{click:function(i){return t.editField(e)}}},[t._v(" "+t._s(t.user[e.field]?t.parseFieldValue(e,t.user[e.field]):t.labelAdd)),i("i",{staticClass:"ico ico_arrow-right"})])])}))],2),i("div",{staticClass:"profile-editor__section"},[i("div",{staticClass:"profile-editor__section-title"},[t._v(t._s(t.$t("profile_editor.section_location")))]),i("div",{staticClass:"profile-editor__field"},[i("div",{staticClass:"profile-editor__field-label"},[t._v(t._s(t.city.label))]),i("div",{staticClass:"profile-editor__field-value ellipsis",on:{click:function(e){return t.editField(t.city)}}},[t._v(" "+t._s(t.user.city?t.user.city.name:t.labelAdd)),i("i",{staticClass:"ico ico_arrow-right"})])])])])],1)])},th=[],eh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"photo-gallery"},[t.photos.length>0?i("div",{staticClass:"photo-gallery__list"},t._l(t.photos,(function(e,n){return i("div",{key:e.id,staticClass:"photo-gallery__photo",class:{"photo-gallery__photo_main":e.is_avatar},style:{backgroundImage:"url("+e.urls.s3+")"},on:{click:function(e){return t.openPhoto(n)}}})})),0):i("div",{staticClass:"photo-gallery__empty"},[i("div",{directives:[{name:"file-upload",rawName:"v-file-upload",value:t.onFileSelect,expression:"onFileSelect"}],staticClass:"photo-gallery__photo-slot"},[i("i",{staticClass:"ico ico_plus-yellow"})]),i("div",{staticClass:"photo-gallery__message"},[i("div",[t._v(t._s(t.$t("photo_gallery.title")))]),i("div",[t._v(t._s(t.$t("photo_gallery.subtitle")))])])]),i("div",{staticClass:"photo-gallery__actions"},[i("button",{directives:[{name:"touch",rawName:"v-touch"},{name:"file-upload",rawName:"v-file-upload",value:t.onFileSelect,expression:"onFileSelect"}],staticClass:"btn_secondary",attrs:{disabled:t.isUploading||t.galleryIsFull}},[t._v(t._s(t.$t("photo_gallery.btn_photo"))+" ")])])])},ih=[];function nh(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function sh(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nh(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nh(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ah={name:"PhotoGallery",props:["photos","onUpdate"],data:function(){return{isUploading:!1}},computed:{galleryIsFull:function(){return this.photos&&this.photos.length>=10}},methods:{onFileSelect:function(t){var e=this;this.isUploading||(this.isUploading=!0,wn.uploadPhoto(t).then((function(t){var i=t.objects;e.isUploading=!1,e.onUpdateGallery(i)})).catch((function(t){e.isUploading=!1,yf.showUploadError()})))},openPhoto:function(t){var e,i=this,n=this.photos[t];this.$nav.pushInstant({activate:function(t){e=vs.open({fetch:function(){return new Promise((function(t){var e=i.photos.map((function(t){return sh({url:t.urls.o},t)}));t(e)}))},initialId:n&&n.id,urlAlias:"url",onUpdate:i.onUpdateGallery,editable:!0,animated:t})},unload:function(t){vs.close(e,t)}})},onUpdateGallery:function(t){this.$emit("update",t)}}},oh=ah,rh=Object(p["a"])(oh,eh,ih,!1,null,null,null),ch=rh.exports,lh={name:"ProfileEditor",components:{PhotoGallery:ch,Loader:h},data:function(){return{isLoading:!1,user:{},gallery:[],fieldValues:{},customFields:{},aim:{label:this.$t("profile_editor.field_target"),field:"rel_aim",type:"checkbox"},about:{label:this.$t("profile_editor.section_about"),field:"about_me",type:"text",description:this.$t("profile_editor.about_description2"),placeholder:this.$t("profile_editor.about_placeholder")},userName:{label:this.$t("profile_editor.user_name.label"),field:"name",type:"input",placeholder:this.$t("profile_editor.user_name.placeholder")},city:{label:this.$t("profile_editor.field_city"),field:"city",type:"geo"},me:this.$store.state.config.user}},computed:{labelAdd:function(){return this.$t("profile_editor.btn_add")}},created:function(){var t=this;this.isLoading=!0,mn().then((function(e){var i=e.objects[0];t.customFields=i.custom_fields,t.fieldValues=i.field_values,t.gallery=i.photo||[],t.user=i.user,t.isLoading=!1,t.$nativeStat.trackFirebaseEvent("item_action",{screen:"My Profile Edit",action:"View"}),t.$nativeStat.trackMetricaEvent("item_action",{"My Profile Edit":"View"}),t.$nativeStat.trackAppsFlyerEvent("fs_action",{af_content_type:"My Profile Edit",ap_action:"View"})}))},methods:{previewProfile:function(){yf.openProfile({id:this.me.id})},editField:function(t){var e=this.user[t.field],i=this.fieldValues[t.field];yf.editField({item:t,defaultValue:e,options:i,onUpdate:this.onUpdateUser})},parseFieldValue:function(t,e){switch(t.type){case"radio":return e.title;case"number":return e+(t.units?" ".concat(t.units):"");case"checkbox":return e.map((function(t){return t.title})).join(", ");case"text":default:return e}},onUpdateUser:function(t){this.user=t,this.$store.state.config.user.name=this.user.name},onUpdateGallery:function(t){this.gallery=t}}},uh=lh,ph=Object(p["a"])(uh,Kd,th,!1,null,null,null),dh=ph.exports,hh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field-editor extend"},[i("div",{staticClass:"extend-header"},[i("div",{staticClass:"extend-header__back",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_circle-back"})]),i("div",{staticClass:"extend-header__title"},[t._v(t._s(t.item.label))]),i("div",{staticClass:"extend-header__actions"},[i("button",{staticClass:"btn_link",attrs:{disabled:!t.isValid},on:{click:t.save}},[t._v(t._s(t.$t("field_editor.action_save")))])])]),i("div",{staticClass:"extend-content"},[this.item.description?i("div",{staticClass:"field-editor__description"},[t._v(t._s(this.item.description))]):t._e(),i(t.getFieldComponent(),{ref:"fieldComponent",tag:"comment",attrs:{item:t.item,options:t.options},on:{validate:t.onValidate},model:{value:t.editableValue,callback:function(e){t.editableValue=e},expression:"editableValue"}})],1),t.isLoading?i("div",{staticClass:"loader-wrap loader-wrap-inside"},[i("loader")],1):t._e()])},fh=[],mh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("textarea",{staticClass:"text-field",attrs:{type:"text",placeholder:t.item.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})},_h=[],vh={name:"TextField",props:["item","value"]},gh=vh,bh=Object(p["a"])(gh,mh,_h,!1,null,null,null),yh=bh.exports,Ch=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"radio-field"},t._l(t.advancedOptions,(function(e,n){return i("div",{staticClass:"radio-field__option",class:{"radio-field__option-not-set":-1==e.value}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",name:"radio-field-group",id:e.value},domProps:{value:e.value,checked:t._q(t.picked,e.value)},on:{change:function(i){t.picked=e.value}}}),i("label",{attrs:{for:e.value}},[t._v(t._s(e.title))])])})),0)},wh=[],Oh=-1,kh={name:"RadioField",data:function(){return{picked:null}},props:["item","value","options"],created:function(){this.picked=this.value||Oh},computed:{advancedOptions:function(){return[{title:this.$t("field_editor.not_set"),value:Oh}].concat(Object(Vt["a"])(this.options))}},watch:{picked:function(t,e){this.$emit("input",this.picked==Oh?null:this.picked)}}},Ph=kh,jh=Object(p["a"])(Ph,Ch,wh,!1,null,null,null),$h=jh.exports,Sh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"checkbox-field"},t._l(t.options,(function(e,n){return i("div",{staticClass:"checkbox-field__option"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",name:"checkbox-field-group",id:e.value},domProps:{value:e.value,checked:Array.isArray(t.checked)?t._i(t.checked,e.value)>-1:t.checked},on:{change:function(i){var n=t.checked,s=i.target,a=!!s.checked;if(Array.isArray(n)){var o=e.value,r=t._i(n,o);s.checked?r<0&&(t.checked=n.concat([o])):r>-1&&(t.checked=n.slice(0,r).concat(n.slice(r+1)))}else t.checked=a}}}),i("label",{attrs:{for:e.value}},[t._v(t._s(e.title))])])})),0)},xh=[],Eh={name:"CheckboxField",data:function(){return{checked:[]}},props:["item","value","options"],created:function(){this.checked=this.value||[]},watch:{checked:function(t,e){this.$emit("input",this.checked.join(","))}}},Lh=Eh,Mh=Object(p["a"])(Lh,Sh,xh,!1,null,null,null),Ah=Mh.exports,Ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"number-field"},[i("smooth-picker",{ref:"numberPicker",staticClass:"number-field__picker",attrs:{data:t.values,change:t.onChange}}),t.item.units?i("div",{staticClass:"number-field__units"},[t._v(t._s(t.item.units))]):t._e()],1)},Dh=[],Nh=i("ea88"),Th={name:"NumberField",components:{SmoothPicker:Nh["SmoothPicker"]},props:["item","value","options"],data:function(){return{values:[]}},created:function(){var t=this.createList(),e=t.indexOf(this.value);this.values=[{currentIndex:e,list:t,textAlign:"center",className:"item-group"}]},mounted:function(){var t=this;setTimeout((function(){t.$refs.numberPicker.safeGetGroupRectList()}),400)},methods:{createList:function(){for(var t=["---"],e=this.item.min;e<=this.item.max;e++)t.push(e);return t},onChange:function(t,e){var i=this.values[0].list[e];this.$emit("input",e>0?i:"")}}},Fh=Th,Vh=Object(p["a"])(Fh,Ih,Dh,!1,null,null,null),Uh=Vh.exports,Rh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"geo-field"},[i("input",{staticClass:"geo-field__input",attrs:{placeholder:t.$t("profile_editor.geo.placeholder"),type:"text",readonly:""},domProps:{value:t.city&&t.city.name||""},on:{input:function(e){t.city=e.target.value},click:function(e){return t.showListOfCities()}}}),i("div",{staticClass:"geo-field__message",on:{click:function(e){return t.showListOfCities()}}},[t._v(t._s(t.$t("profile_editor.geo.message")))])])},qh=[],Hh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cities-popup"},[i("input",{staticClass:"cities-popup__input",attrs:{placeholder:t.$t("profile_editor.geo.placeholder"),type:"text"},domProps:{value:t.search},on:{input:function(e){t.search=e.target.value}}}),t.items?i("div",{staticClass:"cities-popup__list"},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"cities-popup__list-item",on:{click:function(i){return t.selectItem(e)}}},[i("div",{staticClass:"cities-popup__city-title"},[t._v(t._s(e.name))]),i("div",{staticClass:"cities-popup__city-description"},[e.subdivision?[t._v(t._s(e.subdivision)+",")]:t._e(),t._v(" "+t._s(e.country)+" ")],2)])})),0):t._e()])},Bh=[],zh={name:"CitiesPopup",props:["detectedCityId","onSelect"],components:{Loader:h},data:function(){return{search:"",items:[],cachedResults:{},isLoading:!1}},mounted:function(){this.loadities()},methods:{"loadities":function(){var t=this,e=this.search.trim();this.cachedResults[e]?this.items=this.cachedResults[e]:(this.isLoading=!0,An({name:e,detectedCityId:this.detectedCityId}).then((function(i){var n=i.objects;t.items=n,t.cachedResults[e]=n,t.isLoading=!1})))},selectItem:function(t){this.onSelect&&this.onSelect(t),this.$nav.back()}},watch:{search:function(t,e){this.loadities()}}},Wh=zh,Gh=Object(p["a"])(Wh,Hh,Bh,!1,null,null,null),Yh=Gh.exports,Xh={name:"GeoField",props:["item","value","options"],data:function(){return{city:null}},created:function(){this.city=this.value},methods:{showListOfCities:function(){var t=this,e=new Bn({component:Yh,props:{detectedCityId:this.city&&this.city.id||0,onSelect:this.onSelect},options:{myClass:"popup_fixed-top"}});this.$nav.pushInstant({activate:function(i){t.$store.dispatch("popups/openPopup",{popup:e,animated:i})},unload:function(i){t.$store.dispatch("popups/closePopup",{popup:e,animated:i})}})},onSelect:function(t){this.city=t,this.$emit("input",parseInt(t.id))}}},Jh=Xh,Zh=Object(p["a"])(Jh,Rh,qh,!1,null,null,null),Qh=Zh.exports,Kh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-field"},[i("input",{staticClass:"input-field__input",class:{"input-field__input_invalid":null!=t.error},attrs:{type:"text",placeholder:t.item.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.error?i("div",{staticClass:"input-field__error"},[t._v(t._s(t.error))]):t._e()])},tf=[],ef={name:"InputField",props:["item","value"],data:function(){return{error:null}},methods:{validate:function(t){return t.trim().length<2?{isValid:!1,error:this.$t("field_editor.name_error_incorrect")}:/^.{0,50}$/.test(t)?/^((?!http:\/\/|https:\/\/|www\.).)*$/i.test(t)?{isValid:!0,error:null}:{isValid:!1,error:this.$t("field_editor.name_error_link")}:{isValid:!1,error:this.$t("field_editor.name_error_long")}},errorHandler:function(t){this.error=t.message}},watch:{value:function(){var t=this.validate(this.value);this.error=t.error,this.$emit("validate",t.isValid)}}},nf=ef,sf=Object(p["a"])(nf,Kh,tf,!1,null,null,null),af=sf.exports,of={name:"FieldEditor",components:{Loader:h},props:["item","defaultValue","options","onUpdate"],data:function(){return{isLoading:!1,isValid:!0,editableValue:null}},created:function(){this.editableValue=this.getFieldValue()},computed:{},methods:{save:function(){var t=this;switch(this.item.type){case"geo":if(this.editableValue==this.defaultValue)return void this.$nav.back();break}this.isLoading=!0,vn({field_name:this.item.field,field_value:this.editableValue||""}).then((function(e){t.isLoading=!1;var i=e.objects[0].user;t.onUpdate&&t.onUpdate(i),t.$nativeStat.trackAppsFlyerEvent("af_update",{af_content_id:[t.item.field]}),t.$nav.back()}))},getFieldComponent:function(){switch(this.item.type){case"radio":return $h;case"number":return Uh;case"checkbox":return Ah;case"geo":return Qh;case"input":return af;case"text":default:return yh}},getFieldValue:function(){switch(this.item.type){case"radio":return this.defaultValue&&this.defaultValue.value;case"checkbox":return this.defaultValue&&this.defaultValue.map((function(t){return t.value}));case"input":return this.defaultValue;case"text":default:return this.defaultValue}},onValidate:function(t){this.isValid=t},getErrorMessage:function(t){switch(t){case"long_name":return this.$t("field_editor.name_error_long");case"bad_name":default:return this.$t("field_editor.name_invalid")}}}},rf=of,cf=Object(p["a"])(rf,hh,fh,!1,null,null,null),lf=cf.exports,uf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-error-popup"},[i("div",{staticClass:"popup__close",on:{click:function(e){return t.$nav.back()}}},[i("i",{staticClass:"ico ico_cross-gray"})]),i("div",{staticClass:"upload-error-popup__title"},[t._v(t._s(t.$t("upload_error.title")))]),i("div",{staticClass:"upload-error-popup__message"},[t._v(t._s(t.$t("upload_error.message")))])])},pf=[],df={name:"UploadErrorPopup"},hf=df,ff=Object(p["a"])(hf,uf,pf,!1,null,null,null),mf=ff.exports;function _f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function vf(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_f(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var gf=C(),bf={feedDS:null,queue:new q,init:function(t){var e=this;this.feedDS=new Wu([]),this.initCards(),Lt.registerMethod("disableAds",(function(){e.showVipFullOffer({source:gt})})),setTimeout((function(){e.checkPromo(t)}),800)},checkPromo:function(t){var e=t.promo,i=t.rating,n=t.ask_photo;e&&this.showStartPromo(e),n&&this.showPhotoRequest(),i&&this.showAppReview()},initCards:function(){var t=2;while(t--)this.getNextCard()},getNextCard:function(){this.feedDS.getNextItem((function(t){"default"==t.status?Yt.commit("feed/addCard",t.item):"loading"==t.status&&t.promise.then((function(t){Yt.commit("feed/addCard",t)})).catch((function(){}))}))},likeAction:function(t){var e=this;xn({to_user_id:t.id,type:X}).then((function(i){var n=i.objects[0];n.is_mutual&&setTimeout((function(){e.showMutualSympathy(t)}),350)})),Yt.commit("feed/incrementViewedCards"),this.getNextCard()},dislikeAction:function(t){xn({to_user_id:t.id,type:J}),Yt.commit("feed/incrementViewedCards"),this.getNextCard()},skipAction:function(t){Yt.commit("feed/removeCardById",t.id),this.getNextCard()},openPopup:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i){Bu.nav.pushInstant({unloadOther:e,activate:function(e){Yt.dispatch("popups/openPopup",{popup:t,animated:e})},unload:function(e,n){Yt.dispatch("popups/closePopup",{popup:t,animated:e,onClose:i(n)})}})}))},showMutualSympathy:function(t){var e=new Bn({component:wp,props:{user:t},options:{myClass:"popup_extend"}});this.openPopup(e)},showPhotoUpload:function(t){var e,i={};switch(Yt.state.feed.moderationStatus){case Z:e=Qu,i=vf({},i,{},{myClass:"popup_extend"});break;default:e=sp}var n=new Bn({component:e,props:{card:t},options:i});this.openPopup(n)},showSwipeTutorial:function(t,e){var i=this,n="serious_swipe_".concat(t);if(!localStorage.getItem(n)){var s={component:up,props:{dir:t,card:e}};t===et&&gf===kt&&(s.component=_p);var a=new Bn(s);setTimeout((function(){i.openPopup(a)}),350),localStorage.setItem(n,"1")}},showLockedUser:function(t){var e=new Bn({component:Sp,props:{item:t},options:{myClass:"popup_extend"}});this.openPopup(e)},complain:function(t){var e=new Bn({component:hd,props:{user:t}});return this.openPopup(e)},showStartPromo:function(t){var e=this,i=new Bn({component:bd,props:{promo:t},options:{myClass:"popup_extend"}});this.queue.next((function(t){e.openPopup(i)}))},showAppReview:function(){var t=this,e=new Bn({component:jd});this.queue.next((function(i){t.openPopup(e)}))},showReviewResult:function(t){var e=new Bn({component:Fd,props:t});this.openPopup(e)},showPhotoRequest:function(){var t=this,e=new Bn({component:Bd,options:{myClass:"popup_extend"}});this.queue.next((function(i){t.openPopup(e).then(i)}))},showSettings:function(){var t=new Bn({component:Qd,options:{myClass:"popup_extend"}});this.openPopup(t)},openProfile:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new Bn({component:$s,props:t,options:{myClass:"popup_extend"}});this.openPopup(i,e)},editProfile:function(){var t=new Bn({component:dh,options:{myClass:"popup_extend"}});this.openPopup(t)},editField:function(t){var e=new Bn({component:lf,props:t,options:{myClass:"popup_extend"}});this.openPopup(e)},filterBy:function(t){var e=this;En(t).then((function(){e.resetCards()}))},resetCards:function(){Yt.commit("feed/clear"),this.feedDS=new Wu([]),this.initCards()},showVipFullOffer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Bn({component:Gp,props:e,options:{myClass:"popup_extend"}});return this.openPopup(i).then((function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Yt.state.vip.purchaseOffer;return n&&n.is_one_time_offer&&!i.success?t.showVipFullOffer({source:e.source}):i}))},showConfirmPopup:function(t){var e=new Bn({component:Kp,props:t});return this.openPopup(e)},showMessageLimit:function(t){var e=this,i=new Bn({component:rd,props:{user:t},options:{myClass:"popup_extend"}});this.queue.next((function(t){e.openPopup(i).then(t)}))},showUploadError:function(){var t=new Bn({component:mf});this.openPopup(t)},openChatWithUser:function(t){var e=new Bn({component:nu,props:{id:t},options:{myClass:"popup_extend",ignoreBottomBanner:!0}});this.openPopup(e)},openSupportChat:function(){var t=new Bn({component:Au,options:{myClass:"popup_extend"}});this.openPopup(t)}},yf=bf,Cf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-bar"},t._l(t.tabs,(function(e,n){return i("nav-tab",{key:n,attrs:{item:e,isActive:t.currentTabId==e.id},nativeOn:{click:function(i){return t.$nav.push(e.link)}}})})),1)},wf=[],Of=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-tab",class:{active:t.isActive}},[i("div",{staticClass:"nav-tab__ico"},[i("div",{class:[t.isActive?t.item.ico+"-active":""+t.item.ico]}),t.count>0?i("div",{staticClass:"nav-tab__count"},[t._v(t._s(t._f("counterLimit")(t.count)))]):t._e()]),i("div",{staticClass:"nav-tab__title"},[t._v(" "+t._s(t.item.title)+" ")])])},kf=[];function Pf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function jf(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pf(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pf(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var $f={name:"NavTab",props:["item","isActive"],computed:jf({count:function(){return this.tabCounter(this.item.id)}},Object(Y["c"])("feed",["tabCounter"]))},Sf=$f,xf=Object(p["a"])(Sf,Of,kf,!1,null,null,null),Ef=xf.exports;function Lf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Mf(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lf(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lf(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Af={name:"NavBar",components:{NavTab:Ef},data:function(){return{tabs:[{title:this.$t("nav.meeting"),link:"/app/feed",id:nt,ico:"ico-nav ico-nav_meet"},{title:this.$t("nav.sympathy"),link:"/app/incoming",id:st,ico:"ico-nav ico-nav_symp"},{title:this.$t("nav.message"),link:"/app/messenger",id:at,ico:"ico-nav ico-nav_message"},{title:this.$t("nav.profile"),link:"/app/profile",id:ot,ico:"ico-nav ico-nav_profile"}]}},computed:Mf({},Object(Y["e"])(["currentTabId"]))},If=Af,Df=Object(p["a"])(If,Cf,wf,!1,null,null,null),Nf=Df.exports,Tf=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ff=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner-placeholder"},[i("div",{staticClass:"banner-placeholder__ava"}),i("div",{staticClass:"banner-placeholder__content"},[i("div",{staticClass:"banner-placeholder__line",staticStyle:{width:"50%"}}),i("div",{staticClass:"banner-placeholder__line",staticStyle:{width:"75%"}})])])}],Vf={name:"BannerPlaceholder"},Uf=Vf,Rf=Object(p["a"])(Uf,Tf,Ff,!1,null,null,null),qf=Rf.exports,Hf={get defaultLanguage(){return Ct},get supportedLanguages(){return Ot},get currentLanguage(){return Mr.locale},isLangSupported:function(t){return Hf.supportedLanguages.includes(t)},changeLanguage:function(t){return Hf.isLangSupported(t)?Mr.locale===t?Promise.resolve(t):Hf.loadLanguageFile(t).then((function(e){return Mr.setLocaleMessage(t,e.default||e),Mr.locale=t,t})):Promise.reject(new Error("Language not supported"))},loadLanguageFile:function(t){return i("8825")("./".concat(t,".json"))}};function Bf(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function zf(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Bf(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Bf(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Wf={name:"app",components:{Loader:h,NavBar:Nf,BannerPlaceholder:qf,Popups:x,Push:G},computed:zf({},Object(Y["e"])(["currentTabId","bannerIsShown"]),{},Object(Y["e"])("feed",["moderationStatus"]),{},Object(Y["c"])("feed",["numNotify"])),data:function(){return{isLoading:!0}},created:function(){},methods:{getApiHost:function(){return new Promise((function(t,e){Lt.isSupported()?Lt.invokeNative("get_api_host",{},(function(e){t(e)})):e({message:"get_api_host failed"})}))},loadLocalization:function(t){var e=t.lang||Hf.defaultLanguage;return new Promise((function(i,n){Hf.changeLanguage(e).then((function(t){})).catch((function(t){console.log("loadLocalization error",t)})).finally((function(){i(t)}))}))},init:function(t){this.$store.state.config=t,this.$store.dispatch("feed/init",t),this.$store.dispatch("vip/init",t),Lt.invokeNative("set_photo_status",{fs_photo:t.avatar_status}),Lt.invokeNative("set_badge",{value:this.numNotify.toString()}),wc.init(t.server_time||parseInt((new Date).getTime()/1e3));this.$nav.activeIntent&&this.$nav.activeIntent.query},initPlacements:function(t){Ni.init(),t.feed_swipe&&Ni.createPlacement({name:ct,options:t.feed_swipe}),t.profile_close&&Ni.createPlacement({name:lt,options:t.profile_close}),t.incoming_open&&t.incoming_open.place_id>0&&Ni.createPlacement({name:ut,options:t.incoming_open}),t.sticky&&t.sticky.place_id>0&&(It.init(t.sticky),It.show())}},watch:{moderationStatus:function(t){t===K&&(this.$nativeStat.reportMetricaUserProperty({key:"has_photo",boolean:!0}),this.$nativeStat.reportFirebaseUserProperty({key:"has_photo",boolean:!0}),this.$nativeStat.reportAppsFlyerUserProperty({key:"fs_photo",boolean:!0})),Lt.invokeNative("set_photo_status",{fs_photo:t})},numNotify:function(t){Lt.invokeNative("set_badge",{value:t.toString()})}}},Gf=Wf,Yf=Object(p["a"])(Gf,s,a,!1,null,null,null),Xf=Yf.exports,Jf={bind:function(t,e){var i,n="touch";"string"===typeof e.value&&(n=e.value),t.classList.add("no-tap-highlight"),e.modifiers&&e.modifiers.notap&&(t.style["-webkit-tap-highlight-color"]="transparent"),t.addEventListener("touchstart",(function(){t.classList.add(n)})),t.addEventListener("touchend",(function(){t.classList.remove(n),clearTimeout(i)}))}},Zf={bind:function(t,e){t.classList.add("g-file-wrapper");var i=t.querySelector(".g-file-input");i&&i.remove();var n=window.document.createElement("input");n.type="file",n.className="g-file-input",n.accept="image/*",n.addEventListener("change",(function(){e.value(n)})),t.appendChild(n)}},Qf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return t>=e?"".concat(e-1,"+"):t},Kf={name:"ComponentView",props:{component:{required:!0},props:Object},render:function(t){var e={props:this.props};return t(this.component,e,this.$slots.default)}};i("b107");n["default"].config.productionTip=!1,n["default"].component("ComponentView",Kf),n["default"].directive("touch",Jf),n["default"].directive("file-upload",Zf),n["default"].filter("plural",Sr),n["default"].filter("counterLimit",Qf),n["default"].use(fn),n["default"].use(bl),n["default"].use(F),new n["default"]({el:"#app",store:Yt,i18n:Mr,nav:Bu,render:function(t){return t(Xf)}})},8825:function(t,e,i){var n={"./de_DE.json":["1014","lang/de_DE-json"],"./en_CA.json":["82ee","lang/en_CA-json"],"./en_GB.json":["2a94","lang/en_GB-json"],"./en_US.json":["b0f9"],"./es_MX.json":["334d","lang/es_MX-json"],"./fr_CA.json":["45ea","lang/fr_CA-json"],"./fr_FR.json":["7d38","lang/fr_FR-json"],"./id_ID.json":["9d72","lang/id_ID-json"],"./pt_BR.json":["517c","lang/pt_BR-json"],"./ru_RU.json":["a8e2"],"./tr_TR.json":["fc4c","lang/tr_TR-json"]};function s(t){if(!i.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],s=e[0];return Promise.all(e.slice(1).map(i.e)).then((function(){return i.t(s,3)}))}s.keys=function(){return Object.keys(n)},s.id="8825",t.exports=s},a8e2:function(t){t.exports=JSON.parse('{"loading":"","done":"","signup":{"hi":"! ...","choice_female":"","choice_male":"","agreement_text":"   <a href=\'\'> </a>  <a href=\'\'> </a>","meet":"","date":"","chat":"","name":" ","name_placeholder":" ","error_name_min_length":"   2 ","age":"","age_placeholder":" ","error_age_min_value":"     18 ","city":" ","city_placeholder":" ","error_city_empty":"  ","error_city_not_found":"  ","signup_process":"  !"},"personal_pronouns":{"he":"","she":"","him":"","her":""},"survey_promo":{"title":"     {partner}","title_male":"","title_female":"","subtitle":"  ,     {partner}","subtitle_male":" ","subtitle_female":" ","btn":" "},"question":{"head":"{partner} , ...","partner_male":" ","partner_female":" "},"survey":{"action_yes":"","action_no":"","action_skip":" "},"survey_result":{"title":"    <span> </span>","match":"  <span><h2>254</h2> {gender}</span>","male":"","female":"","based":"    ","price":"<span>    </span><br> VIP   {price}  ","trial":"<span>    </span>"},"card":{"like":"","dislike":" "},"swipe":{"like":"  <span></span> ,  {pronouns}  ","dislike":"  <span></span> ,  {pronouns}   ","dislike_sub":" ,<br>{pronouns}    ","like_him":"","like_her":"","btn":", "},"card_vip":{"title":" <br><span> 85%</span><br><h2>  VIP</h2>","btn":" "},"setting":{"filters":""},"filter":{"head":"","action":"","age":""},"empty_feed":{"title":"     ...","msg":"      ","btn":"  "},"feed_limit":{"title":"    1000 {gender}!","msg":"      ","male":"","female":""},"nav":{"meeting":"","sympathy":"","message":"","profile":""},"main_photo":{"msg_male":"{name}     ","msg_female":"{name}     ","bnt_add":" ","bnt_later":" <br>"},"real_photo":{"msg":" ,      ,   ","subtitle":"   ","btn_add":"  ","btn_later":" "},"mutual_symp":{"title":" !","subtitle":"  {name}   !","placeholder":",  {pronouns}","btn":""},"photo_request":{"title":" ,    ","subtitle":"      10  ","btn":" "},"review":{"title":"{name},<br>   ?","action1":"","action2":" ","positive":{"title":" !","subtitle":",  !<br>   Google Play?"},"negative":{"title":" :","subtitle":",    ?","placeholder":" ","action1":" ","action2":" "},"result":{"title":",  <br> !"}},"complaint":{"title":"   ?","btn":"","check":"     ","support":" ","result":{"title":"<br> ","msg":"   <br> "}},"message_limit":{"title":" VIP    ","info":"    {pronouns}.      {count}     ","action_activate":" VIP","action_become":" VIP"},"notification":{"msg":" ","vip":"   VIP"},"incoming":{"tab":" ","notify":" VIP    ,  ","new":"","empty":{"photo_title":"   ...","photo_msg":" ,     {gender}!","male":"","female":"","like":"  ,   {gender}!","first_m":"","first_w":"","bnt_add":" ","btn_view":" "},"offer":{"msg":"   VIP  ,   !","btn_activate":" VIP","btn_become":" VIP"}},"locked_user":{"title":"  {gender}","male":"","female":"","subtitle":"  ,    ,   VIP   {pronouns} ","btn_open":" ","btn_play":"  "},"mutual":{"title":" ","title_new":" ","empty":"     "},"messenger":{"tab_all":"","tab_online":"","online_empty":",      "},"suggestions":{"title":"     ?","subtitle_m":"    ","subtitle_f":"    "},"messenger_chat":{"empty_m":"  ...","empty_f":"  ...","placeholder":" {pronouns}","mutual_label":" !","mutual_you_and":"  {name}","mutual_msg":"<span>  </span> {dateDiff}"},"chat_photo_block":{"title":"  {pronouns},<br> ","btn":" "},"mutual_message":{"title":" !","text":"    <span>{dateDiff}</span>"},"profile":{"link":" ","btn_edit":"","btn_vip":"<br> ","vip_activated":"","btn_settings":""},"banner_photo":{"title":" ,    ","btn":" "},"profile_editor":{"title":"","btn_view":"","male":"","female":"","field_name":"","field_age":", ","field_target":" ","field_sport":"","field_music":"","field_movie":"","field_books":"","field_hobby":"","field_city":"","section_about":" ","section_interests":" ","section_location":"","about_description":" -   ","about_description2":" -,        ","about_placeholder":"  /  ","btn_edit":"","btn_add":"","user_name":{"label":" ","placeholder":" "},"geo":{"placeholder":" ","message":"  ","error":"    "}},"field_editor":{"action_save":"","name_error_incorrect":"  ","name_error_long":"  ","name_error_link":"   ","name_invalid":" ","not_set":" "},"photo_gallery":{"title":"   ","subtitle":"     ","btn_photo":" "},"photo_viewer":{"btn_add":"  ","btn_main":" ","btn_delete":""},"app_settings":{"title":"","field_terms":" ","privacy_policy":" ","support":"","delete":" "},"user_profile":{"goals":" ","interests":" ","job":"","about":"  ","city":"  ","more":" {count} ","complain":"","require_photo":" ,   {pronouns}","dialog_placeholder":" {pronouns} ","dialog_locked":" VIP   {pronouns} "},"vip_offer":{"title":"<span> VIP</span><br>  :","profit":[",   ,    ","     "," "],"price":"{period}   {price}","trial":" <span>{count}</span> <span> </span>","discount":" <span>{count}%</span>  ","discount_price":"{period}   <span>{old_price}</span> <span>{price}</span>","restore":" ","trial_price":" <strong>{price}</strong>  ","discount_ios_price":"<strike>{old_price}</strike> <strong>{price}</strong>  "},"billing":{"android":{"trial":" VIP","buy":" VIP"},"card":{"trial":" ","buy":"  "},"ios":{"trial":"","buy":""},"survey":{"buy":" "}},"discount_close":{"title":" ,     ?","confirm":"  ","reject":"  {count}%"},"push_permission":{"message":"{my_name}, <br> <span></span> ,  {user_name}  .   ,  {gender}  ?","male":"","female":"","accept":", ","decline":", "},"chat":{"exception":{"blacklisted":"     ,        ."}},"delete_profile":{"title":"    ?","message":"   <br><br> ,  :<br><ul><li> </li><li></li><li>VIP ( )</li></ul>","bnt_ok":" ","btn_cancel":""},"upload_error":{"title":",    ","message":" ,       256x256      20 ."},"date":{"months":["","","","","","","","","","","",""],"yesterday":""},"start_promo":{"title":" !<br>  ","counter":"<strong>{number}</strong>   {country}   ","message":"   ,     ","button":" ","countries":{"ru":"","br":"","tr":"","id":"","fr":"","in":"","us":"","de":"","gb":"","ca":""},"country":""},"support_chat":{"name":"","placeholder":" ","message":"! -   ?   "}}')},b0f9:function(t){t.exports=JSON.parse('{"personal_pronouns":{"he":"he","she":"she","him":"him","her":"her"},"survey_promo":{"title":"Take a test to get a more accurate match","title_male":"","title_female":"","subtitle":"Tell Evermatch\'s algorithms whether or not the following statements apply to your match","subtitle_male":"","subtitle_female":"","btn":"Start test"},"question":{"head":"Your partner thinks that...","partner_male":"","partner_female":""},"survey":{"action_yes":"Yes","action_no":"No","action_skip":"Skip question"},"survey_result":{"title":"We\'ve picked the most accurate matches <span>for you</span>","match":"Matches with <span><h2>254</h2> {gender}</span>","male":"men","female":"women","based":"based on their responses","price":"Get VIP status<br><span>and start chatting them right now</span>","trial":"Get VIP status<br><span>and start chatting them right now</span>"},"card":{"like":"Like","dislike":"Don\'t like"},"swipe":{"like":"Swipe <span>right</span> if you like {pronouns}","dislike":"Swipe <span>left</span> if you don\'t like {pronouns}","dislike_sub":"Don\'t worry,<br>{pronouns} won\'t know about it","like_him":"him","like_her":"her","btn":"Got it, thanks"},"card_vip":{"title":"Increase your chances<br><span>by 85%</span><br><h2>with VIP status</h2>","btn":"Learn more"},"setting":{"filters":"Filters"},"filter":{"head":"Filter","action":"Save","age":"Age"},"empty_feed":{"title":"No profiles match your request at the moment...","msg":"Adjust your filters to change your search parameters","btn":"Go to Filters"},"feed_limit":{"title":"You\'ve viewed 1,000 {gender} today!","msg":"You can keep looking for your soulmate tomorrow","male":"men","female":"women"},"nav":{"meeting":"Dating","sympathy":"Likes","message":"Messages","profile":"Profile"},"main_photo":{"msg_male":"{name} is only interested in men with a photo","msg_female":"{name} is only interested in women with a photo","bnt_add":"Add a photo","bnt_later":"Upload a photo<br>later"},"real_photo":{"msg":"Upload a photo in which your face is clearly visible and keep chatting","subtitle":"Your photo was not accepted","btn_add":"Choose another photo","btn_later":"Not now"},"mutual_symp":{"title":"It\'s a match!","subtitle":"You and {name} like each other!","placeholder":"Don\'t be shy, send {pronouns} a message","btn":"Continue"},"photo_request":{"title":"Upload a photo to start really getting to know each other","subtitle":"Your chance of finding a match are ten times better with a photo","btn":"Choose a photo"},"review":{"title":"How do you like Evermatch, {name}?","action1":"Review","action2":"Review later","positive":{"title":"Great review!","subtitle":"Thank you so much!<br>Would you like to review the app on Google Play?"},"negative":{"title":"Your review:","subtitle":"What do you think we should improve?","placeholder":"Your comment","action1":"Submit comment","action2":"Not now"},"result":{"title":"Thank you for your feedback!"}},"complaint":{"title":"What\'s the matter?","btn":"Complain","check":"Deny this user access to my page","support":"Support","result":{"title":"Thank you<br>for your vigilance","msg":"We\'ll take it from here"}},"message_limit":{"title":"Become a VIP and chat with no restrictions","info":"You cannot send this person a chat request. You cannot send more than {count} requests per day","action_activate":"Activate VIP status","action_become":"Become a VIP"},"notification":{"msg":"Message sent","vip":"You now have VIP status"},"incoming":{"tab":"Likes me","notify":"You are a VIP and can see who likes you","new":"New","empty":{"photo_title":"You don\'t have a photo...","photo_msg":"Add a photo to get likes from {gender}!","male":"men","female":"women","like":"Don\'t wait around for someone to like you - like them first!","first_m":"","first_w":"","bnt_add":"Add a photo","btn_view":"View photo"},"offer":{"msg":"Users with VIP status can see who likes them right away!","btn_activate":"Activate VIP status","btn_become":"Become a VIP"}},"locked_user":{"title":"finds you attractive","male":"","female":"","subtitle":"Keep looking at photos to find a match for free or become a VIP and respond right away","btn_open":"Like","btn_play":"Play the dating game"},"mutual":{"title":"Your matches","title_new":"New matches","empty":"Like someone and find your match"},"messenger":{"tab_all":"All","tab_online":"Online","online_empty":"Your conversation partners don\'t seem to be online right now"},"suggestions":{"title":"Still not chatting with anyone?","subtitle_m":"Send one of these men a message","subtitle_f":"Send one of these women a message"},"messenger_chat":{"empty_m":"Send him a message first...","empty_f":"Send her a message first...","placeholder":"Send {pronouns} a message","mutual_label":"It\'s mutual!","mutual_you_and":"You and {name}","mutual_msg":"<span>liked each other</span> {dateDiff}"},"chat_photo_block":{"title":"To send {pronouns} a message,<br>add a photo","btn":"Choose a photo"},"mutual_message":{"title":"It\'s mutual!","text":"You liked each other <span>{dateDiff}</span>"},"profile":{"link":"View profile","btn_edit":"Edit","btn_vip":"Get<br>full access","vip_activated":"activated","btn_settings":"Settings"},"banner_photo":{"title":"Upload a photo to find a match more quickly","btn":"Choose a photo"},"profile_editor":{"title":"Edit profile","btn_view":"Browse","male":"M","female":"W","field_name":"Name","field_age":"Age, gender","field_target":"Relationship goal","field_sport":"Sports/exercise","field_music":"Music","field_movie":"Movies","field_books":"Books","field_hobby":"Hobbies","field_city":"City","section_about":"About me","section_interests":"My interests","section_location":"Location","about_description":"Write something interesting about yourself","about_description2":"Talk about something that would be interesting to learn about you when meeting you","about_placeholder":"I like / I can","btn_edit":"Edit","btn_add":"Add","user_name":{"label":"Your name","placeholder":"My name"},"geo":{"placeholder":"My city","message":"Choose another city","error":"Failed to detect your location"}},"field_editor":{"action_save":"Save","name_error_incorrect":"Enter your real name","name_error_long":"That name is too long","name_error_link":"Your name cannot contain links","name_invalid":"Invalid name","not_set":"Not specified"},"photo_gallery":{"title":"Add a photo of yourself soon","subtitle":"Otherwise no one will be able to see you","btn_photo":"Add a photo"},"photo_viewer":{"btn_add":"Upload new photo","btn_main":"Set as main photo","btn_delete":"Delete"},"app_settings":{"title":"Settings","field_terms":"User Agreement","privacy_policy":"Privacy Policy","support":"Help","delete":"Delete profile"},"user_profile":{"goals":"Relationship goal","interests":"My interests","job":"Profession","about":"More about me","city":"Where I am now","more":"{count} more photos","complain":"Complain","require_photo":"Add a photo to send {pronouns} a message","dialog_placeholder":"Send {pronouns} a message right now","dialog_locked":"Activate VIP status and send {pronouns} a message"},"vip_offer":{"title":"<span>VIP status</span><br>will improve your experience:","profit":["See who likes you and respond to them right away","Send an unlimited number of chat requests","No ads"],"price":"{price} per week","trial":"Try it for <span>{count}</span> <span>days for free</span>","discount":"<span>{count}%</span> off - right now only","discount_price":"{period} week for <span>{old_price}</span> <span>{price}</span>","restore":"Restore purchases","trial_price":"then <strong>{price}</strong> per month","discount_ios_price":"<strike>{old_price}</strike> <strong>{price}</strong> per month"},"billing":{"android":{"trial":"Become a VIP","buy":"Become a VIP"},"card":{"trial":"Activate with a card","buy":"Pay with a card"},"ios":{"trial":"Subscribe","buy":"Subscribe"},"survey":{"buy":"Start chatting"}},"discount_close":{"title":"Are you sure you want to decline the discount?","confirm":"Decline discount","reject":"Get {count}% off"},"push_permission":{"message":"{my_name}, <br>Swiping <span>right</span> means that you like {user_name}. Do you want to get a notification when {gender} responds?","male":"he","female":"she","accept":"Sure","decline":"No thanks"},"chat":{"exception":{"blacklisted":"You cannot write to this user because the user has blacklisted you."}},"delete_profile":{"title":"Delete your profile and all your contacts?","message":"This action cannot be undone<br><br>If you delete your profile, you will lose:<br><ul><li>Message history</li><li>Likes</li><li>VIP status (if you have it)</li></ul>","bnt_ok":"Delete profile","btn_cancel":"Cancel"},"upload_error":{"title":"Sorry, failed to upload photo","message":"Keep in mind that the minimum image size is 256x256 and the maximum file size is 20 MB."},"date":{"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"yesterday":"yesterday"},"start_promo":{"title":"Welcome!<br>Evermatch is just getting started","counter":"<strong>{number}</strong> users from {country} created accounts today","message":"Don\'t forget to check back in tomorrow to meet more new people","button":"Start dating","countries":{"ru":"Russia","br":"Brazil","tr":"Turkey","id":"Indonesia","fr":"France","in":"India","us":"USA","de":"Germany","gb":"UK","ca":"Canada"},"country":"USA"},"support_chat":{"name":"Support","placeholder":"Your message","message":"Hello! Something went wrong? Describe your problem"}}')},b107:function(t,e,i){}});
//# sourceMappingURL=app.337cb7bf.js.map